[{"title":"ChatGPTç®€å•ä½¿ç”¨ä½“éªŒ|ä½ çš„ä¸‹ä¸€ä¸ªGoogleï¼Œä½•å¿…æ˜¯æœç´¢å¼•æ“","tags":["AI"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\næœ€è¿‘openaiæ•´çš„[ChatGPT](https://chat.openai.com/chat)æœ‰ç‚¹å°ç«ï¼Œçœ‹äº†å®˜æ–¹å’Œæ°‘é—´çš„ä¸€äº›æˆªå›¾ä¹‹åï¼Œæ„Ÿè§‰è¿™ä¸œè¥¿ç¡®å®æœ‰ç‚¹æ„æ€ï¼Œæ‰€ä»¥å°±æƒ³åŠæ³•æ³¨å†Œäº†ä¸ªå·æ¥ä½“éªŒä½“éªŒã€‚\n\n","link":"/posts/ChatGPT-simple-exp","content":"\næœ€è¿‘openaiæ•´çš„[ChatGPT](https://chat.openai.com/chat)æœ‰ç‚¹å°ç«ï¼Œçœ‹äº†å®˜æ–¹å’Œæ°‘é—´çš„ä¸€äº›æˆªå›¾ä¹‹åï¼Œæ„Ÿè§‰è¿™ä¸œè¥¿ç¡®å®æœ‰ç‚¹æ„æ€ï¼Œæ‰€ä»¥å°±æƒ³åŠæ³•æ³¨å†Œäº†ä¸ªå·æ¥ä½“éªŒä½“éªŒã€‚\n\n<!-- more -->\n\nå…ˆè¯´ç»“è®ºï¼šChatGPTåƒä¸€é¢é•œå­ï¼Œåªè¦é—®é¢˜è¯¦å°½ï¼Œæè¿°æ¸…æ¥šï¼Œç”¨è¯ä¸“ä¸šï¼Œé‚£ä¹ˆå®ƒå°±èƒ½ç»™ä½ ä¸€ä¸ªåŸºæœ¬å‡†ç¡®çš„ç­”æ¡ˆï¼Œè¿™æ¯”ä½¿ç”¨è°·æ­Œæœç´¢è¦èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚ä½†æ˜¯æœ‰äº›é—®é¢˜å®ƒç»™å‡ºçš„ç­”æ¡ˆè¿˜æœ‰å¾…ä¼˜åŒ–ã€‚\n\nä¸‹é¢æ˜¯æˆ‘æé—®çš„ä¸€äº›é—®é¢˜ã€‚\n\nLinuxä½¿ç”¨ç›¸å…³\n---\n\nåˆ‡æ¢ä¸ªæ—¶åŒºï¼Œå®Œå…¨æ­£ç¡®ï¼Œç®€ç®€å•å•\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-20-57-25.webp)\n\nè£…ä¸ªdockerï¼Œå°‘è¯´äº†ä¸ªè¦åŠ ä¸Šdockerçš„æºä¹‹åæ‰èƒ½ç”¨aptå®‰è£…\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-20-59-13.webp)\n\nnginxçš„ä½¿ç”¨ï¼Œç¤ºä¾‹é…ç½®æ–‡ä»¶å†™çš„æ ¼å¼ä¹Ÿå¯¹\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-01-20.webp)\n\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-03-33.webp)\n\nè¿™ä¸ªæˆ‘æ„Ÿè§‰æœ€é€†å¤©ï¼Œå®ƒèƒ½é’ˆå¯¹ä¸€ä¸ªå…·ä½“çš„é¡¹ç›®ç»™å‡ºä½¿ç”¨æ–‡æ¡£\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-05-57.webp)\n\nPythonç¼–ç¨‹ç›¸å…³\n---\n\nå­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼Œ~~æˆ‘ä»¥ä¸ºå®ƒä¼šç»™æˆ‘å†™ä¸€ä¸ªacç®—æ³•~~ï¼Œæ²¡æƒ³åˆ°ç›´æ¥ç”¨çš„for inï¼Œåªèƒ½è¯´åˆä¸æ˜¯ä¸èƒ½ç”¨å§\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-15-11.webp)\n\nç®€å•çš„jsonä½¿ç”¨é—®é¢˜\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-16-28.webp)\n\npythonçš„æ—¥æœŸå’Œæ—¶é—´\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-17-41.webp)\n\næ¥æ’ä¸ªç»å…¸çš„è§£ç é—®é¢˜é”™è¯¯å§\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-19-37.webp)\n\nè¿˜è¦ç¬¬ä¸‰æ–¹åŒ…çš„å¯¼å…¥é—®é¢˜\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-24-13.webp)\n\nè¿™ä¸ªå°±æœ‰ç‚¹å‰å®³äº†ï¼Œç»™å‡ºçš„ç­”æ¡ˆåŸºæœ¬æ˜¯æ­£ç¡®çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœä½¿ç”¨Googleè§£å†³è¿™äº›é—®é¢˜ï¼Œé‚£ä¹ˆè¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´å»ç¿»çœ‹ä¸åŒç½‘ç«™çš„å›ç­”ï¼Œè¿˜ä¸ä¸€å®šå‡†ç¡®ã€‚\n\nå…¶ä»–\n---\n\næ¥é—®ä¸ªæˆ‘ä»¥å‰å†™è¿‡çš„æ–‡ç« ï¼ˆ\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-30-19.webp)\næœ‰ç‚¹å‰å®³ï¼Œä½†æ˜¯ä¸æ˜¯æˆ‘æƒ³è¦çš„ç»“æœï¼Œæˆ‘æ˜¯æƒ³æŠŠå›¾ç‰‡ç›´æ¥ä¿å­˜åœ¨æœ¬åœ°çš„ï¼Œæ‰€ä»¥æˆ‘åˆè¿½é—®å®ƒï¼š\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-33-17.webp)\nç»“æœç»™äº†æˆ‘ä¸€ä¸ªæœ€éº»çƒ¦çš„åŠæ³•ï¼Œæ‰€ä»¥æˆ‘ç»§ç»­è¿½é—®ï¼š\n![](/photo/post-pics/ChatGPT-simple-exp/ChatGPT-simple-exp_2022-12-05-21-35-23.webp)\nä¼¼ä¹æˆ‘æƒ³è¦çš„ç­”æ¡ˆè¦å‡ºæ¥äº†ï¼Œä½†æ˜¯å®ƒçªç„¶å¡å£³äº†ï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ğŸ˜…\n\næ€»ç»“\n---\n\nå°±è¿™æ ·ï¼Œæ€»ä½“æ„Ÿè§‰æ˜¯ï¼Œåœ¨æŸäº›åœºæ™¯å®ƒæ¯”Googleæ˜¯è¦å¥½ç”¨å¾ˆå¤šçš„ï¼Œä½†æ˜¯è¦è¯´å–ä»£è°·æ­Œï¼Œæˆ‘è§‰å¾—è¿˜æœ‰ç‚¹è·ç¦»ã€‚åœ¨ç®€å•è€Œè¶³å¤Ÿå…·ä½“çš„é—®é¢˜ä¸Šï¼Œä½¿ç”¨chatGPTè¦æ¯”ä½¿ç”¨Googleæ•ˆç‡é«˜çš„å¤šï¼Œä½†æ˜¯æ¯”è¾ƒæŠ½è±¡çš„é—®é¢˜å°±ä¸æ˜¯äº†ã€‚\n"},{"title":"å…³äºhexoæ¯æ¬¡ä¸Šä¼ githubåéƒ½ä¼šæ˜¾ç¤º404çš„è§£å†³æ–¹æ³•","tags":["hexo"],"categories":["å°æŠ€æœ¯"],"author":"æŸ¯ç½—krau","excerpt":"\nåœ¨åšå®¢ç›®å½•çš„\\sourceä¸­ï¼Œæ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¹¶å¡«å…¥ä½ çš„åŸŸåï¼Œä¿å­˜é€€å‡ºï¼Œç„¶ååˆ é™¤æ–‡ä»¶åç¼€åå³å¯ã€‚æ­¤æ—¶å†ä½¿ç”¨\n\n`hexo clean && hexo g -d`\n\næµ‹è¯•","link":"/posts/about-hexo404","content":"\nåœ¨åšå®¢ç›®å½•çš„\\sourceä¸­ï¼Œæ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¹¶å¡«å…¥ä½ çš„åŸŸåï¼Œä¿å­˜é€€å‡ºï¼Œç„¶ååˆ é™¤æ–‡ä»¶åç¼€åå³å¯ã€‚æ­¤æ—¶å†ä½¿ç”¨\n\n`hexo clean && hexo g -d`\n\næµ‹è¯•ä¸€ä¸‹çœ‹çœ‹å§\n"},{"title":"ä½¿ç”¨ACMEè„šæœ¬ç”³è¯·å¹¶é…ç½®SSLè¯ä¹¦","tags":["SSL"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n## å‰è¨€|ä¸ºä»€ä¹ˆé€‰æ‹©ACMEæ–¹æ³•\n\nè¦æƒ³é€šè¿‡TLS/httpsåè®®è®¿é—®è‡ªå·±åŸŸåä¸‹çš„æœåŠ¡ï¼Œå°±å¿…é¡»ç”³è¯·SSLè¯ä¹¦ã€‚ç±»ä¼¼å®å¡”è¿™ç§é¢æ¿æä¾›äº†ç®€å•å¿«æ·çš„æ–¹æ³•ä¸€é”®ç”³è¯·ï¼Œä½†ç»ˆç©¶ä¸æ˜¯è‰¯å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä¸€æ¥å®å¡”è¿‡äºè‡ƒè‚¿ï¼ŒäºŒæ¥å…¶éœ€è¦æ‰‹æœºå®åéªŒè¯ã€‚ä½¿ç”¨å„å¤§äº‘æœåŠ¡å•†æä¾›çš„ã€å…è´¹è¯ä¹¦ã€‘åˆ™è¿˜éœ€è¦ç™»å½•ç½‘é¡µã€ç”³è¯·ã€å¯¼å…¥è¯ä¹¦ï¼Œæœªå…æ“ä½œç¹çã€‚æ›´ä½•å†µè¿™äº›äº‘æœåŠ¡å•†æä¾›çš„sslè¯ä¹¦åªèƒ½ç»™ä½ å¾ˆå°‘çš„è‡ªç”±é€‰æ‹©æ€§ã€‚\n\nè€ŒACMEåˆ™å¾ˆå¥½åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚\n","link":"/posts/acmessl","content":"\n## å‰è¨€|ä¸ºä»€ä¹ˆé€‰æ‹©ACMEæ–¹æ³•\n\nè¦æƒ³é€šè¿‡TLS/httpsåè®®è®¿é—®è‡ªå·±åŸŸåä¸‹çš„æœåŠ¡ï¼Œå°±å¿…é¡»ç”³è¯·SSLè¯ä¹¦ã€‚ç±»ä¼¼å®å¡”è¿™ç§é¢æ¿æä¾›äº†ç®€å•å¿«æ·çš„æ–¹æ³•ä¸€é”®ç”³è¯·ï¼Œä½†ç»ˆç©¶ä¸æ˜¯è‰¯å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä¸€æ¥å®å¡”è¿‡äºè‡ƒè‚¿ï¼ŒäºŒæ¥å…¶éœ€è¦æ‰‹æœºå®åéªŒè¯ã€‚ä½¿ç”¨å„å¤§äº‘æœåŠ¡å•†æä¾›çš„ã€å…è´¹è¯ä¹¦ã€‘åˆ™è¿˜éœ€è¦ç™»å½•ç½‘é¡µã€ç”³è¯·ã€å¯¼å…¥è¯ä¹¦ï¼Œæœªå…æ“ä½œç¹çã€‚æ›´ä½•å†µè¿™äº›äº‘æœåŠ¡å•†æä¾›çš„sslè¯ä¹¦åªèƒ½ç»™ä½ å¾ˆå°‘çš„è‡ªç”±é€‰æ‹©æ€§ã€‚\n\nè€ŒACMEåˆ™å¾ˆå¥½åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚\n<!-- more -->\nç³»ç»Ÿç¯å¢ƒï¼šDebian\n\n## å‡†å¤‡å·¥ä½œä¸è„šæœ¬å®‰è£…\n\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œé¦–å…ˆå°†åŸŸåè§£æåˆ°æœåŠ¡å™¨çš„ipä¸Šã€‚\n\n### å®‰è£…\n\né¦–å…ˆå®‰è£…socatï¼Œå®ƒæ˜¯acmeæ‰€éœ€çš„ç»„ä»¶\n\n```shell\napt update\napt install socat -y\n```\n\nç„¶åå®‰è£…acmeè„šæœ¬\n\n```shell\ncurl https://get.acme.sh | sh\n```\n\nè„šæœ¬å®‰è£…åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„`.acme.sh`ï¼ˆéšè—ï¼‰æ–‡ä»¶å¤¹å†…ï¼Œä½¿ç”¨ `. .bashrc` è®©acme.shå‘½ä»¤ç”Ÿæ•ˆ\n\næ¥ä¸‹æ¥ä½¿ç”¨è„šæœ¬ç”³è¯·è¯ä¹¦\n\n## è¯ä¹¦ç”³è¯·\n\né¦–å…ˆæ³¨å†ŒCAè´¦æˆ·ï¼Œå°†ä¸‹åˆ—å‘½ä»¤ä¸­çš„é‚®ç®±æ”¹ä¸ºè‡ªå·±çš„é‚®ç®±åœ°å€\n\n```shell\nacme.sh --register-account -m xxxx@xxxx.com\n```\n\næ³¨å†ŒæˆåŠŸçš„è¾“å‡ºç»“æœå¦‚ä¸‹\n\n![1](/photo/post-pics/acmessl/acmessl1.webp)_æ³¨å†ŒæˆåŠŸ\n\nç„¶åç”³è¯·è¯ä¹¦ï¼Œæ¥ä¸‹æ¥çš„æ–¹æ³•æœ‰å¤šç§ï¼Œæ ¹æ®è‡ªå·±æƒ…å†µé€‰æ‹©å¯ç”¨çš„ä¸€ç§å³å¯\n\n### ç›‘å¬80ç«¯å£ç”³è¯·è¯ä¹¦\n\nå¦‚æœæœåŠ¡å™¨çš„80ç«¯å£ç©ºé—²ï¼Œä¸”èƒ½å¤Ÿè®¿é—®ï¼Œå¯ä»¥è®©acmeä¸´æ—¶ç›‘å¬80ç«¯å£ï¼Œå®ŒæˆéªŒè¯ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚å°†domain.comæ”¹ä¸ºè‡ªå·±çš„åŸŸå\n\n```shell\nacme.sh --issue -d domain.com --standalone\n```\n\n### é€šè¿‡NginxæœåŠ¡ç”³è¯·\n\nå¦‚æœæœåŠ¡å™¨ä¸Šå·²ç»å®‰è£…äº†nginxï¼Œä¸”ç½‘é¡µèƒ½å¤Ÿæ­£å¸¸æ‰“å¼€ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯é€šè¿‡nginxéªŒè¯å¹¶ç”³è¯·è¯ä¹¦ã€‚\n\n```shell\nacme.sh --issue -d mydomain.com --nginx\n```\n\n---\nå¦‚æœæˆåŠŸç”³è¯·äº†è¯ä¹¦ï¼Œå°†ä¼šçœ‹åˆ°çš„è¾“å‡ºç»“æœæ˜¯ä¸€é•¿ä¸²è‡ªå·±çš„è¯ä¹¦å’Œè¯ä¹¦æ–‡ä»¶å­˜æ”¾è·¯å¾„ã€‚\n\n## å®‰è£…è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„\n\nç”Ÿæˆçš„è¯ä¹¦æ–‡ä»¶é»˜è®¤å­˜æ”¾åœ¨ä¸acme.shè„šæœ¬ç›¸åŒæ–‡ä»¶å¤¹å†…ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸åº”ç›´æ¥ä½¿ç”¨è¯¥è·¯å¾„ä¸‹çš„è¯ä¹¦æ–‡ä»¶ï¼Œè€Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…è¯ä¹¦åˆ°æŒ‡å®šè·¯å¾„ã€‚\n\n```shell\nacme.sh --install-cert -d domain.com --key-file <path>privkey.pem --fullchain-file <path>fullchain.pem\n```\n\nå…¶ä¸­`--key-file <path>privkey.pem`æŒ‡å®šçš„ä¸ºç§é’¥æ–‡ä»¶ï¼Œ`--fullchain-file <path>fullchain.pem`ä¸ºè¯ä¹¦æ–‡ä»¶ã€‚\n\ndone\n\n## å–„åå·¥ä½œ\n\nåœ¨å®‰è£…acme.shè„šæœ¬æ—¶ï¼Œå®ƒè‡ªåŠ¨ä¸ºåˆ›å»º cronjob, æ¯å¤© 0:00 ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦, å¦‚æœå¿«è¿‡æœŸäº†, éœ€è¦æ›´æ–°, åˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€‚\nä½†ç”±äºacme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿåº”å½“ç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥ã€‚å‚è€ƒä»¥ä¸‹å‘½ä»¤\n\n```shell\nacme.sh --upgrade --auto-upgrade  #å¼€å¯acmeçš„è‡ªåŠ¨æ›´æ–°\nacme.sh --upgrade --auto-upgrade 0  #å…³é—­è‡ªåŠ¨æ›´æ–°\n```\n"},{"title":"ä¸º valaxy åšå®¢ yun ä¸»é¢˜æ·»åŠ  artitalk è¯´è¯´é¡µé¢","tags":["åšå®¢"],"categories":["å°æŠ€æœ¯"],"author":"æŸ¯ç½—krau","excerpt":"## Artitalk\n\n[Artitalk](https://artitalk.js.org/) æ˜¯ä¸€ä¸ªåŸºäº Leancloud çš„ç®€å•è¯´è¯´ jsï¼Œå…·ä½“å‚è§å®˜æ–¹æ–‡æ¡£ã€‚\n\næˆ‘æˆåŠŸå°†å®ƒæ¥å…¥äº†æˆ‘çš„åšå®¢ï¼Œ[","link":"/posts/add-artitalk-for-valaxy-yun","content":"## Artitalk\n\n[Artitalk](https://artitalk.js.org/) æ˜¯ä¸€ä¸ªåŸºäº Leancloud çš„ç®€å•è¯´è¯´ jsï¼Œå…·ä½“å‚è§å®˜æ–¹æ–‡æ¡£ã€‚\n\næˆ‘æˆåŠŸå°†å®ƒæ¥å…¥äº†æˆ‘çš„åšå®¢ï¼Œ[ç‚¹è¿™é‡Œçœ‹çœ‹](https://krau.top/about)ã€‚ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹æ¥å…¥æ–¹æ³•ã€‚\n\n> ç”±äºæ„å»ºä¸Šçš„ä¸€äº›é—®é¢˜ï¼Œæˆ‘æŠŠå®ƒæš‚æ—¶ç§»é™¤äº†\n\n## æ³¨å†Œå¹¶é…ç½® Leancloud\n\nè¿™ä¸€æ­¥ä¸å®˜æ–¹æ–‡æ¡£å®Œå…¨ç›¸åŒï¼Œ[ç‚¹å‡»æŸ¥çœ‹](https://artitalk.js.org/doc.html#%F0%9F%8C%88-leancloud-%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%86%E5%A4%87)\n\n## é…ç½® valaxy\n\nåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»º index.hemlï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n    <link rel=\"icon\" href=\"favicon.ico\">\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n    <noscript>\n      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>\n    </noscript>\n    <div id=\"app\"></div>\n      <script src=\"https://cdn.jsdelivr.net/npm/artitalk\"></script>\n  </body>\n</html>\n```\n\nç„¶ååœ¨ /components/ ç›®å½•ä¸‹ï¼Œæ–°å»º Artitalk.vue ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹\n\n```vue\n<template>\n  <div id=\"artitalk_main\" />\n</template>\n\n<script>\nexport default {\n  mounted() {\n    function addScript(url) {\n      var s = document.createElement(\"script\");\n      s.id = \"at\";\n      url.indexOf(\"appId\") == -1 ? (s.src = url) : (s.innerHTML = url);\n      document.head.appendChild(s);\n    }\n    addScript(`\n      new Artitalk({\n          appId: 'ä½ çš„appid',\n          appKey: 'ä½ çš„key',\n          shuoPla: '',\n          bgImg: 'https://cdn.jsdelivr.net/gh/drew233/cdn/20200409110727.webp',\n          atEmoji: {\n              huaji: 'https://cdn.jsdelivr.net/gh/moezx/cdn@3.1.9/img/Sakura/images/smilies/icon_huaji.gif',\n              baiyan: 'https://cdn.jsdelivr.net/gh/Artitalk/Artitalk-emoji/baiyan.png',\n              bishi: 'https://cdn.jsdelivr.net/gh/Artitalk/Artitalk-emoji/bishi.png',\n              bizui: 'https://cdn.jsdelivr.net/gh/Artitalk/Artitalk-emoji/bizui.png',\n              chan: 'https://cdn.jsdelivr.net/gh/Artitalk/Artitalk-emoji/chan.png'          \n          },\n      })\n    `);\n  },\n  destroyed() {\n    document\n      .querySelectorAll(\"#at\")\n      .forEach(element => element.parentNode.removeChild(element));\n    delete window.AV;\n  }\n};\n</script>\n```\n\nè¿™æ ·å°±å¯ä»¥å•¦ã€‚åœ¨ä½ æƒ³è¦æ˜¾ç¤ºè¯´è¯´çš„é¡µé¢(.mdæ–‡ä»¶)é‡Œï¼Œå†™ä¸Š`<Artitalk />` å°±å¯ä»¥æ˜¾ç¤ºäº†ã€‚\n\n## é—®é¢˜\n\nç›®å‰ Artitalk åªæ”¯æŒä»¥ Leancloud ä½œä¸ºæ•°æ®åº“ï¼Œå¹¶ä¸” cdn ç”¨çš„è¿˜æ˜¯ jsdeliverï¼Œé€Ÿåº¦æ„Ÿäººã€‚æˆ‘æäº† issue å¸Œæœ›èƒ½æ”¯æŒæ›´å¤šéƒ¨ç½²æ–¹å¼ï¼Œä¸è¿‡çœ‹èµ·æ¥ä½œè€…å·²ç»å¤±è¸ªæœ‰ä¸€æ®µæ—¶é—´äº†...\n\nå¯æƒœæˆ‘ä¸ä¼š jsï¼Œåªèƒ½ç­‰å¤§ä½¬å®ç°å•¦ã€‚~~ç°åœ¨åˆä¸æ˜¯ä¸èƒ½ç”¨~~\n"},{"title":"åŠ¨ç”»ç”µå½± HELLO WORLD","tags":["ACG","åŠ¨ç”»"],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\n![1](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173731.jpg)\n\n![2](https://cdn.jsde","link":"/posts/anime-helloworld","content":"\n![1](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173731.jpg)\n\n![2](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173903.jpg)\n\n![3](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173932.jpg)\n\n![4](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173940.jpg)\n\n![5](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173949.jpg)\n\n![6](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424173958.jpg)\n\n![7](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174018.jpg)\n\n![8](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174027.jpg)\n\n![9](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174037.jpg)\n\n![10](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174045.jpg)\n\n![11](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174059.jpg)\n\n![12](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174108.jpg)\n\n![13](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174121.jpg)\n\n![14](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174135.jpg)\n\n![15](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174146.jpg)\n\n![16](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174226.jpg)\n\n![17](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174237.jpg)\n\n![18](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174246.jpg)\n\n![19](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174257.jpg)\n\n![20](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174306.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174353.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174403.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174416.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174423.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174431.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174448.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174537.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174547.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174556.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174606.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174612.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174622.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174700.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174631.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174640.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174649.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174715.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174734.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174745.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174758.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174805.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174814.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174823.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174836.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174846.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174853.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174902.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174914.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174923.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174943.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424174955.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175004.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175013.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175023.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175032.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175045.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175052.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175151.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175205.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175300.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175309.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175330.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175338.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175347.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175354.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175401.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175412.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175422.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175433.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175443.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200424175452.jpg)\n\n---\n\n## çŸ­è¯„\n\nè¿™æ˜¯ä¸€éƒ¨ä»¥ç§‘å¹»å’Œæ‹çˆ±ä¸ºé¢˜æçš„åŠ¨ç”»ç”µå½±ã€‚æ•…äº‹èµ·å› æ˜¯2027å¹´çš„äº¬éƒ½ä¸€åé«˜ä¸­ç”Ÿç›´å®é¢å‰ï¼Œçªç„¶å‡ºç°æ¥è‡ªåå¹´åçš„è‡ªå·±ï¼Œå¹¶å¸Œæœ›å’Œä»–ä¸€èµ·æ”¹å˜æœªæ¥ï¼Œæ‹¯æ•‘ä¸‰ä¸ªæœˆåçš„æ‹äººä¸€è¡Œç‘ ç’ƒã€‚æ•´ä½“ä½œç”»ä¸‰æ¸²äºŒï¼Œæå…·ä¸ªæ€§ã€‚å‰§æƒ…åè½¬ç¦»å¥‡ï¼Œå‡ºå…¶ä¸æ„è€Œåˆåˆæƒ…åˆç†ã€‚æ ‡é¢˜ã€HELLO WORLDã€ä¸€è¯­åŒå…³ï¼Œé¢„ç¤ºæ•…äº‹æ•´ä½“ä¸–ç•Œè§‚æ˜¯æ•°æ®æ„å»ºçš„ä¸–ç•Œï¼Œåˆæœ‰å‘ä¸–ç•Œé—®å¥½ä¹‹æ„ï¼Œä¸ç»“å°¾â€œè¿™ä¸€å®šæ˜¯ä¸€ä¸ªå…¨æ–°çš„ä¸–ç•Œâ€ç›¸ç…§åº”ã€‚åœ¨åµŒå¥—æˆ–å¹³è¡Œçš„ä¸–ç•Œä¸­å¯»è§…è™šæ‹Ÿä¸çœŸå®ï¼Œçœ‹ä¼¼é…·ä¼¼ã€æºä»£ç ã€æˆ–ã€ç›—æ¢¦ç©ºé—´ã€ï¼Œå®é™…ä¸Šå´æœ‰æå¤§åˆ›æ–°ï¼Œå°¤å…¶æ˜¯ä¸¤ä¸ªä¸åŒæ—¶é—´è½´ä¸Šçš„ç”·ä¸»çš„è®¾å®šæ›´å‡åäº†æ„Ÿæƒ…ã€‚\n\n>\"ä¸è®ºä¸–ç•Œå¦‚ä½•å´©åï¼Œæˆ‘æƒ³å†è§ä½ ä¸€é¢ï¼ï¼\"\n\nå·²ç¡®å®šæ¶ˆæ¯ä»Šå¹´ä¼šå¼•å…¥å›½å†…\n"},{"title":"å£°ä¹‹å½¢","tags":["ACG","åŠ¨ç”»"],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\n## The shape of voice\n\n","link":"/posts/anime-the-shape-of-voice","content":"\n## The shape of voice\n\n<!-- more -->\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705222922.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223001.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223156.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223337.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223353.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223650.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223703.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223715.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223743.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223824.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223925.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223940.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705223951.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705224001.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200705224018.jpg)\n\n![](https://i.loli.net/2020/07/05/HkYW9sl87KESJfd.jpg)\n\n![](https://img.asnet.ga/i/2020/07/06/ddsx5z.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706080952.jpg)\n\n![](https://img.asnet.ga/i/2020/07/06/3q50y91.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706081209.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706081228.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706081241.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706081543.jpg)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200706081559.jpg)\n\n![](https://pic.downk.cc/item/5f026fbf14195aa594b4d9fb.jpg)\n\n![](https://pic.downk.cc/item/5f026fed14195aa594b4ee00.jpg)\n\n![](https://pic.downk.cc/item/5f026fed14195aa594b4ee02.jpg)\n\n![](https://pic.downk.cc/item/5f026fed14195aa594b4ee04.jpg)\n\n![](https://pic.downk.cc/item/5f026fed14195aa594b4ee07.jpg)\n\n![](https://pic.downk.cc/item/5f026fed14195aa594b4ee0c.jpg)\n\n![](https://pic.downk.cc/item/5f02700814195aa594b4f8c1.jpg)\n![](https://pic.downk.cc/item/5f02700814195aa594b4f8c3.jpg)\n![](https://pic.downk.cc/item/5f02700814195aa594b4f8c8.jpg)\n![](https://pic.downk.cc/item/5f02700814195aa594b4f8cc.jpg)\n![](https://pic.downk.cc/item/5f02700814195aa594b4f8ce.jpg)\n![](https://pic.downk.cc/item/5f02701a14195aa594b50087.jpg)\n![](https://pic.downk.cc/item/5f02701a14195aa594b5008a.jpg)\n![](https://pic.downk.cc/item/5f02701a14195aa594b5008e.jpg)\n![](https://pic.downk.cc/item/5f02701a14195aa594b50092.jpg)\n![](https://pic.downk.cc/item/5f02701a14195aa594b50095.jpg)\n![](https://pic.downk.cc/item/5f02702b14195aa594b50795.jpg)\n![](https://pic.downk.cc/item/5f02702b14195aa594b50799.jpg)\n![](https://pic.downk.cc/item/5f02702b14195aa594b5079c.jpg)\n![](https://pic.downk.cc/item/5f02702b14195aa594b5079e.jpg)\n![](https://pic.downk.cc/item/5f02702b14195aa594b507a5.jpg)\n![](https://pic.downk.cc/item/5f02703914195aa594b50e0a.jpg)\n![](https://pic.downk.cc/item/5f02703914195aa594b50e0c.jpg)\n![](https://pic.downk.cc/item/5f02703914195aa594b50e0e.jpg)\n![](https://pic.downk.cc/item/5f02703914195aa594b50e10.jpg)\n![](https://pic.downk.cc/item/5f02703914195aa594b50e12.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515ac.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515ae.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515b0.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515b2.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515b7.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515ac.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515ae.jpg)\n![](https://pic.downk.cc/item/5f02704a14195aa594b515b0.jpg)\n![](https://pic.downk.cc/item/5f0270d814195aa594b547f5.jpg)\n![](https://pic.downk.cc/item/5f0270d814195aa594b547f7.jpg)\n![](https://pic.downk.cc/item/5f0270e414195aa594b54cb7.jpg)\n![](https://pic.downk.cc/item/5f0270e414195aa594b54cb9.jpg)\n![](https://pic.downk.cc/item/5f0270e414195aa594b54cbe.jpg)\n"},{"title":"åšå®¢ä¸€å‘¨å¹´ï¼","tags":[],"categories":"å‘Šç¤ºç‰Œ","author":"æŸ¯ç½—krau","excerpt":"\næœ¬åšå®¢è‡ª2020.3.9å»ºç«™ä»¥æ¥å·²ç»ä¸€å¹´å•¦\n\næˆªæ­¢ç›®å‰ï¼Œæ€»æµè§ˆé‡11682æ¬¡ï¼Œè®¿å®¢4291äººï¼ˆæ•°æ®æ¥æºï¼šbusuanziï¼‰\n\næ„Ÿè°¢å„ä½æœ‹å‹çš„æ”¯æŒ\n","link":"/posts/anniversary1","content":"\næœ¬åšå®¢è‡ª2020.3.9å»ºç«™ä»¥æ¥å·²ç»ä¸€å¹´å•¦\n\næˆªæ­¢ç›®å‰ï¼Œæ€»æµè§ˆé‡11682æ¬¡ï¼Œè®¿å®¢4291äººï¼ˆæ•°æ®æ¥æºï¼šbusuanziï¼‰\n\næ„Ÿè°¢å„ä½æœ‹å‹çš„æ”¯æŒ\n"},{"title":"ArchLinux on Y9000P2022ååˆ†å¥½ç”¨,å°±æ˜¯æœ‰ç‚¹éš¾ç”¨","tags":["Linux"],"categories":["æ—¥å¸¸"],"author":"æŸ¯ç½—krau","excerpt":"å—ä¸äº†å•¦ï¼Œç»™ç¬”è®°æœ¬è£…ä¸Š Arch æŠ˜ç£¨è‡ªå·±ï¼\n","link":"/posts/archlinux-on-y9kp22-1","content":"å—ä¸äº†å•¦ï¼Œç»™ç¬”è®°æœ¬è£…ä¸Š Arch æŠ˜ç£¨è‡ªå·±ï¼\n<!-- more -->\n\n## èµ·å› \n\nçªç„¶æƒ³å®‰è£… Arch çš„ç†ç”±ï¼š\n\n1. é…·ï¼ä¸è§‰å¾—è¿™å¾ˆé…·å—ï¼Œåšä¸ºä¸€ä¸ªç†ç§‘ç”Ÿæˆ‘è§‰å¾—ç”¨ä¸€ä¸ªå®Œå…¨æ‰‹åŠ¨å®‰è£…çš„Linuxå‘è¡Œç‰ˆçœŸçš„å¤ªé…·äº†ï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹å¸¦é»‘å®¢çš„æƒ³è±¡ï¼\n2. è‡ªç”±ï¼ä¸åŒäºä¹Œç­å›¾ã€opensuseã€centosè¿™äº›å…·æœ‰å®ä½“ç»´æŠ¤è€…ï¼ˆå•†ä¸šå…¬å¸ï¼‰çš„å‘è¡Œç‰ˆï¼ŒArchæ˜¯ç”±ç¤¾åŒºé©±åŠ¨çš„ï¼Œå±äºè‡ªç”±é˜µè¥ï¼ä¸ä¼šå—åˆ°å„ç§å¥‡æ€ªæ³•å¾‹çš„ç®¡è¾–ï¼\n3. ç®€æ´ï¼Archè¿å®‰è£…çš„guiå›¾å½¢ç•Œé¢éƒ½æ²¡æœ‰ï¼Œéœ€è¦ä»€ä¹ˆéƒ½è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…ï¼Œæœ€åçš„ç³»ç»Ÿç»„ä»¶å’Œåº”ç”¨å°†ä¼šä¸å¤šä¹Ÿä¸å°‘ï¼Œç¬¦åˆè‡ªå·±çš„éœ€æ±‚ã€‚\n4. è½¯ä»¶ä¸°å¯Œï¼ç»å¤§å¤šæ•°è½¯ä»¶å·²ç»æœ‰å…¶ä»–äººå¸®ä½ æ‰“åŒ…å¥½äº†ï¼Œå®‰è£…å°±æ˜¯ä¸€æ¡å‘½ä»¤è§£å†³ï¼\n5. ä¸æƒ³ç”¨winäº†ï¼ä½†æ˜¯ä¸æƒ³ç”¨ä¹Œç­å›¾ï¼Œå¤ªè‡ƒè‚¿äº†ï¼ä¹Ÿä¸æƒ³ç”¨debianï¼Œå¤ªåœŸäº†ï¼\n6. ç¼–ä¸åŠ¨äº†\n\nç”µè„‘æ˜¯æ‹¯æ•‘è€…Y9000P2022æ¬¾ï¼Œé…ç½®ï¼š\n\n- CPUï¼šI7 12700H\n- GPUï¼šRTX3060M\n\n## å…³äºå¦‚ä½•å®‰è£…\n\nå¾ˆç®€å•ï¼ŒæŸ¥ [Archlinuxå®˜æ–¹wiki](https://wiki.archlinux.org/) å°±å¯ä»¥äº†ã€‚å«Œå®˜æ–¹çš„ä¸å¤Ÿå‹å¥½çš„è¯å¯ä»¥çœ‹è¿™ä¸ªï¼š[ArchLinuxç®€æ˜æŒ‡å—](https://arch.icekylin.online/)\n\n## é‡åˆ°çš„é—®é¢˜\n\n### Nvidiaæ˜¾å¡é©±åŠ¨\n\nSoNvidiaFUCKYOU!\næŠ˜è…¾äº†å¾ˆé•¿æ—¶é—´ï¼Œè¿™nå¡çš„é©±åŠ¨å°±æ˜¯è£…ä¸ä¸Šï¼Œæœ€åæ˜¯é‡è£…äº†ç³»ç»Ÿï¼Œç„¶åå®‰è£…å¼€æºç‰ˆé©±åŠ¨è§£å†³äº†ï¼š\n\n`sudo pacman -S nvidia-open`\n\nå®‰è£…ä¹‹åçš„å¤„ç†å’Œwikié‡Œæ˜¯ä¸€æ ·çš„ï¼Œå¥½åƒæ¯”è¾ƒæ–°çš„å‹å·çš„æ˜¾å¡ï¼ˆ30ç³»ï¼‰éƒ½æ˜¯è¦å®‰è£…è¿™ä¸ªé©±åŠ¨ã€‚\n\nè¿™ä¸ªå¼€æºç‰ˆå¹¶ä¸æ˜¯ç¤¾åŒºçš„é‚£ä¸ªé€†å‘å‡ºæ¥çš„å¼€æºç‰ˆï¼Œè€Œæ˜¯nvidiaå®˜æ–¹ç»™çš„ï¼Œæ€§èƒ½æ˜¯æ²¡æœ‰å¤ªå¤§é—®é¢˜çš„\n\n### Nvidiaå¯¹waylandçš„å…¼å®¹æ€§\n\nSoNvidiaFUCKYOU!\n\nnå¡+linuxæ¡Œé¢=shit!Nå¡ç”¨æˆ·å»ºè®®æš‚æ—¶ä¸è¦ç”¨waylandï¼Œè€è€å®å®Xorgï¼Œå…¼å®¹æ€§æ¯”waylandå¥½å¤ªå¤šäº†ã€‚\n\n### å¤šæ˜¾ç¤ºå™¨æ— æ³•æ­£å¸¸ä½¿ç”¨\n\nç®€å•æ¥è¯´è¿™è¿˜æ˜¯Nå¡çš„é”…ï¼Œå„ç§æŠ˜è…¾å°è¯•æœ‰å¯èƒ½ä¼šè§£å†³ï¼Œç„å­¦å°±æ˜¯äº†ã€‚\n\næˆ‘èƒ½æ­£å¸¸ä½¿ç”¨å¤šæ˜¾ç¤ºå™¨çš„æƒ…æ™¯æœ‰ä¸¤ä¸ªï¼š\n\n1. BIOSè®¾ç½®æ··åˆæ¨¡å¼ï¼Œå®‰è£… `optimus-manager` å¼€æ ¸æ˜¾æ¨¡å¼ã€‚\n2. BIOSå¼€ç‹¬æ˜¾ç›´è¿ï¼ŒæŠŠnvidiaé©±åŠ¨å†™è¿›æ—©åŠ è½½ï¼Œä¸è¦å®‰è£… `optimus-manager`ã€‚\n\nå¦å¤–è¿™ä¸¤ç§æ¨¡å¼éƒ½æ˜¯Xorgï¼Œnvidiaå¯¹waylandçœŸçš„æ²¡å•¥å…¼å®¹æ€§ï¼Œä¼šå‡ºç°ä¸€å †å¥‡æ€ªé—®é¢˜ã€‚\n\n### è“ç‰™è€³æœºæ— æ³•è¿æ¥\n\nå®‰è£…è¿™ä¸ªå°±å¯ä»¥äº†\n\n`sudo pacman -S bluez bluez-utils pulseaudio-bluetooth`\n\n## ä½“éªŒ\n\nå¤ªå¥½ç”¨å•¦ï¼æ‰€æœ‰è½¯ä»¶éƒ½ç”¨pacmanæˆ–è€…yayç›´æ¥å®‰è£…ï¼Œå¹¶ä¸”èƒ½çº³å…¥æ»šåŠ¨å‡çº§ä¸­ã€‚\n\n### èŠå¤©é€šè®¯\n\nTelegramï¼šå­—ä½“æœ‰é—®é¢˜ï¼Œå®‰è£…äº†å‡ ä¸ªä¸­æ–‡å­—ä½“ä¹‹åæ­£å¸¸äº†ï¼Œä½“éªŒå’Œwinæ˜¯ä¸€æ ·çš„ï¼Œtgå®˜æ–¹å¯¹äºlinuxå¹³å°ä¹Ÿæ˜¯ä¸‹äº†ç²¾åŠ›çš„ã€‚å®åœ¨ä¸è¡Œè¿˜èƒ½ç”¨webç«¯ã€‚\n\nQQï¼šä½ æ²¡äº‹å§ï¼Ÿè·Ÿå¼ å°é¾™å­¦ä¼šäº†ç™»ä¸ªå·è¿˜å¾—æ‰‹æœºæ‰«ç ï¼Ÿå£åŒºã€‚è€Œä¸”ç™»å½•çš„æ—¶å€™è¿˜ä¼šæç¤ºå®‰å…¨é£é™©ï¼Œéš¾ç»·ï¼Œä¸æ„§æ˜¯è…¾è®¯ã€‚\n\n### æµè§ˆå™¨\n\nç«ç‹ï¼Œå¾ˆä¸é”™ã€‚ä½†æ˜¯ç¼©æ”¾æœ‰æ—¶å€™ä¼šå‡ºé—®é¢˜ï¼Œæ‰“å¼€çš„æ—¶å€™ç•Œé¢çªç„¶å¾ˆå°æˆ–è€…å¾ˆå¤§...åº”è¯¥æ˜¯æˆ‘å¤šæ˜¾ç¤ºå™¨çš„åŸå› ã€‚\n\nç„¶åè¿˜è¯•äº†è¯• braveï¼Œåªèƒ½è¯´å¥½åƒæ²¡å¤šå¥½ç”¨ï¼Œè€Œä¸”ä¸€è‚¡å­å»ä¸­å¿ƒåŒ–web3åŒºå—é“¾è™šæ‹Ÿå¸çš„å‘³é“ã€‚\n\n### æ¸¸æˆ\n\nå‡ºä¹æ„æ–™çš„æµç•…å•Šï¼è°è¯´çš„linuxæ‰“æ¸¸æˆæ˜¯pptçš„ï¼Œä½“éªŒå’Œwinæ²¡æ„ŸçŸ¥ä¸Šçš„å·®è·ã€‚å½“ç„¶å¯èƒ½æ˜¯æˆ‘ä¸ç©ä»€ä¹ˆ3aå¤§ä½œï¼ˆå®é™…ä¸Šæ¥è¯´æˆ‘å‡ ä¹ä¸ç©æ¸¸æˆäº†ï¼‰ï¼Œç©äº† muse dash è¿™ä¸ªéŸ³æ¸¸è¯•äº†ä¸‹ï¼Œä½“éªŒçœŸçš„å’Œwinæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚\n\n### å¼€å‘ä¸è¿ç»´\n\nç»ˆç«¯è½¯ä»¶ç”¨çš„æ˜¯ Termiusï¼ˆå­¦ç”ŸåŒ…ç™½å«–çš„ä¸ç”¨ç™½ä¸ç”¨ï¼‰ï¼ŒIDEè¿˜æ˜¯vscodeã€‚\n\nå¥½ç”¨ï¼\n\n---\n\nå¿«æ¥åŠ å…¥Arché‚ªæ•™å§ï¼\n\né¡ºä¾¿ï¼ŒArchçš„å›¾æ ‡çœŸçš„æ˜¯å¤ªå¥½çœ‹å•¦ï¼\n\n![å›¾ç‰‡.png](https://s2.loli.net/2023/02/20/C2uoFdGhVQZrwvb.png)\n"},{"title":"dairy-butterfly","tags":["æ—¥è®°"],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\næ™šè‡ªä¹ ï¼Œæ•™å®¤é‡Œé£æ¥ä¸€åªè´è¶ã€‚\n\né»‘è‰²çš„ç¿…è†€ç‚¹ç¼€ç€å‡ ç‚¹æ©™è‰²ï¼ŒçµåŠ¨åœ°åœ¨æ•™å®¤é‡Œé£ç€ã€‚ä»å‰æ’é£åˆ°åæ’ï¼Œåˆå¢™è§’é£åˆ°ä¸­å¤®ï¼Œä»è¿‡é“é£åˆ°è®²å°ï¼Œåœ¨æ•™å®¤é‡Œè½¬ç€åœˆã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯åŠæ‰‡çš„é£å¤ªå¤§çš„ç¼˜æ•…ï¼Œå®ƒå¿½ä¸Šå¿½ä¸‹åœ°ç¿»æ—‹ã€‚\n\næœ¬","link":"/posts/dairy-butterfly","content":"\næ™šè‡ªä¹ ï¼Œæ•™å®¤é‡Œé£æ¥ä¸€åªè´è¶ã€‚\n\né»‘è‰²çš„ç¿…è†€ç‚¹ç¼€ç€å‡ ç‚¹æ©™è‰²ï¼ŒçµåŠ¨åœ°åœ¨æ•™å®¤é‡Œé£ç€ã€‚ä»å‰æ’é£åˆ°åæ’ï¼Œåˆå¢™è§’é£åˆ°ä¸­å¤®ï¼Œä»è¿‡é“é£åˆ°è®²å°ï¼Œåœ¨æ•™å®¤é‡Œè½¬ç€åœˆã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯åŠæ‰‡çš„é£å¤ªå¤§çš„ç¼˜æ•…ï¼Œå®ƒå¿½ä¸Šå¿½ä¸‹åœ°ç¿»æ—‹ã€‚\n\næœ¬æ¥æ²¡æœ‰äººåœ¨æ„è¿™åªç­çº§çš„ä¸é€Ÿä¹‹å®¢ï¼Œä½†å®ƒå°±è¿™æ ·ä¸€ç›´ç›˜æ—‹äº†ååˆ†é’Ÿå¤šï¼Œä»¥è‡³äºè¿åæ’å¤‡è¯¾çš„è€å¸ˆçš„æ³¨æ„åŠ›éƒ½è¢«å®ƒå¸å¼•äº†ï¼Œå½“è€å¸ˆç«™èµ·æ¥æƒ³é€å®ƒå‡ºé—¨æ—¶ï¼Œå´åˆæ‰¾ä¸åˆ°äº†å®ƒã€‚\n\nè¿‡äº†ä¸€ä¼šï¼Œè¿˜æ˜¯ä¸è§å®ƒçš„èº«å½±ï¼Œæˆ‘æœ›å‘åº§è¾¹çª—æˆ·æƒ³è¦æ”¾æ¾ä¸€ä¸‹çœ¼ç›ï¼Œæ­£å·§çœ‹åˆ°å®ƒè½åœ¨äº†é‚£é‡Œã€‚æˆ‘å¯¹é‚»æ¡Œè¯´ï¼Œä½ çœ‹è¿™åªè´è¶æ€ä¹ˆåœåœ¨æˆ‘ä»¬è¿™é‡Œä¸èµ°äº†ã€‚â€œå…³ä½ ä»€ä¹ˆäº‹â€ï¼Œæ¢æ¥çš„æ˜¯ä¸€å¥æ¼«ä¸ç»å¿ƒçš„å›å¤ã€‚\n\nä¸‹è¯¾äº†ï¼Œå››å‘¨çš„äººä¹Ÿéƒ½æ³¨æ„åˆ°äº†è¿™åªé»‘è´è¶ï¼Œäºæ˜¯åŒç»„çš„åŒå­¦è¯´èµ·äº†è‡ªå·±ä»¥å‰æŠ“è´è¶çš„äº‹ã€‚\n\nååœ¨æˆ‘å‰é¢çš„åŒå­¦æ‹¿èµ·ç¬”ï¼Œå¯¹ç€è¿™åªè´è¶å‡†å¤‡ä¸‹æ€æ‰‹ã€‚æˆ‘çš„å¿ƒé‡Œå’¯å™”ä¸€ä¸‹ã€‚ä½†æ—è¾¹çš„å‡ ä¸ªäººæ‹¦ä½äº†ä»–ï¼Œè¿‡äº†ä¸€ä¼šï¼Œé‚£ä½åŒå­¦åˆæƒ³å»æ‰æ­»å®ƒï¼Œæˆ‘æ…Œå¿™ç«™äº†èµ·æ¥ï¼ŒæŠ¢å…ˆä»–ä¸€æ­¥ï¼Œå»æŠ“é‚£åªè´è¶çš„ç¿…è†€ï¼Œäºæ˜¯å®ƒé£èµ°äº†ã€‚\n\nå®ƒåˆå¼€å§‹åœ¨æ•™å®¤é‡Œç›˜æ—‹ï¼Œä½†è¿™æ¬¡é£çš„æ›´é«˜äº†ä¸€äº›ï¼Œæˆ‘æªç´§äº†å¿ƒï¼Œä½†æˆ‘å®³æ€•çš„äº‹æƒ…è¿˜æ˜¯å‘ç”Ÿäº†ï¼šé«˜é€Ÿæ—‹è½¬çš„åŠæ‰‡æ‰“åˆ°äº†å®ƒï¼Œå®ƒè¢«å‡»è½åœ¨åœ°ã€‚\n\nç­é‡Œçš„äººéƒ½æ³¨æ„åˆ°äº†ï¼Œæ²¡æœ‰å¤šæƒ³ä»€ä¹ˆï¼Œæˆ‘èµ·èº«å»æ¡èµ·æ‹¿åªè´è¶çš„å°¸ä½“ã€‚æ‰€å¹¸çš„æ˜¯é‚£ä¸æ˜¯å°¸ä½“ï¼ŒåŠæ‰‡æ²¡æœ‰å‡»ä¸­è¦å®³ï¼Œä¹Ÿæ²¡æœ‰æŠŠç¿…è†€æ‰“ä¸ºæ®‹ç¿…çš„ï¼Œå®ƒè¿˜èƒ½å‹‰å¼ºåœ°æ‰‘åŠ¨ç¿…è†€ï¼Œä½†é£ä¸äº†å¤šé«˜äº†ã€‚\n\næˆ‘æŠŠå®ƒæ”¾åœ¨äº†æˆ‘çš„æ¡Œå­ä¸Šï¼Œå¬åˆ°äº†å‘¨å›´çš„å˜å£°ã€‚æˆ‘åˆè½»è½»æŠ“ä½äº†å®ƒï¼Œå‘æ•™å®¤é—¨èµ°å»ã€‚\n\nåˆ°äº†æ•™å®¤å¤–é¢ï¼Œæˆ‘æ”¾å¼€äº†æ‰‹ï¼Œå®ƒåˆå¼€å§‹åœ¨èµ°å»Šé‡Œç›˜æ—‹ï¼Œä½†è¿‡äº†ä¸€ä¼šä¸è§äº†ã€‚\n\nè¿™ä¸ªæ—¶å€™ï¼Œä¸Šè¯¾äº†ï¼Œæˆ‘å›åˆ°äº†æ•™å®¤ã€‚åŒå­¦éƒ½å¼€å§‹é—®æˆ‘é‚£åªè´è¶æ€ä¹ˆæ ·äº†ï¼Œâ€œæ”¾é£äº†â€ï¼Œæˆ‘è¯´ã€‚"},{"title":"FastAPI dependency injection system","tags":["Python","ä»£ç ","FastAPi"],"categories":["å­¦ä¹ ç¬”è®°"],"author":"æŸ¯ç½—krau","excerpt":"\n## ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ã€ {lang=\"zh-CN\"}\n## What is \"Dependency Injection\" {lang=\"en\"}\n\n::: zh-CN\n\n>ç¼–ç¨‹ä¸­çš„ã€Œä¾èµ–æ³¨å…¥ã€æ˜¯å£°æ˜ä»£ç ï¼ˆæœ¬æ–‡ä¸­ä¸ºè·¯å¾„æ“ä½œå‡½æ•° ï¼‰è¿è¡Œæ‰€éœ€çš„ï¼Œæˆ–è¦ä½¿ç”¨çš„ã€Œä¾èµ–ã€çš„ä¸€ç§æ–¹å¼ã€‚\n>\n>ç„¶åï¼Œç”±ç³»ç»Ÿï¼ˆæœ¬æ–‡ä¸­ä¸º FastAPIï¼‰è´Ÿè´£æ‰§è¡Œä»»æ„éœ€è¦çš„é€»è¾‘ï¼Œä¸ºä»£ç æä¾›è¿™äº›ä¾èµ–ï¼ˆã€Œæ³¨å…¥ã€ä¾èµ–é¡¹ï¼‰ã€‚\n>\n>ä¾èµ–æ³¨å…¥å¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n>\n>- å…±äº«ä¸šåŠ¡é€»è¾‘ï¼ˆå¤ç”¨ç›¸åŒçš„ä»£ç é€»è¾‘ï¼‰\n>- å…±äº«æ•°æ®åº“è¿æ¥\n>- å®ç°å®‰å…¨ã€éªŒè¯ã€è§’è‰²æƒé™ç­‰â€¦â€¦\n>\n>ä¸Šè¿°åœºæ™¯å‡å¯ä»¥ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œå°†ä»£ç é‡å¤æœ€å°åŒ–ã€‚\n:::\n\n\n::: en\n\n>\"Dependency Injection\" means, in programming, that there is a way for your code (in this case, your path operation functions) to declare things that it requires to work and use: \"dependencies\".\n>\n>And then, that system (in this case FastAPI) will take care of doing whatever is needed to provide your code with those needed dependencies (\"inject\" the dependencies).\n>\n>This is very useful when you need to:\n>\n>- Have shared logic (the same code logic again and again).\n>- Share database connections.\n>- Enforce security, authentication, role requirements, etc.\n>- And many other things...\n>\n>All these, while minimizing code repetition.\n:::\n\n","link":"/posts/fastapi-dependency-injection","content":"\n## ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ã€ {lang=\"zh-CN\"}\n## What is \"Dependency Injection\" {lang=\"en\"}\n\n::: zh-CN\n\n>ç¼–ç¨‹ä¸­çš„ã€Œä¾èµ–æ³¨å…¥ã€æ˜¯å£°æ˜ä»£ç ï¼ˆæœ¬æ–‡ä¸­ä¸ºè·¯å¾„æ“ä½œå‡½æ•° ï¼‰è¿è¡Œæ‰€éœ€çš„ï¼Œæˆ–è¦ä½¿ç”¨çš„ã€Œä¾èµ–ã€çš„ä¸€ç§æ–¹å¼ã€‚\n>\n>ç„¶åï¼Œç”±ç³»ç»Ÿï¼ˆæœ¬æ–‡ä¸­ä¸º FastAPIï¼‰è´Ÿè´£æ‰§è¡Œä»»æ„éœ€è¦çš„é€»è¾‘ï¼Œä¸ºä»£ç æä¾›è¿™äº›ä¾èµ–ï¼ˆã€Œæ³¨å…¥ã€ä¾èµ–é¡¹ï¼‰ã€‚\n>\n>ä¾èµ–æ³¨å…¥å¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n>\n>- å…±äº«ä¸šåŠ¡é€»è¾‘ï¼ˆå¤ç”¨ç›¸åŒçš„ä»£ç é€»è¾‘ï¼‰\n>- å…±äº«æ•°æ®åº“è¿æ¥\n>- å®ç°å®‰å…¨ã€éªŒè¯ã€è§’è‰²æƒé™ç­‰â€¦â€¦\n>\n>ä¸Šè¿°åœºæ™¯å‡å¯ä»¥ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œå°†ä»£ç é‡å¤æœ€å°åŒ–ã€‚\n:::\n\n\n::: en\n\n>\"Dependency Injection\" means, in programming, that there is a way for your code (in this case, your path operation functions) to declare things that it requires to work and use: \"dependencies\".\n>\n>And then, that system (in this case FastAPI) will take care of doing whatever is needed to provide your code with those needed dependencies (\"inject\" the dependencies).\n>\n>This is very useful when you need to:\n>\n>- Have shared logic (the same code logic again and again).\n>- Share database connections.\n>- Enforce security, authentication, role requirements, etc.\n>- And many other things...\n>\n>All these, while minimizing code repetition.\n:::\n\n<!-- more -->\n\n## ç¤ºä¾‹ {lang=\"zh-CN\"}\n## Examples {lang=\"en\"}\n\n### å‡½æ•°ä½œä¸ºä¾èµ– {lang=\"zh-CN\"}\n### Function as dependence {lang=\"en\"}\n\n::: zh-CN\n\n```python\nfrom fastapi import FastAPI, Depends\n\napp = FastAPI()\n\nasync def common_parameters(q: str | None = None, page: int = 1, limit: int = 10):\n    return {\"q\": q, \"page\": page, \"limit\": limit}\n\n@app.get(\"/dependency\")\nasync def dependency(commons: dict = Depends(common_parameters)):\n    return commons\n```\n\n`common_parameters` å‡½æ•°å®šä¹‰äº†ä¸€ç»„é€šç”¨çš„æŸ¥è¯¢å‚æ•°`ï¼ˆq,page,limitï¼‰`ï¼Œè¯¥å‡½æ•°æ¥å—è¿™äº›å‚æ•°å¹¶è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œè¯¥å­—å…¸åŒ…å«è¿™äº›å‚æ•°åŠå…¶å€¼ã€‚è¿™äº›å‚æ•°ä¹‹é—´å¯ä»¥é€šè¿‡é€—å·è¿›è¡Œåˆ†éš”ï¼Œè¡¨ç¤ºå®ƒä»¬æ˜¯å¯é€‰å‚æ•°ï¼Œå¹¶ä¸”æœ‰é»˜è®¤å€¼ã€‚\n\n`@app.get(\"/dependency\")` çš„è·¯ç”±è£…é¥°å™¨ç»‘å®šäº†ä¸€ä¸ªAPIè·¯ç”±ï¼Œè¿™ä¸ªè·¯ç”±æ¥å—ä¸€ä¸ªåä¸º `commons` çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°éœ€è¦è°ƒç”¨ `common_parameters` å‡½æ•°çš„è¿”å›å€¼ã€‚Dependså¯ä»¥è®©æˆ‘ä»¬æŠŠä¸€ä¸ªå‡½æ•°å½“åšå‚æ•°æ¥ä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œçš„ `Depends(common_parameters)` è¡¨ç¤ºè¯¥APIè·¯ç”±éœ€è¦è°ƒç”¨ `common_parameters` æ¥è·å–æŸ¥è¯¢å‚æ•°ã€‚\n\nå½“è¯·æ±‚åˆ°è¾¾APIè·¯ç”±æ—¶ï¼Œ**FastAPIå°†è°ƒç”¨ `common_parameters` å‡½æ•°ï¼Œå°†è¿”å›çš„å­—å…¸ä½œä¸º `commons` å‚æ•°çš„å€¼æ³¨å…¥åˆ° `dependency` å‡½æ•°ä¸­**ï¼Œç„¶åæ‰§è¡Œå¤„ç†è¯·æ±‚çš„é€»è¾‘å¹¶è¿”å›å“åº”ã€‚å› æ­¤ï¼Œ**`dependency` çš„ `commons` å‚æ•°åŒ…å«æ‰€æœ‰é€šç”¨æŸ¥è¯¢å‚æ•°çš„å€¼**ï¼Œå®ç°äº†ä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ã€‚\n\nä¹Ÿå°±æ˜¯è¯´,é€šè¿‡ä¾èµ–æ³¨å…¥,æˆ‘ä»¬ä½¿å¾—ä¸€ä¸ªä»£ç å—(å‡½æ•°)ä¸­å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªä»£ç å—,å¹¶è®¿é—®å…¶ä¸­çš„å˜é‡æˆ–å±æ€§\n\n::: tip\nå®é™…ä¸Š,è¿™é‡Œæ˜¯å®ç°äº†ç±»ä¼¼ç±»çš„ç»§æ‰¿çš„åŠŸèƒ½,ç”±äº FastAPI æ˜¯ä»¥å‡½æ•°å¼ç¼–ç¨‹ä¸ºä¸»,æ‰€ä»¥æ‰æœ‰äº†ä¾èµ–æ³¨å…¥ç³»ç»Ÿ,æ¥å®ç°ç±»çš„ä¸€äº›åŠŸèƒ½.\n\nåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`common_parameters` å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå…¬å…±çš„åŸºç±»ï¼ˆç±»ä¼¼äºçˆ¶ç±»ï¼‰ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„é€šç”¨çš„æŸ¥è¯¢å‚æ•°ã€‚åŒæ—¶ï¼Œ`@app.get(\"/dependency\")` ä¸­çš„å‡½æ•°å¯ä»¥çœ‹ä½œæ˜¯æ´¾ç”Ÿç±»ï¼ˆç±»ä¼¼äºå­ç±»ï¼‰ï¼Œå®ƒéœ€è¦ä½¿ç”¨é€šç”¨æŸ¥è¯¢å‚æ•°æ¥å¤„ç†è¯·æ±‚ã€‚\n\nå½“è°ƒç”¨dependencyå‡½æ•°æ—¶ï¼Œ`Depends` ä¼šè‡ªåŠ¨è°ƒç”¨ `common_parameters` å‡½æ•°ï¼Œè·å–æŸ¥è¯¢å‚æ•°ï¼Œç„¶åå°†å…¶æ³¨å…¥åˆ° `dependency` å‡½æ•°ä¸­ï¼Œç±»ä¼¼äºå­ç±»è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°è·å–å…¬å…±é…ç½®ï¼Œå¹¶ç»§æ‰¿å…¶è¡Œä¸ºçš„æ–¹å¼ã€‚\n\nè™½ç„¶Dependså’Œä¾èµ–æ³¨å…¥å¹¶ä¸æ˜¯ç±»çš„ç»§æ‰¿ï¼Œä½†å®ƒä»¬å¯ä»¥å®ç°ç±»ä¼¼çš„æ•ˆæœï¼Œä½¿ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºç»´æŠ¤ã€‚\n:::\n\n::: en\nThe function common_parameters defines a set of common query parameters (q, page, limit) and accepts these parameters as input, then returns a dictionary containing these parameters and their values. These parameters can be separated by commas to indicate they are optional and have default values.\n\nThe API route decorator @app.get(\"/dependency\") binds an API route that accepts a parameter named commons, which needs to call the common_parameters function to get the query parameters. Depends allows us to pass a function as a parameter to another function. Here, the Depends(common_parameters) indicates that this API route needs to call common_parameters to get the query parameters.\n\nWhen a request arrives at the API route, FastAPI will call the common_parameters function and inject the returned dictionary as the value of the commons parameter into the dependency function. Then, it executes the logic to handle the request and returns the response. Therefore, the commons parameter of the dependency function contains the values of all the common query parameters, achieving the functionality of dependency injection.\n\n::: tip\nIn fact, here we are implementing a function similar to class inheritance. Since FastAPI is mainly based on functional programming, it has the dependency injection system to implement some functionality similar to class inheritance.\n\nIn the example above, common_parameters can be seen as a common base class (similar to a parent class) that defines a set of common query parameters. At the same time, the function in @app.get(\"/dependency\") can be seen as a derived class (similar to a child class) which needs to use the common query parameters to handle requests.\n\nWhen calling the dependency function, Depends automatically calls common_parameters to get the query parameters and injects them into the dependency function, similar to calling the parent class constructor to get common configurations and inherit its behavior.\n\nAlthough Depends and dependency injection are not inheritance of classes, they can achieve similar effects, making the code more clear and easy to maintain.\n:::\n\n### ç±»ä½œä¸ºä¾èµ– {lang=\"zh-CN\"}\n### Class as dependence {lang=\"en\"}\n\n::: zh-CN\n\n```python\nfake_item_db = [{\"item\": \"foo\"}, {\"item\": \"qwq\"}, {\"item\": \"awa\"}]\n\nclass CommonQueryParams:\n    def __init__(self, q: str | None = None, page: int = 1, limit: int = 100) -> None:\n        self.q = q\n        self.page = page\n        self.limit = limit\n\n\n@app.get(\"/classes_as_dependencies\")\nasync def class_as_dependencies(commons=Depends(CommonQueryParams)):\n    resp = {}\n    if commons.q:\n        resp.update({\"q\": commons.q})\n    items = fake_item_db[commons.page:commons.limit]\n    resp.update({\"items\": items})\n    return resp\n# ä¸‹é¢è¿™ä¸¤ç§å†™æ³•ä¹Ÿå¯ä»¥å°†ç±»ä½œä¸ºä¾èµ–\n# async def class_as_dependencies(commons:CommonQueryParams=Depends(CommonQueryParams))\n# async def class_as_dependencies(commons:CommonQueryParams=Depends())\n```\n\nå½“ç”¨æˆ·è®¿é—® `/classes_as_dependencies` æ—¶ï¼Œ`CommonQueryParams` ä¾èµ–é¡¹ä¼šæ³¨å…¥ä¸º `commons` å‚æ•°ã€‚è¯¥ç«¯ç‚¹ç„¶åæ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦æœ‰æŒ‡å®šæœç´¢æŸ¥è¯¢ï¼Œå¹¶åœ¨æœ‰æŒ‡å®šæŸ¥è¯¢æ—¶ä½¿ç”¨å®ƒæ¥æ›´æ–° resp å­—å…¸ã€‚ç„¶åå®ƒæ ¹æ® page å’Œ limit å‚æ•°ä» fake_item_db æ•°æ®åº“æ£€ç´¢é¡¹ç›®ï¼Œå¹¶è¿”å›ä¸€ä»½å¸¦æœ‰æœç´¢æŸ¥è¯¢å†…å®¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å’Œæ£€ç´¢åˆ°çš„é¡¹ç›®çš„å“åº”ã€‚\n:::\n\n::: en\n\n```python\nfake_item_db = [{\"item\": \"foo\"}, {\"item\": \"qwq\"}, {\"item\": \"awa\"}]\n\nclass CommonQueryParams:\n    def __init__(self, q: str | None = None, page: int = 1, limit: int = 100) -> None:\n        self.q = q\n        self.page = page\n        self.limit = limit\n\n\n@app.get(\"/classes_as_dependencies\")\nasync def class_as_dependencies(commons=Depends(CommonQueryParams)):\n    resp = {}\n    if commons.q:\n        resp.update({\"q\": commons.q})\n    items = fake_item_db[commons.page:commons.limit]\n    resp.update({\"items\": items})\n    return resp\n```\n\nWhen a user accesses the /classes_as_dependencies endpoint, the CommonQueryParams dependency is injected as the commons parameter. The endpoint then checks if there is a search query specified in the request and updates the resp dictionary with the query if there is one. It then retrieves items from the fake_item_db database based on the page and limit parameters, and returns a response with the search query (if any) and the retrieved items.\n:::\n\n### åµŒå¥—ä¾èµ– {lang=\"zh-CN\"}\n### nested dependencies {lang='en'}\n\n::: zh-CN\nä¾èµ–ä¹‹é—´å¯ä»¥åµŒå¥—,**ä¸€ä¸ªä¾èµ–å¯ä»¥ä¾èµ–äºå¦ä¸€ä¸ªä¾èµ–**,å³ç§°ä¸ºå­ä¾èµ–\n:::\n\n### è·¯å¾„è£…é¥°å™¨ä¾èµ–ä¸å…¨å±€ä¾èµ– {lang=\"zh-CN\"}\n### Path decorator dependencies and global dependencies {lang=\"en\"}\n\n::: zh-CN\nå¯ä»¥ä¸º FastAPI çš„è·¯å¾„è£…é¥°å™¨ä¼ å…¥ dependencies å‚æ•°,è¯¥å‚æ•°çš„å€¼æ˜¯ Depend() ç±»åˆ—è¡¨ ,ä¼ å…¥åå¯ä»¥åœ¨è£…é¥°å™¨ä¸‹çš„å‡½æ•°ä¸­è°ƒç”¨ä¾èµ–é¡¹\n\nä¹Ÿå¯ä»¥åœ¨åˆ›å»º FastAPI æˆ– APIRouter å®ä¾‹æ—¶å¯¼å…¥ä¾èµ–,åŒæ ·æ˜¯ä¼ å…¥ dependencies å‚æ•°,è¿™æ ·çš„ä¾èµ–åœ¨æ•´ä¸ªåº”ç”¨ä¸‹éƒ½å¯ä»¥è°ƒç”¨\n:::\n\n::: en\nYou can pass the \"dependencies\" parameter to the path decorator of FastAPI, and the value of this parameter is a \"Depend()\" class list. After passing it, the dependencies can be called in the function under the decorator.\n\nYou can also import dependencies when creating FastAPI or APIRouter instances by passing the \"dependencies\" parameter. Such dependencies can be called throughout the entire application.\n:::"},{"title":"JWT è®¤è¯åŠå…¶åœ¨ FastAPI ä¸­çš„ä½¿ç”¨","tags":["Python","ä»£ç ","FastAPi"],"categories":["å­¦ä¹ ç¬”è®°"],"author":"æŸ¯ç½—krau","excerpt":"\n## ä»€ä¹ˆæ˜¯ JWT\n\nJWT: JSON Web Tokens,å®ƒæ˜¯ä¸€ç§å°† JSON å¯¹è±¡ç¼–ç ä¸ºæ²¡æœ‰ç©ºæ ¼ï¼Œä¸”éš¾ä»¥ç†è§£çš„é•¿å­—ç¬¦ä¸²çš„æ ‡å‡†ã€‚åœ¨å…·ä½“ä¸Š,å®ƒå°±æ˜¯ä¸€æ®µå­—ç¬¦ä¸²,ä¸‹é¢å°±æ˜¯ FastAPI æ–‡æ¡£ä¸­ç»™å‡ºçš„ä¾‹å­\n\n```txt\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\n```\n\næŠ½è±¡åœ°æŠŠå®ƒçœ‹æˆæ˜¯è¿™æ ·çš„\n\n```txt\naaaaaaaaaaaa.bbbbbbbbbbbb.cccccccccccc\n```\n\n","link":"/posts/fastapi-jwt","content":"\n## ä»€ä¹ˆæ˜¯ JWT\n\nJWT: JSON Web Tokens,å®ƒæ˜¯ä¸€ç§å°† JSON å¯¹è±¡ç¼–ç ä¸ºæ²¡æœ‰ç©ºæ ¼ï¼Œä¸”éš¾ä»¥ç†è§£çš„é•¿å­—ç¬¦ä¸²çš„æ ‡å‡†ã€‚åœ¨å…·ä½“ä¸Š,å®ƒå°±æ˜¯ä¸€æ®µå­—ç¬¦ä¸²,ä¸‹é¢å°±æ˜¯ FastAPI æ–‡æ¡£ä¸­ç»™å‡ºçš„ä¾‹å­\n\n```txt\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\n```\n\næŠ½è±¡åœ°æŠŠå®ƒçœ‹æˆæ˜¯è¿™æ ·çš„\n\n```txt\naaaaaaaaaaaa.bbbbbbbbbbbb.cccccccccccc\n```\n\n<!-- more -->\n\njwt ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ,è¿™ä¸‰ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨ç‚¹`.`æ‹¼æ¥èµ·æ¥,è¿™ä¸‰ä¸ªéƒ¨åˆ†åˆ†åˆ«æ˜¯\n\n- Header --- å¤´,å®šä¹‰äº† jwt ä½¿ç”¨çš„ç®—æ³•ç­‰ä¿¡æ¯\n- Payload --- è½½è·,å­˜å‚¨æœ‰æ•ˆä¿¡æ¯çš„åœ°æ–¹\n- Signature --- ç­¾å,ç”¨äºæ ¡éªŒ jwt ä»¤ç‰Œ\n\nè¿™ä¸‰ä¸ªéƒ¨åˆ†ä¸­,åªæœ‰ç¬¬ä¸‰ä¸ªéƒ¨åˆ†æ˜¯æ— æ³•è¿˜åŸçš„,å‰ä¸¤ä¸ªéƒ¨åˆ†åªæ˜¯ç®€å•çš„è¿›è¡Œäº† base64 ç¼–ç ,æŠŠä¸Šé¢ä¾‹å­ä¸­çš„å‰ä¸¤éƒ¨åˆ†è§£ç ä¹‹å,çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:\n\nHeader:\n\n```json\n{\n    \"alg\":\"HS256\",\n    \"typ\":\"JWT\"\n}\n\n```\n\nalg å³ä¸ºç®—æ³•,è¿™é‡Œä½¿ç”¨äº† HS256 ç®—æ³•\n\ntyp å³ä¸ºç±»å‹,æŒ‡æ˜è¿™é‡Œæ˜¯ä¸€ä¸ª JWT å­—ç¬¦ä¸²\n\nPayload\n\n```json\n{\n    \"sub\":\"1234567890\",\n    \"name\":\"John Doe\",\n    \"iat\":1516239022\n}\n```\n\nå¯ä»¥çœ‹åˆ° Payload ä¸­å­˜å‚¨äº†ä¸»è¦çš„ä¿¡æ¯\n\n::: tip æç¤º\næ ¹æ® JWT è§„èŒƒ, Payload ä¸­çš„ `sub` æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„å£°æ˜ï¼ˆClaimï¼‰ï¼Œè¡¨ç¤ºJWTçš„ä¸»é¢˜ï¼ˆ**Subject**ï¼‰ã€‚å®ƒæŒ‡å®šäº†JWTæ‰€ä»£è¡¨çš„å®ä½“æˆ–ä¸»é¢˜ï¼Œé€šå¸¸æ˜¯ç”¨æˆ·æˆ–å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚\n`sub`å£°æ˜çš„å€¼æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œé€šå¸¸æ˜¯**å”¯ä¸€**æ ‡è¯†ç”¨æˆ·æˆ–å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„IDã€‚\n:::\n\nè€Œ Signature åˆ™æ˜¯é€šè¿‡åŠ ç›åŠ å¯†å¾—åˆ°çš„,åŠ å¯†ç”±æœåŠ¡ç«¯å®ç°\n\n::: tip å…³äºå…·ä½“å¦‚ä½•å®ç°\n\nå‚è€ƒä¸‹å›¾\n\n![å›¾ 1](/photo/post-pics/fastapi-jwt/fastapi-jwt_03-22-11-28-26.webp)\n\nå³,æŠŠ header å’Œ payload éƒ¨åˆ†è¿›è¡Œ base64ç¼–ç ,ç”¨ç‚¹æ‹¼æ¥èµ·æ¥,å¾—åˆ°**ç»“æœ**,æŠŠè¿™ä¸ªç»“æœç”¨æˆ‘ä»¬è®¾ç½®çš„å¯†é’¥å’Œç®—æ³•è¿›è¡ŒåŠ ç›åŠ å¯†,å°±å¾—åˆ°äº† Signature\n\n:::\n\n### JWT æœ‰ä»€ä¹ˆç”¨\n\nå…¶å®å®ƒä¸ token ,cookie çš„ä½œç”¨ç±»ä¼¼,å°±æ˜¯ç”¨æ¥å…å¯†ç è®¤è¯å®¢æˆ·ç«¯\n\næ¯”å¦‚ä½ å»ä¸Šå­¦,å­¦æ ¡æ˜¯æœåŠ¡ç«¯,ä½ æ˜¯å®¢æˆ·ç«¯.ä½ å®Œæˆå­¦ç±æ³¨å†Œä¹‹å,å­¦æ ¡å‘ç»™ä½ ä¸€ä¸ªå­¦ç”Ÿè¯,å­¦ç”Ÿè¯å°±æ˜¯ä½ çš„ jwt ä»¤ç‰Œ.\n\nä½ ä½¿ç”¨å­¦æ ¡çš„å¾ˆå¤šæœåŠ¡,éƒ½è¦å‡ºç¤ºå­¦ç”Ÿè¯.\n\nè€Œåœ¨å®é™…ä¸šåŠ¡ä¸­,jwt ä»¤ç‰Œæ˜¯æœ‰è¿‡æœŸæ—¶é—´çš„,è¿‡æœŸä¹‹å,éœ€è¦å®¢æˆ·ç«¯å†æ¬¡ç™»å½•,è·å–æ–°çš„ jwt\n\n## FastAPI å®ç° Bearer JWT ä»¤ç‰ŒéªŒè¯\n\néœ€è¦å®‰è£…ä»¥ä¸‹å‡ ä¸ªåŒ…\n\npython-joseï¼Œåœ¨ Python ä¸­ç”Ÿæˆå’Œæ ¡éªŒ JWT ä»¤ç‰Œ\n\n```bash\npip install python-jose[cryptography]\n```\n\nPasslib ,å¤„ç†å¯†ç å“ˆå¸Œ\n\n```bash\npip install passlib[bcrypt]\n```\n\n::: warning\n\nå¯†ç å“ˆå¸Œå’Œ jwt çš„åŠ å¯†ä¸æ˜¯åŒä¸€ä¸ªé—®é¢˜.\n\nå“ˆå¸Œæ˜¯æŒ‡æŠŠç‰¹å®šå†…å®¹ï¼ˆæœ¬ä¾‹ä¸­ä¸ºå¯†ç ï¼‰è½¬æ¢ä¸ºä¹±ç å½¢å¼çš„å­—èŠ‚åºåˆ—ï¼ˆå…¶å®å°±æ˜¯å­—ç¬¦ä¸²ï¼‰ã€‚\n\næ¯æ¬¡ä¼ å…¥å®Œå…¨ç›¸åŒçš„å†…å®¹æ—¶ï¼ˆæ¯”å¦‚ï¼Œå®Œå…¨ç›¸åŒçš„å¯†ç ï¼‰ï¼Œè¿”å›çš„éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ä¹±ç ã€‚\n\nä½†è¿™ä¸ªä¹±ç æ— æ³•è½¬æ¢å›ä¼ å…¥çš„å¯†ç ã€‚\n\næŠŠå¯†ç è¿›è¡Œå“ˆå¸Œå¹¶å­˜å‚¨æ˜¯å¿…è¦çš„å®‰å…¨æªæ–½\n\n:::\n\nå…ˆä¸è€ƒè™‘ç”¨æˆ·æ³¨å†Œçš„é—®é¢˜,å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªåœ¨æ•°æ®åº“ä¸­çš„ç”¨æˆ·,é‚£ä¹ˆè¿™é‡Œçš„é€»è¾‘æ˜¯è¿™æ ·çš„:\n\n1. è¯¥ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç ç™»å½•\n2. æœåŠ¡ç«¯å¯¹å…¶è¿›è¡Œæ ¡éªŒå’Œè®¤è¯\n3. å®Œæˆè®¤è¯å,ç”¨æˆ·æ‹¿åˆ° jwt ä»¤ç‰Œ(token)\n4. ç”¨æˆ·ä½¿ç”¨ jwt ä»¤ç‰Œ(token)è®¿é—®å…¶ä»–æœåŠ¡\n\næ‰€ä»¥,æˆ‘ä»¬éœ€è¦:\n\n1. ä¸€ä¸ªå­˜å‚¨äº†ç”¨æˆ·ä¿¡æ¯çš„æ•°æ®åº“,å…¶ä¸­å¯†ç å­˜å‚¨çš„æ˜¯å“ˆå¸Œå€¼\n2. ç”¨æˆ·å’Œ jwt ä»¤ç‰Œ(token)çš„æ¨¡å‹\n3. ç”¨äºä»æ•°æ®åº“ä¸­è·å¾—ç”¨æˆ·ä¿¡æ¯,å¹¶éªŒè¯çš„å‡½æ•°. åŒ…æ‹¬è·å–ç”¨æˆ·,å“ˆå¸Œä¼ å…¥çš„å¯†ç ,éªŒè¯ç”¨æˆ·ç­‰\n4. ç”¨äºåˆ›å»º jwt ä»¤ç‰Œçš„å‡½æ•°\n5. ç»™ç”¨æˆ·ç™»å½•å¹¶è·å– jwt ä»¤ç‰Œ(token)çš„æ¥å£\n6. éªŒè¯ç”¨æˆ·çš„ jwt æ˜¯å¦æ­£ç¡®å’Œæœ‰æ•ˆ\n\n### æ•°æ®åº“ä¸æ¨¡å‹\n\nå‘ƒ,ä¸ºäº†ç®€ä¾¿å’Œå·æ‡’,å°±ç”¨ FastAPI æ–‡æ¡£ä¸­çš„å‡æ•°æ®åº“å§\n\n```python\nfake_users_db = {\n    \"johndoe\": {\n        \"username\": \"johndoe\",\n        \"full_name\": \"John Doe\",\n        \"email\": \"johndoe@example.com\",\n        \"hashed_password\": \"$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW\",\n        \"disabled\": False,\n    }\n}\n```\n\nå®šä¹‰ä¹‹åè¦ç”¨åˆ°çš„æ¨¡å‹\n\n```python\nfrom pydantic import BaseModel\nfrom typing import Union\n\nclass Token(BaseModel):\n    access_token: str\n    token_type: str\n\n\nclass TokenData(BaseModel):\n    username: Union[str, None] = None\n\n\nclass User(BaseModel):\n    username: str\n    email: Union[str, None] = None\n    full_name: Union[str, None] = None\n    disabled: Union[bool, None] = None\n\n\nclass UserInDB(User):\n    hashed_password: str\n\n```\n\n`Token` æ¨¡å‹ç”¨äºåœ¨ç™»å½•æ¥å£ä¸­æŒ‡å®š `response_model`\n\n`TokenData` ç”¨äºä» token ä¸­è·å–æ•°æ®\n\n`User` å³ç”¨æˆ·æ¨¡å‹,ä¾›å¤–éƒ¨ä½¿ç”¨\n\n`UserInDB` æ˜¯ç”¨æˆ·åœ¨æ•°æ®åº“ä¸­çš„æ¨¡å‹,å®ƒç»§æ‰¿è‡ª `User` æ·»åŠ äº† `hashed_password` å±æ€§\n\nè¿™äº›æ¨¡å‹åœ¨ä¹‹åä¼šç”¨åˆ°\n\n### å¯¹ç”¨æˆ·åå’Œå¯†ç çš„æ ¡éªŒä¸è®¤è¯\n\nè¿™éƒ¨åˆ†æ¯”è¾ƒç®€å•,å°±æ˜¯æŠŠç”¨æˆ·è¾“å…¥çš„å¯†ç å“ˆå¸Œä¹‹åå’Œæ•°æ®åº“ä¸­çš„å¯¹æ¯”å°±å¥½äº†\n\n```python\nfrom passlib.context import CryptContext\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\ndef verify_password(plain_password, hashed_password):\n    \"\"\"\n    æ ¡éªŒå¯†ç æ˜¯å¦æ­£ç¡®\n    å°†ä¼ å…¥çš„æ˜æ–‡å¯†ç ä¸æ•°æ®åº“ä¸­çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”å¯¹\n    \"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\n\ndef get_password_hash(password):\n    \"\"\"è·å–ä¼ å…¥çš„å¯†ç çš„å“ˆå¸Œå€¼\"\"\"\n    return pwd_context.hash(password)\n\n\ndef get_user(db, username: str):\n    \"\"\"æ ¹æ®ç”¨æˆ·åä»æŒ‡å®šæ•°æ®åº“ä¸­è·å–ç”¨æˆ·\"\"\"\n    if username in db:\n        user_dict = db[username]\n        return UserInDB(**user_dict)\n\n\ndef authenticate_user(fake_db, username: str, password: str):\n    \"\"\"èº«ä»½éªŒè¯, è¿”å›ç”¨æˆ·å¯¹è±¡æˆ–è€… False\"\"\"\n    user = get_user(fake_db, username)\n    if not user:\n        return False\n    if not verify_password(password, user.hashed_password):\n        return False\n    return user\n```\n\n### åˆ›å»º jwt token\n\nå®Œæˆè®¤è¯ä¹‹å,å°±å¯ä»¥ç»™ç”¨æˆ·åˆ›å»º token äº†\n\né¦–å…ˆ,å®šä¹‰ jwt çš„åŠ å¯†å¯†é’¥,åŠ å¯†ç®—æ³•å’Œè¿‡æœŸæ—¶é—´\n\n```python\nSECRET_KEY = \"09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7\"\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\n```\n\n::: warning æ³¨æ„\n\nåœ¨å®é™…é¡¹ç›®ä¸­,jwt çš„å¯†é’¥ä¸åº”è¯¥ç›´æ¥å†™åœ¨ä»£ç ä¸­,è€Œæ˜¯åº”è¯¥ä»ç¯å¢ƒå˜é‡ä¸­è¯»å–\n\nä¾‹å¦‚,ä»ç¯å¢ƒå˜é‡ä¸­è·å– SECRET_KEY\n\n```python\nimport os\nSECRET_KEY = os.environ.get(\"SECRET_KEY\")\n```\n\n:::\n\nç„¶åå†™åˆ›å»º token çš„å‡½æ•°\n\n```python\nfrom datetime import datetime, timedelta\nfrom jose import JWTError, jwt\n\ndef create_access_token(data: dict, expires_delta=None):\n    \"\"\"åˆ›å»º jwt token\"\"\"\n    to_encode = data.copy()\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=15)\n    to_encode.update({\"exp\": expire})\n    # æ³¨æ„è¿™é‡Œå°±ç”¨åˆ°äº†ä¸Šé¢å®šä¹‰çš„ SECRET_KEY å’Œ ALGORITHM\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n```\n\nä¸Šé¢è¿™ä¸ªå‡½æ•°æŠŠä¼ å…¥çš„ç”¨äºè·å– jwt çš„æ•°æ®è¿›è¡Œæ‹·è´,å¹¶æ·»åŠ è¿‡æœŸæ—¶é—´,ç„¶å encode å¾—åˆ° jwt token å¹¶è¿”å›\n\nè‡³æ­¤,æˆ‘ä»¬å®Œæˆäº†å¯¹ç”¨æˆ·çš„æ ¡éªŒå’Œè®¤è¯,ä»¥åŠåˆ›å»º jwt token çš„åŠŸèƒ½,ä¸‹é¢æˆ‘ä»¬è¦åœ¨æ¥å£ä¸­ä½¿ç”¨å®ƒä»¬\n\n### æä¾›ç™»å½•å¹¶åˆ›å»ºtokençš„æ¥å£\n\n```python\nfrom fastapi import Depends, FastAPI, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm\n\noauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"token\")\n@app.post(\"/token\", response_model=Token)\nasync def login_for_access_token(form_data: OAuth2PasswordRequestForm = Depends()):\n    \"\"\"ç™»å½•å¹¶è·å– token\"\"\"\n    # é€šè¿‡ç”¨æˆ·åå’Œå¯†ç è·å–ç”¨æˆ·, å¦‚æœç”¨æˆ·ä¸å­˜åœ¨æˆ–è€…å¯†ç é”™è¯¯, åˆ™æŠ›å‡ºå¼‚å¸¸\n    user = authenticate_user(fake_users_db, form_data.username, form_data.password)\n\n    if not user:\n        raise HTTPException(\n            # è¿™éƒ¨åˆ†æ˜¯è§„èŒƒ, 401 è¡¨ç¤ºæœªæˆæƒ\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n\n    # ä¸Šé¢å·²ç»ç›¸å½“äºè¿›è¡Œäº†ç”¨æˆ·èº«ä»½éªŒè¯, æ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥åˆ›å»º token\n    access_token_expires = timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    access_token = create_access_token(\n        data={\"sub\": user.username}, expires_delta=access_token_expires\n    )\n    # è¿™é‡Œå¦‚ä½•è¿”å›ä¹Ÿæ˜¯è§„èŒƒ, æˆ‘ä»¬å·²åœ¨ä¸Šé¢å·²ç»å®šä¹‰å¥½äº† response_model=Token\n    return {\"access_token\": access_token, \"token_type\": \"bearer\"}\n```\n\n`oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"token\")` å£°æ˜äº†ç”¨æˆ·åº”è¯¥ä»å“ªä¸ªè·¯ç”±è·å– token (ç›¸å¯¹è·¯å¾„),ä½†æ˜¯å¹¶æœªå®ç°å…·ä½“çš„åŠŸèƒ½\n\nè€Œæˆ‘ä»¬è‡ªå·±å†™çš„ `login_for_access_token` åˆ™æ˜¯å®ç°.\n\nç°åœ¨ç”¨æˆ·æˆåŠŸç™»å½•å,å°±æ‹¿åˆ°äº† jwt token ,è®¿é—®å…¶ä»–æœåŠ¡æ—¶,æµè§ˆå™¨ä¼šæºå¸¦ jwt token ä¸€èµ·å‘é€è¯·æ±‚\n\næˆ‘ä»¬åªéœ€è¦åœ¨å…¶ä»–æ¥å£ä¸­,å¯¹ç”¨æˆ·ä¼ æ¥çš„ jwt token è¿›è¡ŒéªŒè¯å³å¯\n\n### åœ¨å…¶ä»–æ¥å£ä¸­éªŒè¯jwt token\n\næ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ `read_users_me` ,é‚£ä¹ˆ,æˆ‘ä»¬éœ€è¦:\n\n1. è·å–ç”¨æˆ·ä¼ æ¥çš„ token\n2. éªŒè¯ token æ˜¯å¦æ­£ç¡®å’Œæœ‰æ•ˆ\n3. é€šè¿‡ token è·å–å½“å‰çš„ç”¨æˆ·ä¿¡æ¯\n\né¦–å…ˆ,è§£å¯† jwt token ,è·å–å½“å‰ç”¨æˆ·:\n\n```python\nasync def get_current_user(token: str = Depends(oauth2_scheme)):\n    \"\"\"ä¾èµ–å‡½æ•°, ç”¨äºè·å–å½“å‰ç”¨æˆ·\"\"\"\n    # å®šä¹‰ä¸€ä¸ªå¼‚å¸¸, ç”¨äºåœ¨ç”¨æˆ·èº«ä»½éªŒè¯å¤±è´¥æ—¶æŠ›å‡º\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        # ä» payload ä¸­è·å– username\n        # å…³äº sub çš„è§£é‡Š, å¯ä»¥å‚è€ƒæ–‡æ¡£\n        username: str = payload.get(\"sub\")\n        if username is None:\n            raise credentials_exception\n        token_data = TokenData(username=username)\n    except JWTError:\n        raise credentials_exception\n    user = get_user(fake_users_db, username=token_data.username)\n    if user is None:\n        raise credentials_exception\n    return user\n\nasync def get_current_active_user(current_user: User = Depends(get_current_user)):\n    \"\"\"ä¾èµ–å‡½æ•°, ç”¨äºè·å–å½“å‰æ´»è·ƒçš„ç”¨æˆ·,ç”¨åˆ°äº†ä¸Šé¢çš„ä¾èµ–å‡½æ•° get_current_user\n    ä¸ºä»€ä¹ˆ current_user å¯ä»¥æ˜¯ User ç±»å‹è€Œä¸æ˜¯ get_current_user è¿”å›çš„ UserInDB ç±»å‹å‘¢?\n    å› ä¸º UserInDB ç±»å‹æ˜¯ User ç±»å‹çš„å­ç±», æ‰€ä»¥å¯ä»¥ç›´æ¥èµ‹å€¼ç»™ User ç±»å‹çš„å˜é‡\n    \"\"\"\n    if current_user.disabled:\n        raise HTTPException(status_code=400, detail=\"Inactive user\")\n    return current_user\n```\n\nåœ¨ æ•°æ®åº“ä¸æ¨¡å‹ ä¸­, æˆ‘ä»¬å®šä¹‰çš„ `TokenData` å°±æ˜¯è¿™é‡Œè¦ç”¨çš„\n\nå› ä¸ºåªæ˜¯æ¼”ç¤º,æ‰€ä»¥è¿™ä¸ª `TokenData` ç±»æ˜¾å¾—æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾.\n\nä½†æ˜¯å¦‚æœä½ éœ€è¦ä¼ é€’å¤šä¸ª JWT æ•°æ®ï¼Œæˆ–è€…æœ‰å¤šä¸ªå‡½æ•°éœ€è¦è®¿é—® JWT æ•°æ®ï¼Œé‚£ä¹ˆ `TokenData` ç±»å¯ä»¥æ–¹ä¾¿åœ°å°†è¿™äº›æ•°æ®æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨å‡½æ•°ä¹‹é—´ä¼ é€’å®ƒä»¬ã€‚\n\nä¹‹åå°±å¯ä»¥åœ¨æ¥å£ä¸­åˆ©ç”¨ä¾èµ–æ³¨å…¥,éªŒè¯ç”¨æˆ·è¯·æ±‚\n\n```python\n@app.get(\"/users/me/\", response_model=User)\nasync def read_users_me(current_user: User = Depends(get_current_active_user)):\n    \"\"\"è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯\"\"\"\n    return current_user\n```\n\n## æ€»ç»“\n\nJWT æ˜¯ä¸€ç§è®¤è¯æ–¹å¼,å®ƒçš„æœ¬è´¨æ˜¯ä¸€æ®µå¸¦æœ‰ç­¾åçš„å­—ç¬¦ä¸².\n\nåœ¨ Python ä¸­,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `jwt` æ¨¡å—æ¥åˆ›å»ºå’Œè§£æ jwt token.\n\nåœ¨ FastAPI ä¸­,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `OAuth2PasswordBearer` æ¥è·å–ç”¨æˆ·ä¼ æ¥çš„ token,ç„¶åä½¿ç”¨ `jwt` æ¨¡å—æ¥è§£æ token,ä»è€Œè·å–ç”¨æˆ·ä¿¡æ¯.\n\n## å‚è€ƒ\n\n[JWT å®˜æ–¹æ–‡æ¡£](https://jwt.io/introduction/)\n\n[FastAPI å®˜æ–¹æ–‡æ¡£ - å®‰å…¨æ€§](https://fastapi.tiangolo.com/tutorial/security/)\n\n[FastAPI å®˜æ–¹æ–‡æ¡£ - ä¾èµ–æ³¨å…¥](https://fastapi.tiangolo.com/tutorial/dependencies/)"},{"title":"freda-ä¸€ä¸ªå¤šç§è‡ªå®šä¹‰çš„ç”µå­ä¹¦é˜…è¯»å™¨","tags":["é˜…è¯»","å®‰åˆ©"],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\n## ç®€è¯„\n\nè¿™æ˜¯ä¸€ä¸ªå¯æœ¬åœ°å’Œåœ¨çº¿çš„ç”µå­ä¹¦é˜…è¯»å™¨ï¼Œæ”¯æŒå„ç§å¸¸è§çš„ç”µå­ä¹¦/æ–‡æ¡£æ ¼å¼ï¼Œå‡ ä¹å…è´¹ï¼Œé™¤äº†é¦–é¡µåº•éƒ¨æœ‰ä¸€æ¡æ¨ªå¹…å¹¿å‘Šéœ€è¦ä»˜è´¹å»é™¤å¤–ï¼Œè¿˜æœªå‘ç°ä»»ä½•éœ€è¦ä»˜è´¹çš„åŠŸèƒ½\n\n## å®‰è£…\n\nfredaä¸Šæ¶åœ¨Mi","link":"/posts/freda-recommend","content":"\n## ç®€è¯„\n\nè¿™æ˜¯ä¸€ä¸ªå¯æœ¬åœ°å’Œåœ¨çº¿çš„ç”µå­ä¹¦é˜…è¯»å™¨ï¼Œæ”¯æŒå„ç§å¸¸è§çš„ç”µå­ä¹¦/æ–‡æ¡£æ ¼å¼ï¼Œå‡ ä¹å…è´¹ï¼Œé™¤äº†é¦–é¡µåº•éƒ¨æœ‰ä¸€æ¡æ¨ªå¹…å¹¿å‘Šéœ€è¦ä»˜è´¹å»é™¤å¤–ï¼Œè¿˜æœªå‘ç°ä»»ä½•éœ€è¦ä»˜è´¹çš„åŠŸèƒ½\n\n## å®‰è£…\n\nfredaä¸Šæ¶åœ¨Microsoft storeï¼Œç›´æ¥å»æœç´¢ freda å³å¯å®‰è£…\n\n## ä½“éªŒ\n\n### ç‰¹ç‚¹\n\nè¿™æ˜¯ä¸»ç•Œé¢ï¼Œéå¸¸win10åŸç”Ÿçš„é£æ ¼\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416212839.png)\nä¸»é¡µä¸‹æ–¹æœ‰æ¨ªæ¡å¹¿å‘Šï¼Œéœ€è¦ä»˜è´¹å¤§çº¦2åˆ€å»é™¤ã€‚å¯¹äºæˆ‘æ¥è¯´ï¼Œä¸»é¡µé¢çš„å¹¿å‘Šå¯ä»¥ä¸åœ¨æ„ï¼Œä½†å¦‚æœæ˜¯é˜…è¯»è¿‡ç¨‹ä¸­çš„å¹¿å‘Šä¼šè®©æˆ‘ç›´æ¥åŠé€€\n\nå¯ä»¥çœ‹åˆ°ï¼Œfredaå¯ä»¥ä»æœ¬åœ°ï¼Œæˆ–æ˜¯feedbooks/calibre/onedrive/gutenberg/epub books/smashwordså¯¼å…¥/å¤‡ä»½/åŒæ­¥ä½ çš„ç”µå­ä¹¦ï¼Œä½†æ˜¯æˆ‘å‡ ä¹åªæŠŠå®ƒå½“ä½œæœ¬åœ°é˜…è¯»å™¨ä½¿ç”¨äº†2333\n\nfredaçš„é«˜çº§åŠŸèƒ½æ˜¯å…è´¹çš„ï¼Œæ”¯æŒä¹¦ç­¾ï¼Œæ³¨é‡Šå’Œçªå‡ºæ˜¾ç¤ºï¼Œè¿˜æœ‰æ–‡æœ¬åˆ°è¯­éŸ³è½¬æ¢ï¼Œå¾ˆé€‚åˆå­¦ç”Ÿç”¨ã€‚\n\næ”¯æŒå¾ˆå¤šç§æ ¼å¼\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416213435.png)\n\nå¯ä»¥ä½¿ç”¨æ ‡é¢˜æˆ–æ˜¯tagç­‰æ–¹å¼ç®¡ç†ç”µå­ä¹¦\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416213701.png)\n\nå…·æœ‰éå¸¸å¼ºçš„è‡ªå®šä¹‰æ€§ï¼Œæˆ‘å¾ˆå–œæ¬¢è¿™ä¸€ç‚¹\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416213933.png)\n\nå¤šç§ä¸»é¢˜æ ·å¼å¯é€‰æ‹©ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±å–œå¥½è‡ªå®šä¹‰å‡ºå¥½çœ‹çš„ç¨‹åºå¤–è§‚\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416214030.png)\n\næ–‡æœ¬å­—ä½“ï¼Œä¸»é¢˜èƒŒæ™¯ï¼Œé¡µé¢çº¸å¼ ï¼Œæ–‡å­—é¢œè‰²ç­‰ç­‰éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200416220501.png)\n\n### ç¼ºç‚¹\n\n1. ä¸æ”¯æŒä¸­æ–‡çš„ç¨‹åºé¡µé¢\n2. æœ‰æ¨ªå¹…å¹¿å‘Š\n3. æ— æ³•é˜…è¯»å—ä¿æŠ¤çš„Kindleä¹¦ç±\n"},{"title":"ç®€å•æ±‡æ€»ä¸‹é‚£äº›æ¨è¿‡çš„galgameï¼ˆæŒç»­æ›´æ–°ï¼‰","tags":["ACG","galgame"],"categories":["æ—¥å¸¸"],"author":"æŸ¯ç½—krau","excerpt":"\n","link":"/posts/gal-collection","content":"\n<!-- more -->\n\n## ä¸ªäºº galgame æ•´ç†&å®‰åˆ©\n\nå°±æŒ‰ç…§æˆ‘èƒ½å›æƒ³èµ·æ¥çš„å…ˆåé¡ºåºæ’åºå§ï¼ˆï¼Œè€Œä¸”ä¹Ÿæ‡’å¾—åˆ†ç±»ä»€ä¹ˆçš„ï¼Œéƒ½æ··ç€åˆ—å‡ºæ¥å¾—äº†ï¼ˆ\nåæ­£æˆ‘ç©çš„ä¸ç®—å¤šâ†æ˜¯çœŸè¯\n\n---\n\n### å°†æ‰€æœ‰çš„æ­ŒçŒ®ç»™æœªæ¥çš„ä½ \n\n![](https://i.loli.net/2021/06/02/FEuSNprv2xtG3LH.png)\n\n> æœªæ¥ã®ã‚­ãƒŸã¨ã€ã™ã¹ã¦ã®æ­Œã«â€•æ˜¯Supplement Timeåœ¨2008å¹´04æœˆ04æ—¥[1]å‘å”®çš„åˆéŸ³åŒäººæ¸¸æˆã€‚æ˜¯Supplement Timeå‡ºå“çš„åˆéŸ³ç³»åˆ—çš„åŒäººæ¸¸æˆçš„ç¬¬ä¸€éƒ¨ã€‚å…¶åç»­ä½œæœ‰éˆ´ãŒæ­Œã†ã€æœªæ¥ã®éŸ³è‰²â€•å’Œæœªæ¥ã®æ­Œã¨ã€ã¤ãªãŒã‚‹ãƒ’ãƒˆãƒŸã€‚\nè¯¦è§[èŒå¨˜ç™¾ç§‘](https://zh.moegirl.org/zh-hans/%E5%B0%86%E6%89%80%E6%9C%89%E7%9A%84%E6%AD%8C%E7%8C%AE%E4%BA%8E%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%BD%A0)\n\nåº”è¯¥æ˜¯æˆ‘ç©çš„ç¬¬ä¸€æ¬¾galï¼Ÿï¼Ÿä¸å¤ªç¡®å®šäº†ï¼Œåæ­£ç©çš„æŒºæ—©çš„\n\nç®—æ˜¯æ¯”è¾ƒæ—¥å¸¸ä½†æ˜¯åˆæœ‰äº›æ³¢æŠ˜çš„å‰§æƒ…ï¼Œæ€»ä¹‹å°±æ˜¯åœ¨å¤§è¡—ä¸Šæ¡å›å®¶äº†åªmikuç„¶åå‘ç”Ÿçš„ç§ç§......\n\n### nekopara\n\n![](https://pic.downk.cc/item/5f04083814195aa5946cd80d.jpg)\n>ã€ŠçŒ«å¨˜ä¹å›­ã€‹ï¼ˆæ—¥è¯­ï¼šãƒã‚³ã±ã‚‰ï¼›è‹±è¯­ï¼šNEKOPARAï¼‰æ˜¯ç”±NEKO WORKså‘è¡Œçš„Galgameã€‚\nè¯¦è§èŒå¨˜ç™¾ç§‘[çŒ«å¨˜ä¹å›­](https://zh.moegirl.org/zh-hans/%E7%8C%AB%E5%A8%98%E4%B9%90%E5%9B%AD#)\n  \nç»å…¸çš„çŒ«ç³»galï¼Œ~~å¬è¯´æ‰“ä¸ªè¡¥ä¸ä¼šæ›´æœ‰è¶£~~\n\n### ç¾å°‘å¥³ä¸‡åé•œ\n\nä¸é…å›¾äº†è¿™ä¸ªemmmm\n>ã€Šç¾å°‘å¥³ä¸‡åé•œã€‹ç¾å°‘å¥³ä¸‡æ‹”é•œï¼ˆæ—¥è¯­ï¼šç¾å°‘å¥³ä¸‡è¯é¡ï¼‰æ˜¯æ—¥æœ¬æ¸¸æˆå“ç‰ŒÏ‰staråˆ¶ä½œå¹¶å‘å”®çš„çº¯çˆ±ç³»è¶…è‡ªç„¶å®˜èƒ½AVGç³»åˆ—ä½œå“ã€‚ è¯¦è§èŒå¨˜ç™¾ç§‘[ç¾å°‘å¥³ä¸‡åé•œ](https://zh.moegirl.org/zh-hans/%E7%BE%8E%E5%B0%91%E5%A5%B3%E4%B8%87%E5%8D%8E%E9%95%9C#)\n\n### å“¥å“¥ï¼Œæ—©ä¸Šèµ·åºŠä¹‹å‰éƒ½è¦æŠ±ç´§æˆ‘å“¦\n\n![](https://pic.downk.cc/item/5f0409ee14195aa5946d78e2.jpg)\n>ã€Šå“¥å“¥ï¼Œæ—©ä¸Šèµ·åºŠä¹‹å‰éƒ½è¦æŠ±ç´§æˆ‘å“¦ï¼ã€‹æ˜¯ç”±Tinkle Positionåˆ¶ä½œçš„ä¸€éƒ¨Galgameã€‚ [èŒå¨˜ç™¾ç§‘è¯¦æƒ…](https://zh.moegirl.org/zh-hans/%E5%93%A5%E5%93%A5%EF%BC%8C%E6%97%A9%E4%B8%8A%E8%B5%B7%E5%BA%8A%E4%B9%8B%E5%89%8D%E9%83%BD%E8%A6%81%E6%8A%B1%E7%B4%A7%E6%88%91%E5%93%A6%EF%BC%81)\n\n~~å›½æ¬ å¦¹ç³»åˆ—~~\n\n### ç¼˜ä¹‹ç©º\n\n![](https://pic.downk.cc/item/5f040afe14195aa5946dd903.jpg)\n>ã€Šç¼˜ä¹‹ç©ºã€‹ï¼ˆãƒ¨ã‚¹ã‚¬ãƒã‚½ãƒ©ï¼ŒYosuga no Soraï¼‰æ˜¯Sphereäº2008å¹´12æœˆ5æ—¥å‘å”®çš„æ‹çˆ±æ–‡å­—å†’é™©æ¸¸æˆï¼Œä¹Ÿæ˜¯Sphereçš„å¤„å¥³ä½œã€‚äº¦æœ‰æ¼«ç”»ã€åŠ¨ç”»ã€Fandiskã€å¹¿æ’­å‰§ç­‰è¡ç”Ÿä½œå“ã€‚[èŒå¨˜ç™¾ç§‘ï¼šç¼˜ä¹‹ç©º](https://zh.moegirl.org/zh-hans/%E7%BC%98%E4%B9%8B%E7%A9%BA#)\n\nå›½æ¬ å¦¹*2\nå¯¹åº”çš„ç»­ä½œè¿˜æœ‰ä¸€éƒ¨ã€æ‚ ä¹‹ç©ºã€\n\n### åŒå­æ´›ä¸½å¡”åå®«\n\n   ![](https://pic.downk.cc/item/5f040b9114195aa5946e11b6.jpg)\n\n   ä¸è¯´ä»€ä¹ˆ~\n\n### æ±æ´¥èŒç±³-ç©—å§¬\n\n![](https://i.loli.net/2020/07/07/ygVwB4o3i19zxXm.jpg)_æ‰¾ä¸åˆ°æ›´é«˜æ¸…çš„å›¾äº†_\n> ç©—å§¬æ˜¯åŸäº§äºå°æ¹¾å±ä¸œå¿ä¸œæ¸¯é•‡çš„æ‚äº¤ç¨»ç±³å“ç§â€œé«˜é›„145â€ä»¥åŠè¯¥ç¨»ç±³æ‰€äº§çš„å¤§ç±³â€œä¸œæ´¥èŒç±³â€çš„èŒå¨˜åŒ–å½¢è±¡ï¼Œä¹Ÿç™»åœºäºæ¸¸æˆã€Šä¸œæ´¥èŒç±³-ç©—å§¬ã€‹ä¸­ã€‚ [èŒå¨˜ç™¾ç§‘ï¼šç©—å§¬](https://zh.moegirl.org/zh-hans/%E7%A9%97%E5%A7%AC#)\n\nå›½äº§æ¸¸æˆï¼Œæ›´åå‘äºå…»æˆç³»çš„ï¼ˆç§å¤§ç±³ï¼‰ï¼Œå§‘ä¸”ä¹Ÿç®—æ˜¯galgameå§\n~~ä¸‡ç‰©çš†å¯èŒ~~\n\n### å®¶æœ‰ä»™å¦»ï½æ— åå°çŒ«åˆä¸ç¥Tuberï½\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200707140100.png)\n\nçŒ«ç³»galgame*2\n\nèŒç™¾æ²¡æ”¶å½•è¿™ä¸ª......æ˜æ˜æŒº~~ç¤¾ä¿~~çš„\n\n### æ‹çˆ±å°‘å¥³äººæ ¼å´©å\n\n![](https://pic.downk.cc/item/5f154ec714195aa5942c10a6.jpg)\n\nèƒ½æç¬‘åˆèƒ½ç¤¾ä¿~~ï¼ˆæŒ‡ç”·ä¸»ï¼‰~~\n\n### é­”å¥³çš„å¤œå®´\n\næ—¶é—´ï¼š2020.7.17-2020.7.24Â±\n![](https://cdn.jsdelivr.net/gh/voidoath/photo@master/blog-img/sabbatofwitch.png)\n\nè°æ•¢åå¯¹ç‹—å¤´ï¼Œæˆ‘å°±æ‰“çˆ†ä»–çš„å®å®ï¼ˆé”™ä¹±\n\n### åƒæ‹ä¸‡èŠ±\n\næ—¶é—´ï¼š2020.7.26Â±-2020.7.28Â±ï¼ˆåªè¿‡äº†ä»é›¨çº¿ï¼‰\nä»é›¨å¤©ä¸‹ç¬¬ä¸€ï¼\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200804182632.png)\n\n### ATRI -My Dear Moments-\n\næ—¶é—´ï¼š2020.7.29-2020.8.2ï¼Ÿ\nå’•å™œå’•å™œ~å‘¸\n![](https://i.loli.net/2020/08/04/kEtr4q3MexlNzvA.png)\n\n### æ˜Ÿå…‰å’–å•¡é¦†ä¸æ­»ç¥ä¹‹è¶\n\næ—¶é—´ï¼š2020.8.28-8.31ï¼ˆæ˜æœˆæ é‚£ï¼‰\n~~æ˜Ÿå·´å…‹ä¸å¤§æ‰‘æ£±è›¾å­~~\n![](https://i.loli.net/2020/09/11/eRyb7AahWzgdKkD.png)\n\n### RIDDLEJOKER\n\næ—¶é—´ï¼š2020.9.7-9.16ï¼ˆåœ¨åŸä¸ƒæµ·ï¼‰\nèƒ½æ¨ç¡ç€çš„ä¸€gal......ä½†æ„Ÿè§‰è¿˜ä¸æˆ³ï¼Œï¼ˆä¸ƒæµ·å¤©ä¸‹ç¬¬ä¸€ï¼‰\n![å›¾ç‰‡.png](https://i.loli.net/2021/06/02/VC8r7GvWoeUTm4M.png)\n\n### æƒ³è¦ä¼ è¾¾ç»™ä½ çš„çˆ±æ‹\n\næ—¶é—´ï¼š5.24-5.30\nè‹Ÿåˆ©æ˜Ÿå¥ç”Ÿæ­»ä»¥ï¼Œå²‚å› æ–°å²›é¿è¶‹ä¹‹\n![](https://i.loli.net/2021/06/02/2zX4i3DFrco7Lhs.png)\n\n### å¼‚æƒ³é­…æƒ‘\n\næ—¶é—´:2021.6.4ï¼ˆäº‘ï¼‰\n\n# å¼‚æƒ³é­…æƒ‘\n\næ¢ç´¢è§£å¯†å¼çš„å‰§æƒ…ç©æ³•+è‰²æ°”å¯çˆ±çš„å”¯ä¸€å¥³ä¸»é­…é­”è®¾å®š\nè™½ç„¶teç¡®å®å¾ˆæ„Ÿäººï¼Œä½†å…¶ä»–äº”æ¡ç»“å±€ä¹Ÿå¾ˆç»æœ›å’ŒæƒŠæ‚š\n![](https://i.loli.net/2021/06/04/Bir1Gpe7KzbDxT5.png)\n\n### è¯±æƒ‘è‡ªå¤§æ´›ä¸½å¡”\n\næ—¶é—´ï¼š2021å¹´\n![](https://i.loli.net/2021/06/04/LQpf9eHyVNYbaCM.png)\n\n### ä¹æ¬¡ä¹æ—¥ä¹é‡è‰²\n\næ—¶é—´ï¼š2021.6.5\n![](https://i.loli.net/2021/06/06/tZD7gOkq6lzo1WR.png)\nå–µéƒ½å¤ªå¯çˆ±äº†\n\n### å¤©è‰²å¤©æ­Œå¤©ç±éŸ³\n\næ—¶é—´ï¼š2021.6.6\nå›½æ¬ æˆ‘ä¸€ä¸ªå¤©å¦¹\n![](https://i.loli.net/2021/06/06/4Med61olIyfZv5t.png)\n\n### æ˜¥è‰²æ˜¥æ‹æ˜¥ç†™é£\n\næ—¶é—´ï¼š2021.6.7\n\n### é›ªè‰²é›ªèŠ±é›ªä½™ç—•\n\næ—¶é—´ï¼š2021.6.7-6.8\n\n### 9-nine- æ–°ç« \n\næ—¶é—´ï¼š2021.6.8\n\n### ç‰µç»Šé—ªè€€çš„æ‹ä¹‹ä¼Šå•æ³¢\n\næ—¶é—´ï¼š2021.8.25-8.29\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210829224332.png)\n\nå‘æ¤¿å•¦å‘æ¤¿å•¦ï¼Œå½“ç„¶æ¤¿æ‹æ­Œä¹Ÿä¼šæ¨çš„å•¦ï¼Œè¿™é‡Œå°±åªå†™ä¸€ä¸ªå¥½äº†\n\n### æ˜Ÿç©ºåˆ—è½¦ä¸ç™½çš„æ—…è¡Œ\n\næ—¶é—´ï¼š2021.9\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/000_title.png)\nè¿™æ˜¯ä¸€éƒ¨â€œç«¥è¯â€\n\n### å·§å¯ç”œæ‹\n\næ—¶é—´ï¼š2021.9\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20211001193405.png)\nå‰§æƒ…æ˜¯çœŸçš„çŸ­ï¼Œä½†å¥¹çœŸçš„å¤ªå¯çˆ±äº†å¤ªåˆ‘äº†\n\n### ç³–è°ƒï¼-sugarfull tempering-\n\næ—¶é—´ï¼š2021.9\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/Sugarful_cover.jpg)\nå†°ç»‡å¤©ä¸‹ç¬¬ä¸€ï¼\n"},{"title":"2021æ–°å¹´å¿«ä¹!","tags":[],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\nå‹¤å‹‰çš„æˆ‘å·²ç»ç»™æ‰€æœ‰å‹è”å‘äº†æ–°å¹´ç¥ç¦ï¼ˆçº¯æ‰‹åŠ¨ï¼‰ï¼Œå¦‚æœæ²¡æ”¶åˆ°å¯èƒ½æœ‰ä»¥ä¸‹åŸå› ï¼š\n\n1. åšå®¢å†…æ²¡æœ‰è®¾ç½®è¯„è®ºå…¥å£ä¸”æ²¡æœ‰æä¾›é‚®ç®±è”ç³»æ–¹å¼\n2. è¯„è®ºç³»ç»Ÿç‚¸äº†ä¸”æ²¡æœ‰æä¾›é‚®ç®±è”ç³»æ–¹å¼\n3. é“¾æ¥å¤±æ•ˆ\n4. å•å‘æœ¬","link":"/posts/happynewyear2021","content":"\nå‹¤å‹‰çš„æˆ‘å·²ç»ç»™æ‰€æœ‰å‹è”å‘äº†æ–°å¹´ç¥ç¦ï¼ˆçº¯æ‰‹åŠ¨ï¼‰ï¼Œå¦‚æœæ²¡æ”¶åˆ°å¯èƒ½æœ‰ä»¥ä¸‹åŸå› ï¼š\n\n1. åšå®¢å†…æ²¡æœ‰è®¾ç½®è¯„è®ºå…¥å£ä¸”æ²¡æœ‰æä¾›é‚®ç®±è”ç³»æ–¹å¼\n2. è¯„è®ºç³»ç»Ÿç‚¸äº†ä¸”æ²¡æœ‰æä¾›é‚®ç®±è”ç³»æ–¹å¼\n3. é“¾æ¥å¤±æ•ˆ\n4. å•å‘æœ¬ç«™\n5. æˆ‘æ²¡çœ‹è§ä½ çš„é‚®ç®±æˆ–è€…æ²¡æ‰¾åˆ°è¯„è®ºå…¥å£ï¼ˆ\n\nè¿™æ¬¡é¡ºä¾¿æ¸…æŸ¥äº†ä¸€äº›æŒ‚æ‰çš„é“¾æ¥ï¼Œå•å‘æœ¬ç«™çš„éƒ½åˆ é™¤äº†ï¼Œé“¾æ¥æŒ‚äº†æˆ–è€…å¾ˆé•¿æ—¶é—´ï¼ˆçº¦8ä¸ªæœˆä»¥ä¸Šï¼‰æ²¡æœ‰ä»»ä½•æ›´æ–°çš„ç§»åŠ¨åˆ°äº†å¤±è”ç»„\n\næ€»ä¹‹ç¥å„ä½æ–°å¹´å¿«ä¹å•¦\n"},{"title":"hexoè®¾å¤‡è¿ç§»","tags":["hexo","åšå®¢"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n","link":"/posts/hexo-devices-migrate","content":"\n<!-- more -->\n\n1. å¤‡ä»½æ•´ä¸ªblogæ–‡ä»¶å¤¹ï¼ˆé™¤ node_modules æ–‡ä»¶å¤¹ä»¥åŠä¸€äº›ä¸´æ—¶æ–‡ä»¶ï¼‰\n2. åœ¨æ–°è®¾å¤‡ä¸Šå®‰è£… node.js ã€npmã€git\n3. ä½¿ç”¨npmå…¨å±€å®‰è£…hexo\n4. åœ¨åšå®¢æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ`npm install`å®‰è£…ä¾èµ–\n5. é…ç½®sshå¯†é’¥\n\n   `ssh-keygen -t rsa -C \"example@email.com\"`\n    ç”Ÿæˆå¯†é’¥åå¤åˆ¶å†…å®¹ç²˜è´´åˆ°ä»£ç æ‰˜ç®¡ç½‘ç«™çš„ä¸ªäººå¯†é’¥è®¾ç½®ä¸­ github>settings>SSH and GPG keys>New SSH key\n\n6. è®¾ç½®gitå…¨å±€èº«ä»½\n\n    `git config --global user.name \"your user name\"`\n\n    `git config --global user.email \"example@email.com\"`\n\n7. å®šä½åˆ°å¤‡ä»½ä¸‹æ¥çš„blogæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œhexo déƒ¨ç½²å°è¯•ï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é”™è¯¯æç¤ºï¼š\n\n    â€œWarning: Permanently added the RSA host key for IP address 'i.p.i.p' to the list of known hosts.â€\n\n    å¹¶ä¼šè¯¢é—®æ˜¯å¦ä»è¦å»ºç«‹è¿æ¥ï¼ˆyes/noï¼‰\n    yes å°±å¯ä»¥äº†"},{"title":"å°† hexo åšå®¢è¿ç§»è‡³ valaxy","tags":["hexo","valaxy","åšå®¢","å®‰åˆ©"],"categories":["å°æŠ€æœ¯"],"author":"æŸ¯ç½—krau","excerpt":"\n::: warning æ³¨æ„\næœ¬æ–‡ç« ä½œäº valaxy ç‰ˆæœ¬ 0.12.2 , éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ , è¯·ç»“åˆ[å®˜æ–¹æ–‡æ¡£](https://valaxy.site/guide/getting-started)ä¸€èµ·é˜…è¯»\n:::\n\n## å‰è¨€\n\nåœ¨ 2022 å¹´ 8 æœˆä»½ï¼Œæˆ‘å‘[äº‘æ¸¸å›](https://github.com/YunYouJun)çš„ hexo ä¸»é¢˜ [hexo-theme-yun](https://github.com/YunYouJun/hexo-theme-yun) æ issue çš„æ—¶å€™ï¼Œä»–å‘æˆ‘æåˆ°äº† [valaxy](https://valaxy.site/) è¿™ä¸ªç”±ä»–å¼€å‘çš„é™æ€åšå®¢æ¡†æ¶ã€‚å½“æ—¶ valaxy ååˆ†å…ˆè¿›çš„æŠ€æœ¯æ ˆå’Œä¸€äº›ä¼˜è‰¯ç‰¹æ€§ä¸€ä¸‹å°±å¸å¼•äº†æˆ‘ï¼Œä½†æ˜¯ç”±äºæˆ‘å·²ç»ä½¿ç”¨ hexo å†™äº†å¾ˆå¤šæ–‡ç« ï¼Œä¸” valaxy ä¹Ÿæ²¡æœ‰è¿ç§»æ–‡æ¡£/å·¥å…·ï¼Œæ‰€ä»¥é‚£æ—¶æˆ‘å¹¶æ²¡æœ‰è¿ç§»ã€‚\n\næ—¶éš”åŠå¹´ï¼Œæˆ‘å†å»çœ‹ valaxy çš„æ—¶å€™ï¼Œå®ƒå·²ç»åŸºæœ¬å¯ç”¨äº†ï¼Œæ–‡æ¡£è™½ç„¶è¿˜æ˜¯ä¸å®Œæ•´ï¼Œä½†æ˜¯å¤Ÿç”¨ã€‚äºæ˜¯æˆ‘å†³å®šå°†æˆ‘çš„ hexo åšå®¢è¿ç§»è‡³ valaxyã€‚~~hexo è¿™è´¼èˆ¹è¶Šæ—©ä¸‹è¶Šå¥½~~\n\n","link":"/posts/hexo-migrate-to-valaxy","content":"\n::: warning æ³¨æ„\næœ¬æ–‡ç« ä½œäº valaxy ç‰ˆæœ¬ 0.12.2 , éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ , è¯·ç»“åˆ[å®˜æ–¹æ–‡æ¡£](https://valaxy.site/guide/getting-started)ä¸€èµ·é˜…è¯»\n:::\n\n## å‰è¨€\n\nåœ¨ 2022 å¹´ 8 æœˆä»½ï¼Œæˆ‘å‘[äº‘æ¸¸å›](https://github.com/YunYouJun)çš„ hexo ä¸»é¢˜ [hexo-theme-yun](https://github.com/YunYouJun/hexo-theme-yun) æ issue çš„æ—¶å€™ï¼Œä»–å‘æˆ‘æåˆ°äº† [valaxy](https://valaxy.site/) è¿™ä¸ªç”±ä»–å¼€å‘çš„é™æ€åšå®¢æ¡†æ¶ã€‚å½“æ—¶ valaxy ååˆ†å…ˆè¿›çš„æŠ€æœ¯æ ˆå’Œä¸€äº›ä¼˜è‰¯ç‰¹æ€§ä¸€ä¸‹å°±å¸å¼•äº†æˆ‘ï¼Œä½†æ˜¯ç”±äºæˆ‘å·²ç»ä½¿ç”¨ hexo å†™äº†å¾ˆå¤šæ–‡ç« ï¼Œä¸” valaxy ä¹Ÿæ²¡æœ‰è¿ç§»æ–‡æ¡£/å·¥å…·ï¼Œæ‰€ä»¥é‚£æ—¶æˆ‘å¹¶æ²¡æœ‰è¿ç§»ã€‚\n\næ—¶éš”åŠå¹´ï¼Œæˆ‘å†å»çœ‹ valaxy çš„æ—¶å€™ï¼Œå®ƒå·²ç»åŸºæœ¬å¯ç”¨äº†ï¼Œæ–‡æ¡£è™½ç„¶è¿˜æ˜¯ä¸å®Œæ•´ï¼Œä½†æ˜¯å¤Ÿç”¨ã€‚äºæ˜¯æˆ‘å†³å®šå°†æˆ‘çš„ hexo åšå®¢è¿ç§»è‡³ valaxyã€‚~~hexo è¿™è´¼èˆ¹è¶Šæ—©ä¸‹è¶Šå¥½~~\n\n<!-- more -->\n\n### å…³äº hexo\n\nç›¸ä¿¡å¾ˆå¤šåšä¸»åœ¨æœç´¢â€œç™½å«–â€å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªäº†è§£åˆ°çš„æ–¹æ¡ˆå°±æ˜¯ hexo + GitHub pages ã€‚hexo ç¡®å®ç»å…¸ã€æˆç†Ÿï¼Œä½†æ˜¯å´æœ‰å¾ˆå¤šå†å²é—®é¢˜ã€‚åŠŸèƒ½ä¸Šä¸å¤Ÿç»„ä»¶åŒ–ã€ä½“éªŒä¸Šä¸èƒ½çƒ­æ›´æ–°ã€æ€§èƒ½ä¸Šæ„å»ºé€Ÿåº¦ä¸å¤Ÿå¿«ç­‰ç­‰ã€‚å°¤å…¶è®©æˆ‘æ„Ÿåˆ°åˆ«æ‰­çš„æ˜¯å®ƒæ‚ä¹±çš„ç›®å½•ç»“æ„...å°½ç®¡å·²ç»ä½¿ç”¨ hexo ä¸‰å¹´ï¼Œæˆ‘è¿˜æ˜¯å†³å®šæ”¾å¼ƒå®ƒäº†ã€‚\n\n### å…³äº valaxy\n\nè¿™æ˜¯ä¸€ä¸ªå„ç§æ„ä¹‰ä¸Šå¾ˆæ–°çš„ä¸œè¥¿ï¼Œä¸»è¦ç”±äº‘æ¸¸å›å¼€å‘ï¼Œå®ƒçš„ç›®æ ‡æ˜¯æˆä¸ºä¸‹ä¸€ä»£é™æ€åšå®¢æ¡†æ¶ã€‚\n\nå…³äº valaxy çš„ä»‹ç»å¯ä»¥åœ¨ä¸‹é¢è·å–\n\n- é¡¹ç›®åœ°å€ï¼š[YunYouJun/valaxy](https://github.com/YunYouJun/valaxy)\n\n- å®˜æ–¹æ–‡æ¡£ï¼š[valaxy](https://valaxy.site/)\n\nä½†æ˜¯ valaxy å¹¶ä¸æ—¨åœ¨æˆä¸ºä¸‹ä¸€ä»£çš„ hexo ï¼Œä¹Ÿå°±æ˜¯è¯´å¹¶ä¸å‘ç€ä¸ hexo çš„å…¼å®¹çš„æ–¹å‘å¼€å‘ã€‚å› æ­¤è¿ç§»èµ·æ¥å¹¶ä¸æ˜¯ç‰¹åˆ«ç®€å•ã€‚\n\n---\n\n## åˆ›å»º valaxy é¡¹ç›®\n\n### ç¯å¢ƒ\n\nValaxy è¦æ±‚ Node.js çš„ 14.18 ä»¥ä¸Šï¼Œå¦‚æœä½ æ˜¯ä» hexo çš„è¾ƒæ–°ç‰ˆæœ¬è¿ç§»çš„ï¼Œä¸€èˆ¬ä¸éœ€è¦å»å‡çº§ã€‚\n\nvalaxy å»ºè®®ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œä½¿ç”¨ `npm i -g pnpm` å…¨å±€å®‰è£…å®ƒ\n\n### åˆ›å»º\n\nåœ¨å·¥ä½œæ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤\n\n```shell\npnpm create valaxy\n```\n\nç„¶åè¾“å…¥ä½ çš„åšå®¢æ–‡ä»¶å¤¹åï¼ŒåŒæ—¶ä¹Ÿæ˜¯é¡¹ç›®åç§°ï¼Œé»˜è®¤ä¸º `valaxy-blog`ã€‚æˆ‘è¿™é‡Œä½¿ç”¨ `valaxy-demo`\n\n![è¾“å…¥é¡¹ç›®åç§°](/photo/post-pics/hexo-migrate-to-valaxy/hexo-migrate-to-valaxy_01-16-13-37-38.webp)\n\néšåè¯¢é—®æ˜¯å¦ç°åœ¨å®‰è£…å¹¶å¯åŠ¨ï¼Œç¡®å®šã€‚\n\n![è¯¢é—®æ˜¯å¦å®‰è£…å¹¶å¯åŠ¨](/photo/post-pics/hexo-migrate-to-valaxy/hexo-migrate-to-valaxy_01-16-13-39-16.webp)\n\nå¾ˆå¿«å°±å®Œæˆäº†é¡¹ç›®åˆ›å»ºï¼Œæ­¤æ—¶å¯ä»¥åœ¨ç»ˆç«¯ä¸­æŒ‰ o æ‰“å¼€æµè§ˆå™¨é¢„è§ˆ\n\n![é¢„è§ˆ](/photo/post-pics/hexo-migrate-to-valaxy/hexo-migrate-to-valaxy_01-16-13-40-50.webp)\n\nè¿›å…¥åˆ›å»ºå¥½çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–\n\n```shell\n# install\npnpm i\n```\n\n### å‘½ä»¤\n\nvalaxy åœ¨é»˜è®¤å±€éƒ¨é…ç½®è„šæœ¬ä¸‹çš„ä¸€äº›å‘½ä»¤\n\nå¼€å¯æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆé¢„è§ˆï¼Œæ”¯æŒçƒ­é‡è½½ï¼‰\n\n```shell\npnpm run dev\n```\n\næ„å»ºé™æ€æ–‡ä»¶\n\n```shell\npnpm run build\n```\n\nå‡çº§(pnpm äº¤äº’å‡çº§å‘½ä»¤)\n\n```shell\n# upgrade valaxy\npnpm up --latest -i\n```\n\næ–°å»ºæ–‡ç« \n\n```shell\npnpm new post-title\n```\n\n## ä¿®æ”¹é…ç½®\n\nåœ¨æ­¤ç®€è¦äº†è§£ä¸€ä¸‹[ç›®å½•ç»“æ„](https://valaxy.site/guide/getting-started#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84)ï¼Œè§ä¸‹å›¾\n\n![valaxyç›®å½•ç»“æ„](/photo/post-pics/hexo-migrate-to-valaxy/hexo-migrate-to-valaxy_01-16-14-13-22.webp)\n\nå…¶ä¸­ `valaxy.config.ts` æ˜¯ä¸»è¦éœ€è¦ä¿®æ”¹çš„é…ç½®ã€‚å»ºè®®ä½¿ç”¨ VSCode ç¼–è¾‘å®ƒï¼Œå¹¶æŒ‰ç…§æç¤ºå®‰è£…æ¨èçš„æ’ä»¶ã€‚\n\n> valaxy.config.ts æä¾›äº†å®Œå¤‡çš„ç±»å‹æç¤ºï¼Œè¿™æ„å‘³ç€ä½ åœ¨ VSCode ä¸­å¯ä»¥ç›´æ¥é¼ æ ‡æ‚¬æµ®æŸ¥çœ‹å„å‚æ•°æ³¨é‡Šã€‚\n\né»˜è®¤æœ‰äº›é…ç½®é¡¹æœªåœ¨ valaxy.config.ts ä¸­ç»™å‡ºï¼Œä½¿ç”¨çš„æ˜¯é»˜è®¤å€¼ï¼Œå¯ä»¥è‡ªå·±æ·»åŠ ä¸Šå°±å¯ä»¥è¦†ç›–é»˜è®¤å€¼ã€‚\n\n### ç«™ç‚¹ä¸ä½œè€…ä¿¡æ¯\n\n![ç«™ç‚¹ä¸ä½œè€…ä¿¡æ¯é…ç½®](/photo/post-pics/hexo-migrate-to-valaxy/hexo-migrate-to-valaxy_01-16-13-50-34.webp)\n\n- url: 'ç«™ç‚¹é“¾æ¥'\n- lang: 'é»˜è®¤è¯­è¨€(valaxyæ”¯æŒå•é¡µå›½é™…åŒ–)'\n- title: 'ç«™ç‚¹æ ‡é¢˜'\n- subtitle: 'å‰¯æ ‡é¢˜'\n- author:\n  - name: 'åšä¸»åå­—'\n  - avatar: 'å¤´åƒåœ°å€'\n  - status:\n    - emoji: 'ä¸€ä¸ªemoji'\n    - message: 'çŠ¶æ€è¯´æ˜'\n- mode: 'é»˜è®¤é¢œè‰²æ¨¡å¼'\n- lastUpdated: 'å¼€å¯æœ€è¿‘æ›´æ–°:true'\n- favicon: 'ç«™ç‚¹å›¾æ ‡åœ°å€'\n- description: 'æè¿°'\n\nç¤ºä¾‹:\n\n```ts\n  url: 'http://krau.top',\n  lang: 'zh-CN',\n  title: 'æŸ¯ç½—krauçš„åšå®¢ | krau\\'s blog',\n  subtitle: '',\n  author: {\n    name: 'æŸ¯ç½—krau',\n    avatar: '/photo/avatar/avatar.jpg',\n    status:\n    {\n      emoji: 'ğŸ˜',\n      message: 'çœŸä¸æƒ³ä¸Šå­¦'\n  }},\n  mode: 'auto',\n  lastUpdated: true,\n  favicon: '',\n  description: 'å¹´è½»ï¼Œå°±è¦æŠ˜è…¾',\n  //...\n```\n\n### ç¤¾äº¤é“¾æ¥\n\n- social\n  - name: 'åç§°'\n  - link: 'é“¾æ¥'\n  - icon: 'å›¾æ ‡'\n  - color: 'é¢œè‰²'\n\nç¤ºä¾‹:\n\n```ts\nsocial: [\n    {\n      name: 'RSS',\n      link: '/atom.xml',\n      icon: 'i-ri-rss-line',\n      color: 'orange',\n    },\n    {\n      name: 'GitHub',\n      link: 'https://github.com/krau',\n      icon: 'i-ri-github-line',\n      color: '#6e5494',\n    },\n    {\n      name: 'ç½‘æ˜“äº‘éŸ³ä¹',\n      link: 'https://music.163.com/#/user/home?id=1428613796',\n      icon: 'i-ri-netease-cloud-music-line',\n      color: '#C20C0C',\n    },\n    {\n      name: 'å“”å“©å“”å“©',\n      link: 'https://space.bilibili.com/296036767',\n      icon: 'i-ri-bilibili-line',\n      color: '#FF8EB3',\n    },\n    {\n      name: 'Telegram Channel',\n      link: 'https://t.me/acherkrau',\n      icon: 'i-ri-telegram-line',\n      color: '#0088CC',\n    },\n    {\n      name: 'Telegram Group',\n      link: 'https://t.me/blogszh',\n      icon: 'i-ri:telegram-fill',\n      color: '\"#0088CC'\n    },\n    {\n      name: 'E-Mail',\n      link: 'mailto:me@krau.top',\n      icon: 'i-ri-mail-line',\n      color: '#8E71C1',\n    },\n    {\n      name: 'Travelling',\n      link: 'https://www.travellings.cn/go.html',\n      icon: 'i-ri-train-line',\n      color: 'var(--va-c-text)',\n    },\n  ],\n```\n\n### æœç´¢\n\n- search\n  - enable: å¼€å¯æœç´¢åŠŸèƒ½:true\n  - type: 'æœç´¢æ–¹å¼:local|engine|algolia'\n\nç¤ºä¾‹:\n\n```ts\n  search: {\n    enable: true,\n    type: 'engine',\n  },\n```\n\n### èµåŠ©\n\n- sponsor\n  - enable: true|false\n  - title: 'èµåŠ©æ ‡é¢˜'\n  - methods\n    - name: 'èµåŠ©æ–¹å¼åç§°'\n    - url: 'é“¾æ¥'\n    - color: 'é¢œè‰²'\n    - icon: 'å›¾æ ‡'\n\nç¤ºä¾‹:\n\n```ts\n  sponsor: {\n    enable: false,\n    title: 'æˆ‘å¾ˆå¯çˆ±ï¼Œè¯·ç»™æˆ‘é’±ï¼',\n    methods: [\n      {\n        name: 'æ”¯ä»˜å®',\n        url: '',\n        color: '#00A3EE',\n        icon: 'i-ri-alipay-line',\n      },\n      {\n        name: 'QQ æ”¯ä»˜',\n        url: '',\n        color: '#12B7F5',\n        icon: 'i-ri-qq-line',\n      },\n      {\n        name: 'å¾®ä¿¡æ”¯ä»˜',\n        url: '',\n        color: '#2DC100',\n        icon: 'i-ri-wechat-pay-line',\n      },\n    ],\n  },\n```\n\n### yunä¸»é¢˜é…ç½®\n\nvalaxy ç›®å‰é»˜è®¤ä¸»é¢˜æ˜¯ [yun](https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun)\n\n- theme: 'ä¸»é¢˜åç§°'\n- themeConfig\n  - banner\n    - enable: æ˜¯å¦å¼€å¯é¦–é¡µæ ‡é¢˜åŠ¨ç”»:true|false\n    - title: 'æ ‡é¢˜'\n  - bg_image:\n    - enable: æ˜¯å¦å¼€å¯èƒŒæ™¯å›¾:true|false\n    - url: 'èƒŒæ™¯å›¾é“¾æ¥'\n    - dark: 'æ·±è‰²æ¨¡å¼ä¸‹çš„èƒŒæ™¯å›¾'\n    - opactity: èƒŒæ™¯ä¸é€æ˜åº¦:float\n  - colors:\n    - primary: 'ä¸»é¢˜è‰²,æ”¯æŒ16è¿›åˆ¶ä»»æ„é…è‰²'\n  - say:\n    - enable: æ˜¯å¦å¼€å¯ä¸€è¨€:true|false\n    - api: 'ä¸€è¨€apiåœ°å€,å¯ç•™ç©ºä½¿ç”¨é»˜è®¤'\n  - pages //é¡µé¢é…ç½®\n    - name: 'åç§°'\n    - url: 'è·¯å¾„|é“¾æ¥'\n    - icon: 'å›¾æ ‡'\n    - color: 'é¢œè‰²'\n  - footer\n    - since: ç½‘ç«™å¼€å§‹å¹´ä»½\n    - beian\n      - enable: æ˜¯å¦å¼€å¯å¤‡æ¡ˆä¿¡æ¯æ˜¾ç¤º:true|false\n      - icp: 'å¤‡æ¡ˆä¿¡æ¯'\n\nç¤ºä¾‹:\n\n```ts\n  theme: 'yun',\n\n  themeConfig: {\n    banner: {\n      enable: true,\n      title: 'æŸ¯ç½—ã®è‡ªç•™åœ°',\n    },\n    bg_image: {\n      enable: true,\n      url: '/photo/bg/atri.webp',\n      dark: '/photo/bg/bg.webp',\n      opacity: 0.7\n    },\n    colors: {\n      primary: '#39c5bb'\n    },\n    say:{\n      enable: false\n    },\n    pages: [\n      {\n        name: 'å‹äººå¸',\n        url: '/links/',\n        icon: 'i-ri-genderless-line',\n        color: 'dodgerblue',\n      },\n      {\n        name: 'My Love',\n        url: '/girls/',\n        icon: 'i-ri-women-line',\n        color: 'hotpink',\n      },\n    ],\n\n    footer: {\n      since: 2020,\n      beian: {\n        enable: false,\n        icp: 'è‹ICPå¤‡17038157å·',\n      },\n\n    },\n  },\n```\n\n### è¯„è®º\n\nvalaxy é€šè¿‡æ’ä»¶çš„æ–¹å¼å®ç°è¯„è®ºï¼Œç›®å‰å®ç°äº†å¯¹ [waline](https://waline.js.org) çš„æ”¯æŒ\n\n```ts\n  comment: {\n    enable: true,\n  },\n\n  addons: [\n    addonWaline({\n      serverURL: 'åç«¯é“¾æ¥',\n      //ä»¥ä¸‹åŠŸèƒ½æœªå®ç°ï¼Œä½†å¯ä»¥å…ˆå†™è¿›é…ç½®é‡Œ\n      pageview: true,\n      dark: 'auto',\n      requiredMeta: ['nick','mail'],\n      locale:{\n        placeholder: 'å¡«å†™é‚®ç®±ï¼Œå¯ä»¥æ”¶åˆ°å›å¤é€šçŸ¥~'\n      }\n        \n    }),\n  ],\n```\n\n### å®Œæ•´é…ç½®æ–‡ä»¶ç¤ºä¾‹\n\n```ts\nimport { defineConfig } from 'valaxy'\nimport type { ThemeConfig } from 'valaxy-theme-yun'\nimport { addonWaline } from 'valaxy-addon-waline'\n//import { defineConfig } from 'vite'\n// add icons what you will need\n\n/**\n * User Config\n */\n\nexport default defineConfig<ThemeConfig>({\n  url: 'https://krau.top',\n  lang: 'zh-CN',\n  title: 'æŸ¯ç½—krauçš„åšå®¢ | krau\\'s blog',\n  subtitle: '',\n  author: {\n    name: 'æŸ¯ç½—krau',\n    avatar: '/photo/avatar/avatar.jpg',\n    status:\n    {\n      emoji: 'ğŸ˜',\n      message: 'çœŸä¸æƒ³ä¸Šå­¦'\n  }},\n  mode: 'auto',\n  lastUpdated: true,\n  favicon: '',\n  description: 'å¹´è½»ï¼Œå°±è¦æŠ˜è…¾',\n  social: [\n    {\n      name: 'RSS',\n      link: '/atom.xml',\n      icon: 'i-ri-rss-line',\n      color: 'orange',\n    },\n    {\n      name: 'GitHub',\n      link: 'https://github.com/krau',\n      icon: 'i-ri-github-line',\n      color: '#6e5494',\n    },\n    {\n      name: 'ç½‘æ˜“äº‘éŸ³ä¹',\n      link: 'https://music.163.com/#/user/home?id=1428613796',\n      icon: 'i-ri-netease-cloud-music-line',\n      color: '#C20C0C',\n    },\n    {\n      name: 'å“”å“©å“”å“©',\n      link: 'https://space.bilibili.com/296036767',\n      icon: 'i-ri-bilibili-line',\n      color: '#FF8EB3',\n    },\n    {\n      name: 'Telegram Channel',\n      link: 'https://t.me/acherkrau',\n      icon: 'i-ri-telegram-line',\n      color: '#0088CC',\n    },\n    {\n      name: 'Telegram Group',\n      link: 'https://t.me/blogszh',\n      icon: 'i-ri:telegram-fill',\n      color: '\"#0088CC'\n    },\n    {\n      name: 'E-Mail',\n      link: 'mailto:me@krau.top',\n      icon: 'i-ri-mail-line',\n      color: '#8E71C1',\n    },\n    {\n      name: 'Travelling',\n      link: 'https://www.travellings.cn/go.html',\n      icon: 'i-ri-train-line',\n      color: 'var(--va-c-text)',\n    },\n  ],\n\n  search: {\n    enable: true,\n    type: 'engine',\n  },\n\n  sponsor: {\n    enable: false,\n    title: 'æˆ‘å¾ˆå¯çˆ±ï¼Œè¯·ç»™æˆ‘é’±ï¼',\n    methods: [\n      {\n        name: 'æ”¯ä»˜å®',\n        url: '',\n        color: '#00A3EE',\n        icon: 'i-ri-alipay-line',\n      },\n      {\n        name: 'QQ æ”¯ä»˜',\n        url: '',\n        color: '#12B7F5',\n        icon: 'i-ri-qq-line',\n      },\n      {\n        name: 'å¾®ä¿¡æ”¯ä»˜',\n        url: '',\n        color: '#2DC100',\n        icon: 'i-ri-wechat-pay-line',\n      },\n    ],\n  },\n\n  theme: 'yun',\n\n  themeConfig: {\n    banner: {\n      enable: true,\n      title: 'æŸ¯ç½—ã®è‡ªç•™åœ°',\n    },\n    bg_image: {\n      enable: true,\n      url: '/photo/bg/atri.webp',\n      dark: '/photo/bg/bg.webp',\n      opacity: 0.7\n    },\n    colors: {\n      primary: '#39c5bb'\n    },\n    say:{\n      enable: false\n    },\n    pages: [\n      {\n        name: 'å‹äººå¸',\n        url: '/links/',\n        icon: 'i-ri-genderless-line',\n        color: 'dodgerblue',\n      },\n      {\n        name: 'My Love',\n        url: '/girls/',\n        icon: 'i-ri-women-line',\n        color: 'hotpink',\n      },\n    ],\n\n    footer: {\n      since: 2020,\n      beian: {\n        enable: false,\n        icp: 'è‹ICPå¤‡17038157å·',\n      },\n\n    },\n  },\n\n  unocss: {\n    safelist: [\n      'i-ri-home-line',\n    ],\n  },\n\n  comment: {\n    enable: true,\n  },\n\n  addons: [\n    addonWaline({\n      serverURL: 'https://åç«¯',\n      pageview: true,\n      dark: 'auto',\n      requiredMeta: ['nick','mail'],\n      locale:{\n        placeholder: 'å¡«å†™é‚®ç®±ï¼Œå¯ä»¥æ”¶åˆ°å›å¤é€šçŸ¥~'\n      }\n        \n    }),\n  ],\n})\n```\n\n## è¿ç§»æ–‡ç« \n\n### æ‰¹é‡ä¿®æ”¹ frontmatter\n\nç”±äºåŸå…ˆåœ¨ hexo çš„æ–‡ç« æœ‰å¤ªå¤š valaxy ä¸æ”¯æŒçš„ frontmatter é¡¹ï¼Œæ‰€ä»¥éœ€è¦æ‰¹é‡ä¿®æ”¹å®ƒä»¬ï¼Œä»¥å…å¼•èµ·å¥‡æ€ªçš„é—®é¢˜\n\nç”±äºæ–‡ç« æ•°å¤šï¼Œæ‰€ä»¥å†™ä¸ªç®€å•çš„è„šæœ¬æ‰¹é‡æ“ä½œ\n\néœ€è¦å…ˆå®‰è£… `python-frontmatter`\n\n```shell\npip3 install python-frontmatter\n```\n\n```python\nimport frontmatter\nimport glob\n\npath = 'posts' #ä½ çš„æ–‡ç« è·¯å¾„ï¼Œç›¸å¯¹äºè¯¥è„šæœ¬\nmds = glob.glob(f'./{path}/*.md')\n\ndef del_metedata(md: str, key: str | list):\n    post = frontmatter.load(md)\n    metedata = post.metadata\n    try:\n        if isinstance(key, list):\n            for k in key:\n                try:\n                    del metedata[k]\n                except:\n                    continue\n        elif isinstance(key, str):\n            del metedata[key]\n        else:\n            raise TypeError('key æ˜¯ str æˆ– list')\n        frontmatter.dump(post, md)\n    except Exception as e:\n        print(f'{e} åœ¨ {md}')\n\n\ndef add_metedata(md: str, key: str, value: str):\n    post = frontmatter.load(md)\n    metedata = post.metadata\n    try:\n        metedata[key] = value\n        frontmatter.dump(post, md)\n    except Exception as e:\n        print(f'{e} åœ¨ {md}')\n\ndef main():\n    del_keys = [\n        #è¦åˆ é™¤çš„é¡¹ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹\n        'toc',\n        'abbrlink',\n        'mathjax',\n        'author',\n        'hide',\n        'sitemap',\n        'indexing',\n        'top',\n        'password',\n        'summary',\n        'comments',\n        'reward',\n        'license',\n        'edit',\n        'copyright',\n        'sticky',\n        'description'\n    ]\n    for md in mds:\n        del_metedata(md,del_keys)\n        #æ·»åŠ ä½ éœ€è¦çš„é¡¹,å¦‚æ·»åŠ  layout: post\n        add_metedata(md, 'layout', 'post')\n\n\nif __name__ == '__main__':\n    main()\n```\n\n### ä¿®æ”¹æ–‡ç« å†…å›¾ç‰‡è·¯å¾„\n\nå¦‚æœä½ å…¨ç«™éƒ½ä½¿ç”¨çš„å›¾åºŠï¼Œå¯ä»¥å¿½ç•¥è¿™ä¸€æ­¥ã€‚è€Œæˆ‘ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼ŒæŠŠå›¾ç‰‡æ”¾åœ¨äº†æœ¬åœ°ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹\n\nåŸå…ˆæ˜¯åœ¨ hexo çš„ source ç›®å½•ä¸‹ï¼Œéœ€è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ã€‚è€Œ valaxy å¯ä»¥**ç›´æ¥å¼•ç”¨**é™æ€æ–‡ä»¶å¤¹(`public`)å†…çš„æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨ /xxxx å³å¯\n\nä¾‹å¦‚ï¼Œæˆ‘åŸå…ˆçš„å›¾ç‰‡è·¯å¾„æ˜¯\n\n`../photos/post-pics/1.webp`\n\né‚£ä¹ˆåªéœ€è¦**å°†åŸå…ˆåœ¨ hexo åšå®¢ç›®å½•çš„ photos æ–‡ä»¶å¤¹ç§»åŠ¨åˆ° valaxy çš„ public æ–‡ä»¶å¤¹**ä¸‹ï¼Œç„¶åå°†è·¯å¾„ä¿®æ”¹ä¸º\n\n`/photos/post-pics/1.webp`\n\nè¿™é‡Œçš„ä¿®æ”¹å¯ä»¥ä½¿ç”¨ VSCode çš„å…¨å±€å…³é”®å­—æ›¿æ¢åŠŸèƒ½\n\n### ç§»åŠ¨æ–‡ç« \n\næŠŠæ–‡ç« ç§»åŠ¨åˆ° `åšå®¢æ–‡ä»¶å¤¹/pages/posts` ä¸‹å³å¯\n\nä½†æ˜¯æˆ‘åœ¨æ“ä½œçš„æ—¶å€™å‘ç°ï¼Œä¸€æ¬¡æ€§å¡è¿›å»å¤ªå¤šæ–‡ç« ä¼šå¯¼è‡´é¢„è§ˆé¡µé¢åŠ è½½ä¸å‡ºæ¥ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ª bug (ç‰ˆæœ¬ 0.12.2 )ã€‚å½“ç„¶æ„å»ºæ˜¯æ²¡é—®é¢˜çš„ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸éœ€è¦æœ¬åœ°é¢„è§ˆçš„è¯ï¼Œå¯ä»¥ç›´æ¥éƒ½ä¸¢è¿›å»ã€‚\n\n## è¿ç§»å‹è”é¡µé¢\n\nvalaxy çš„ yun ä¸»é¢˜çš„å‹è”é¡µé¢åœ¨ pages/links/index.mdï¼Œåœ¨ frontmatter é‡Œé…ç½®å°±å¯ä»¥äº†ï¼Œå‚è€ƒ [valaxy-theme-yun æ–‡æ¡£](https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun/docs/zh-CN)\n\næ³¨æ„ frontmatter çš„ä¸‹é¢è¦å†™ä¸€ä¸ª\n\n```html\n<YunLinks :links=\"frontmatter.links\" :random=\"frontmatter.random\" />\n```\n\n## è¿ç§» [girls](/girls/) é¡µé¢\n\nä¸ [hexo-theme-yun](https://yun.yunyoujun.cn/guide/page.html#girls) çš„é…ç½®ç›¸åŒï¼Œä½†æ˜¯ frontmatter ä¸‹é¢è¦åŠ ä¸Š\n\n```html\n<YunGirls :girls=\"frontmatter.girls\" :random=\"frontmatter.random\" />\n```\n\n~~å“ªæ¥çš„äºŒæ¬¡å…ƒ~~\n\n---\n\nè¿™æ ·å°±å®Œæˆè¿ç§»äº†ã€‚å¦‚æœæœ‰å…¶ä»–é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥å¯¹æ¯”[äº‘æ¸¸å›çš„åšå®¢ä»“åº“](https://valaxy.site/migration/hexo#%E7%A4%BA%E4%BE%8B)ä¸­ hexo å’Œ valaxy åˆ†æ”¯çš„å·®å¼‚ã€‚æˆ–è€…æå‡º [issue](https://github.com/YunYouJun/valaxy/issues/new) ã€æå‡º[è®¨è®º](https://github.com/YunYouJun/valaxy/discussions/new/choose) ï¼Œä»¥åŠåœ¨æˆ‘åšå®¢ä¸‹è¯„è®ºç•™è¨€ã€‚\n"},{"title":"ä½¿ç”¨å®˜æ–¹è„šæœ¬ä¸€é”®å®‰è£…docker|å®‰è£…docker-compose","tags":["linux","docker"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n## å®‰è£…docker\n\ndockerå®˜æ–¹æä¾›äº†å‚»ç“œå¼å®‰è£…è„šæœ¬ï¼Œä¸ºä½ åšå¥½æ‰€æœ‰å·¥ä½œï¼Œå…å»äº†æ‰‹åŠ¨å®‰è£…çš„ç¹çã€‚\n\næœ¬æ–‡å®æµ‹ç³»ç»Ÿç¯å¢ƒï¼šdebian11\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n::: tip 2023-03-07æ›´æ–°\n\nä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹å®˜æ–¹è„šæœ¬å·²ç»é»˜è®¤ä¹Ÿå®‰è£…äº† `docker compose`,ä¸éœ€è¦åé¢çš„æ‰‹åŠ¨å®‰è£…äº†\n\næ³¨æ„æ˜¯ `docker compose` è€Œä¸æ˜¯ `docker-compose`. æ‰§è¡Œå‘½ä»¤æ—¶å€™ä¹Ÿæ²¡æœ‰è¿™ä¸ªæ \n\n:::\n\n```shell\ncurl -fsSL https://get.docker.com | bash -s docker\n```\n","link":"/posts/install-docker-one-key","content":"\n## å®‰è£…docker\n\ndockerå®˜æ–¹æä¾›äº†å‚»ç“œå¼å®‰è£…è„šæœ¬ï¼Œä¸ºä½ åšå¥½æ‰€æœ‰å·¥ä½œï¼Œå…å»äº†æ‰‹åŠ¨å®‰è£…çš„ç¹çã€‚\n\næœ¬æ–‡å®æµ‹ç³»ç»Ÿç¯å¢ƒï¼šdebian11\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n::: tip 2023-03-07æ›´æ–°\n\nä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹å®˜æ–¹è„šæœ¬å·²ç»é»˜è®¤ä¹Ÿå®‰è£…äº† `docker compose`,ä¸éœ€è¦åé¢çš„æ‰‹åŠ¨å®‰è£…äº†\n\næ³¨æ„æ˜¯ `docker compose` è€Œä¸æ˜¯ `docker-compose`. æ‰§è¡Œå‘½ä»¤æ—¶å€™ä¹Ÿæ²¡æœ‰è¿™ä¸ªæ \n\n:::\n\n```shell\ncurl -fsSL https://get.docker.com | bash -s docker\n```\n<!-- more -->\nå¯åœ¨æ­¤å‘½ä»¤åé™„å¸¦`--mirror`å‚æ•°è®¾ç½®é•œåƒæºï¼Œä»¥æé«˜å›½å†…æœåŠ¡å™¨ä¸‹è½½dockerçš„é€Ÿåº¦\n\n**è‹¥ç™»å½•linuxçš„ç”¨æˆ·ä¸æ˜¯rootï¼Œåˆ™éœ€è¦dockerçš„ç”¨æˆ·åŠ å…¥ docker ç”¨æˆ·ç»„ã€‚** å‚è€ƒä»¥ä¸‹å‘½ä»¤ã€‚\n\n```bash\nsudo groupadd docker # å»ºç«‹dockerç”¨æˆ·ç»„\nsudo usermod -aG docker $USER #å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„\n```\n\ndone\n\né‡æ–°ç™»å½•sshç»ˆç«¯ï¼Œå¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æµ‹è¯•æ˜¯å¦æ­£ç¡®å®‰è£…docker\n`docker run hello-world`\næ­£ç¡®å®‰è£…çš„è¾“å‡ºä¿¡æ¯å¦‚ä¸‹ï¼š\n\n```bash\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nd1725b59e92d: Pull complete\nDigest: xxxxxxxxxxxxxxxx\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n ```\n\n## å®‰è£…docker-compose\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n```shell\ncurl -L https://github.com/docker/compose/releases/download/v2.14.0/docker-compose-linux-`uname -m` > ./docker-compose\n```\n\næ³¨é‡Šï¼š\n\n- `uname -m`ç”¨äºè·å–æœ¬æœºæ¶æ„\n- æ³¨æ„å°†`/2.14.0/`æ¢æˆæ‰€éœ€çš„ç‰ˆæœ¬å·ï¼Œå¯å‰å¾€[docker-composeçš„ä»“åº“](https://github.com/docker/compose/releases)æŸ¥çœ‹è¯¦æƒ…\n\nè®°å¾—æˆäºˆæƒé™\n`chmod +x ./docker-compose`\nç§»åŠ¨åˆ°æ­£ç¡®è·¯å¾„\n`mv ./docker-compose /usr/local/bin/docker-compose`\n"},{"title":"Debian/Linuxå®‰è£…æœ€æ–°Pythonç‰ˆæœ¬åŠå¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†","tags":["Python","Linux"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\nPython çš„ç¯å¢ƒç®¡ç†ç¡®å®çƒ¦,è€Œä¸”ä¼šå‡ºç°ç‰ˆæœ¬ä¹‹é—´ä¸å…¼å®¹çš„æƒ…å†µ,æ‰€ä»¥æœ‰å¿…è¦çŸ¥é“å¦‚ä½•å®‰è£…ä¸åŒç‰ˆæœ¬çš„ Python å¹¶ç®¡ç†å…¶ç¯å¢ƒ.\n\næœ¬æ–‡ç³»ç»Ÿç¯å¢ƒä¸º Debian11, è™šæ‹Ÿç¯å¢ƒå·¥å…·ä½¿ç”¨çš„æ˜¯ venv, é‡‡ç”¨ç¼–è¯‘å®‰è£…çš„æ–¹æ³•. æˆªæ­¢æ­¤æ–‡åˆ›å»ºæ—¶, Python æœ€æ–°ç‰ˆæœ¬ä¸º 3.11.3\n\n","link":"/posts/install-manage-python-version-on-linux","content":"\nPython çš„ç¯å¢ƒç®¡ç†ç¡®å®çƒ¦,è€Œä¸”ä¼šå‡ºç°ç‰ˆæœ¬ä¹‹é—´ä¸å…¼å®¹çš„æƒ…å†µ,æ‰€ä»¥æœ‰å¿…è¦çŸ¥é“å¦‚ä½•å®‰è£…ä¸åŒç‰ˆæœ¬çš„ Python å¹¶ç®¡ç†å…¶ç¯å¢ƒ.\n\næœ¬æ–‡ç³»ç»Ÿç¯å¢ƒä¸º Debian11, è™šæ‹Ÿç¯å¢ƒå·¥å…·ä½¿ç”¨çš„æ˜¯ venv, é‡‡ç”¨ç¼–è¯‘å®‰è£…çš„æ–¹æ³•. æˆªæ­¢æ­¤æ–‡åˆ›å»ºæ—¶, Python æœ€æ–°ç‰ˆæœ¬ä¸º 3.11.3\n\n<!-- more -->\n\n## å®‰è£…\n\n### ä¸‹è½½Pythonæºç \n\nå»å¾€ [Python å®˜ç½‘](https://www.python.org/downloads/) ä¸‹è½½ä½ æƒ³å®‰è£…çš„ç‰ˆæœ¬çš„æºç , ä»¥ç›®å‰æœ€æ–°çš„ Python3.11 ä¸ºä¾‹\n\n![å›¾ 3](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-15-38-10.webp)  \n\nä½¿ç”¨ wget ä¸‹è½½:\n\n```shell\nwget https://www.python.org/ftp/python/3.11.3/Python-3.11.3.tar.xz\n```\n\n### é…ç½®æ„å»º\n\nä¸‹è½½å®Œæˆå, å°†å…¶è§£å‹:\n\n```shell\ntar -xf Python-3.11.3.tar.xz\n```\n\nå®‰è£…å¿…è¦çš„ä¾èµ–è½¯ä»¶:\n\n```shell\nsudo apt update\n\nsudo apt install build-essential zlib1g-dev libncurses5-dev \\\nlibgdbm-dev libnss3-dev libssl-dev libsqlite3-dev pkg-config \\\nlibreadline-dev libffi-dev curl libbz2-dev curl -y\n```\n\nè¿›å…¥ Python æºç æ–‡ä»¶å¤¹, å¹¶é…ç½®\n\n```shell\ncd Python-3.11.3\n./configure --enable-optimizations --with-lto\n```\n\n::: tip æ³¨æ„\n`configure` åçš„ `--enable-optimizations` `--with-lto` ä¸¤ä¸ªå‚æ•°æ˜¯ä¸ºäº†æé«˜æ€§èƒ½, ä½†å®ƒä¼šä½¿å¾— Python ç¼–è¯‘è¿‡ç¨‹å˜æ…¢, ä½ å¯ä»¥é€‰æ‹©ä¸å¯ç”¨å®ƒä»¬. å¦‚æœä½ é‡åˆ°äº†é—®é¢˜, å¯ä»¥å°è¯•åªå¼€å¯ `--enable-optimizations`, æˆ–è€…äºŒè€…éƒ½ä¸ä½¿ç”¨\n\nå…³äºé…ç½®å‚æ•°çš„æ›´å¤šä¿¡æ¯, å¯ä»¥å‚é˜…[å®˜æ–¹æ–‡æ¡£](https://docs.python.org/zh-cn/3/using/configure.html)\n:::\n\nå¦‚æœä¸Šé¢å‘½ä»¤çš„è¾“å‡ºæ²¡æœ‰é”™è¯¯, é‚£ä¹ˆå°±å¯ä»¥å¼€å§‹ç¼–è¯‘äº†.\n\n![å›¾ 4](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-15-52-08.webp)  \n\nè‹¥æç¤ºç¼ºå°‘æŸä¸ªä¾èµ–, è¯·æ‰‹åŠ¨å®‰è£…å®ƒ\n\n### ç¼–è¯‘å®‰è£…\n\nè¿è¡Œ `make` å³å¯å¼€å§‹æ„å»º Python , è‹¥ä½ æœ‰å¤šä¸ª cpu æ ¸å¿ƒ, å¯ä»¥åŠ ä¸Š `-j` å‚æ•°æ¥å¤šæ ¸ç¼–è¯‘, `-j` åæ˜¯ä½ çš„ cpu æ ¸å¿ƒæ•°, å¯ä»¥ä½¿ç”¨ `nproc` è·å–\n\nè‹¥ä½ æœºå™¨çš„æ€§èƒ½ä¸ä½³, è¿™ä¸€è¿‡ç¨‹å¯èƒ½ååˆ†æ¼«é•¿(å‡ ååˆ†é’Ÿç”šè‡³æ›´ä¹…), ä½ å¯ä»¥ä½¿ç”¨ screen æˆ– tmux ä½¿å…¶åœ¨åå°è¿è¡Œ\n\n![å›¾ 5](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-15-57-12.webp)  \n\nå®Œæˆå, ä½¿ç”¨ `sudo make altinstall` å®‰è£…(å¯èƒ½ä¹Ÿå¾ˆæ¼«é•¿,ä½†æ¯”ä¸Šä¸€æ­¥è¦å¿«), ä¹‹åä½ å°±å¯ä»¥ä½¿ç”¨ Python3.11:\n\n![å›¾ 6](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-16-21-43.webp)  \n\n```shell\npython3.11 --version\n```\n\n![å›¾ 7](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-16-25-55.webp)  \n\n## ç¯å¢ƒç®¡ç†\n\n### è™šæ‹Ÿç¯å¢ƒ\n\n#### åˆ›å»º\n\nPython çš„è™šæ‹Ÿç¯å¢ƒå¯ä»¥å°†é¡¹ç›®ä¸å…¨å±€ç¯å¢ƒç›¸äº’éš”ç¦»,å¯ä»¥é¿å…æ±¡æŸ“ä½ çš„ç³»ç»Ÿç¯å¢ƒ,å¹¶æ–¹ä¾¿å¾—ä½¿å¤šä¸ª Python ç‰ˆæœ¬å…±å­˜ä¸åˆ‡æ¢.\n\næœ¬æ–‡ä½¿ç”¨çš„è™šæ‹Ÿç¯å¢ƒå·¥å…·æ˜¯ [venv](https://docs.python.org/3/library/venv.html) , å®ƒæ˜¯ Python å®˜æ–¹æ¨èçš„å·¥å…·.\n\nä½†å…¶å®æ›´ç°ä»£çš„å·¥å…·æ˜¯ [poetry](https://python-poetry.org/) , ç„¶è€Œå…¶ä½¿ç”¨æ¯”è¾ƒå¤æ‚,ä¸”ä¸»è¦é¢å‘ pypl æ¨¡å—å¼€å‘è€…, å¦‚æœ‰å…´è¶£ä½ å¯ä»¥è‡ªè¡Œäº†è§£.\n\nå®‰è£… venv:\n\n```shell\napt install python3-venv\n```\n\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ:\n\n```shell\npython3.11 -m venv myenv\n```\n\nè¿™ä¸ªå‘½ä»¤ä¼šåœ¨ä½ å½“å‰ç›®å½•ä¸‹åˆ›å»º `myenv` æ–‡ä»¶å¤¹, å®ƒå°±æ˜¯ä¸€ä¸ª\"è™šæ‹Ÿç¯å¢ƒ\", å…¶ä¸­åŒ…å«äº†ä½ æ‰€æŒ‡å®šçš„ `Python3.11` ç‰ˆæœ¬, æœªæ¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“ç­‰æ–‡ä»¶ä¹Ÿä¼šåœ¨æ­¤æ–‡ä»¶å¤¹å†….\n\næ˜¾ç„¶, å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªå…¶ä»– Python ç‰ˆæœ¬çš„è™šæ‹Ÿç¯å¢ƒ, é‚£ä¹ˆåªéœ€è¦å°†å‰é¢çš„ `python3.11` æ”¹æˆä½ éœ€è¦çš„ç‰ˆæœ¬ä¸”å·²ç»å®‰è£…çš„å³å¯\n\n#### ä½¿ç”¨\n\nåˆ›å»ºå®Œæˆå,è¦è¿›å…¥åˆ°è™šæ‹Ÿç¯å¢ƒ,éœ€è¦æ¿€æ´»å®ƒ,ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤.\n\n```shell\nsource myenv/bin/activate\n```\n\nè¿™æ—¶ä½ çš„ç»ˆç«¯åº”è¯¥ä¼šæœ‰ä¸€äº›æ ‡è¯†æ¥æç¤ºä½ å¤„åœ¨è™šæ‹Ÿç¯å¢ƒä¸­,å¦‚ä¸‹\n\n![å›¾ 10](/photo/post-pics/install-manage-python-version-on-linux/install-manage-python-version-on-linux_04-13-16-54-47.webp)  \n\nåœ¨è™šæ‹Ÿç¯å¢ƒä¸­, `python` `python3.11` `python3` å‘½ä»¤éƒ½å¯ä»¥æ‰“å¼€ python ,å¹¶ä¸”ç‰ˆæœ¬éƒ½æ˜¯ python3.11\n\nåœ¨å…¶ä¸­ä½¿ç”¨ pip å®‰è£…çš„åŒ…ä¹Ÿéƒ½åœ¨è™šæ‹Ÿç¯å¢ƒä¸­\n\nä½¿ç”¨ `deactive` å‘½ä»¤å¯é€€å‡ºè™šæ‹Ÿç¯å¢ƒ\n\n#### åˆ é™¤\n\nä½¿ç”¨ venv å·¥å…·åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹, åˆ é™¤å®ƒå°±æ˜¯åˆ é™¤äº†ç¯å¢ƒ\n\n### é»˜è®¤ç‰ˆæœ¬\n\nå§‹ç»ˆå»ºè®®ä½¿ç”¨å®˜æ–¹è½¯ä»¶æºæä¾›çš„ python ä½œä¸ºé»˜è®¤ç‰ˆæœ¬, å¦‚æœä½ çœŸçš„æƒ³è¦æ›¿æ¢é»˜è®¤ç‰ˆæœ¬, é‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤\n\n```shell\nsudo ln -sf /usr/bin/python3.11 /usr/bin/python\n```\n\nè¿™æ¡å‘½ä»¤å°† python3.11 çš„å¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥åˆ° linux PATH çš„é»˜è®¤æœç´¢è·¯å¾„ä¸­, æ­¤æ—¶ç³»ç»Ÿçš„é»˜è®¤ç‰ˆæœ¬å°±æ˜¯ 3.11\n\n::: tip\nå³ä½¿é»˜è®¤ç‰ˆæœ¬å°±æ˜¯ä½ æƒ³è¦ä½¿ç”¨çš„ Python ç‰ˆæœ¬, ä½ ä¹Ÿåº”è¯¥åœ¨ä½ çš„é¡¹ç›®é‡Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ, é™¤éä½ æƒ³æŠŠè‡ªå·±çš„ç³»ç»Ÿç¯å¢ƒæå¾—ä¹±ä¸ƒå…«ç³Ÿ\n:::"},{"title":"ä½¿ç”¨Kotodamaæ›´ä¼˜é›…åœ°ç®¡ç†walineè¯„è®ºç³»ç»Ÿåå°","tags":["waline","åšå®¢"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\nä¸å°‘åšä¸»å·²ç»åœ¨ç”¨walineä½œä¸ºè¯„è®ºç³»ç»Ÿäº†å§ï¼Œä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥ï¼Œwalineçš„åå°ç®¡ç†å±å®ä¸èƒ½è¯´æ˜¯å¥½ç”¨ã€‚æ— è®ºæ˜¯ç•Œé¢æ„å»ºè¿˜æ˜¯äº¤äº’è®¾è®¡éƒ½æœ‰ç‚¹å¤å¤é™ˆæ—§çš„æ„Ÿè§‰ã€‚\n\nè¿˜å¥½æœ‰[äº‘æ¸¸å›](https://github.com/YunYouJun)å¼€å‘äº†[kotadama](https://github.com/YunYouJun/kotodama)ï¼Œé€‚é…äº†walineçš„åç«¯ç®¡ç†ã€‚ç”¨å®ƒä½œä¸ºwalineçš„åç«¯ç®¡ç†å†å¥½ä¸è¿‡ã€‚\n\nè¦ä½¿ç”¨kotadamaï¼Œç›´æ¥æ‰“å¼€ç½‘å€ç™»å½•ä½¿ç”¨å³å¯ï¼š<https://kotodama.vercel.app>\n\n","link":"/posts/kotodama","content":"\nä¸å°‘åšä¸»å·²ç»åœ¨ç”¨walineä½œä¸ºè¯„è®ºç³»ç»Ÿäº†å§ï¼Œä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥ï¼Œwalineçš„åå°ç®¡ç†å±å®ä¸èƒ½è¯´æ˜¯å¥½ç”¨ã€‚æ— è®ºæ˜¯ç•Œé¢æ„å»ºè¿˜æ˜¯äº¤äº’è®¾è®¡éƒ½æœ‰ç‚¹å¤å¤é™ˆæ—§çš„æ„Ÿè§‰ã€‚\n\nè¿˜å¥½æœ‰[äº‘æ¸¸å›](https://github.com/YunYouJun)å¼€å‘äº†[kotadama](https://github.com/YunYouJun/kotodama)ï¼Œé€‚é…äº†walineçš„åç«¯ç®¡ç†ã€‚ç”¨å®ƒä½œä¸ºwalineçš„åç«¯ç®¡ç†å†å¥½ä¸è¿‡ã€‚\n\nè¦ä½¿ç”¨kotadamaï¼Œç›´æ¥æ‰“å¼€ç½‘å€ç™»å½•ä½¿ç”¨å³å¯ï¼š<https://kotodama.vercel.app>\n\n<!-- more -->\n\nä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£\n\n---\n\nkotodama æ˜¯ä¸€ä¸ªçº¯é™æ€çš„ç«™ç‚¹ï¼Œæ‚¨å¯ä»¥ fork å…¶è‡ªè¡Œéƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å·²éƒ¨ç½²çš„ `kotodama.yunyoujun.cn` | `kotodama.vercel.app` ç«™ç‚¹ã€‚\n\n> `kotodama.yunyoujun.cn` çº¯é™æ€æ‰˜ç®¡äº GitHub Pagesï¼Œä»£ç å°†å§‹ç»ˆä¿æŒå¼€æºï¼Œä¸ä¼šä¹Ÿæ— æ³•è·å–æ‚¨çš„ç”¨æˆ·åå¯†ç ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨ã€‚\n\n## Features\n\n- ğŸ’¬ ç›®å‰åªé€‚é… [Waline](https://github.com/walinejs/waline)ï¼ˆ~~æœªæ¥å¯èƒ½é€‚é…æ›´å¤šè¯„è®ºç³»ç»Ÿï¼Œå‡çš„~~ï¼‰\n- âš¡ï¸ [Vue 3](https://github.com/vuejs/vue-next), [Vite 2](https://github.com/vitejs/vite), [pnpm](https://pnpm.js.org/), [element-plus](https://github.com/element-plus/element-plus) - ([vitesse](https://github.com/antfu/vitesse/)) born for future\n\n## Waline\n\n- é€‚é… [Waline](https://github.com/walinejs/waline) åå°ç®¡ç†ï¼ˆå¼€å‘ä¸­...ï¼‰\n  - å·²å®ç°åŸºç¡€çš„ç™»å½•ã€è¯„è®ºé¢„è§ˆã€ç¿»é¡µã€åˆ é™¤åŠŸèƒ½\n  - Todo: ç¼–è¾‘è¯„è®ºã€ç»†èŠ‚ä¼˜åŒ–ã€GitHub ç™»å½•ã€æ‰¹é‡åˆ é™¤ã€å®¡æ ¸\n\n> More info see [#552 | Waline](https://github.com/walinejs/waline/issues/552)\n\n## è‡ªè¡Œéƒ¨ç½²\n\n> æ¨èç›´æ¥ä½¿ç”¨ [kotodama.yunyoujun.cn](https://kotodama.yunyoujun.cn) æˆ– [kotodama.vercel.app](https://kotodama.vercel.app)ã€‚å¦‚æœæ‚¨ä¸æ”¾å¿ƒï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œéƒ¨ç½²ï¼Œä½†å¯èƒ½éœ€è¦è‡ªå·±è®°å¾—æ›´æ–°ã€‚\n\n```bash\n# fork æˆ–ç›´æ¥ clone æœ¬é¡¹ç›®\ngit clone https://github.com/YunYouJun/kotodama\n\ncp .env.example .env\n```\n\né…ç½® `.env` ä¸­çš„ `VITE_API_BASE_URL` ç¯å¢ƒå˜é‡ä¸ºæ‚¨çš„ Waline åå°åœ°å€ï¼Œä¾‹å¦‚ `https://waline.xxx.xxx`ã€‚\n\n### è‡ªè¡Œæ„å»º\n\n```bash\n# å®‰è£…ä¾èµ–\nnpm install\n\n# æ„å»ºäº§ç‰©\nnpm run build\n```\n\nå°† `dist` ä¸‹çš„é™æ€æ–‡ä»¶æ‰˜ç®¡äºæ‚¨çš„æœåŠ¡å™¨ã€‚\n\n### GitHub Actions\n\nFork æœ¬é¡¹ç›®ã€‚\n\nè¿›å…¥ `Settings/Pages` Source è®¾ç½® Branch ä¸º `gh-pages`ï¼Œä»¥å¯ç”¨ GitHub Pagesã€‚\n\nè¿›å…¥ `Actions`ï¼Œè§¦å‘ GitHub Page Workflow runã€‚\n\n> `.github/workflows/gh-pages.yml` æ–‡ä»¶å°†ä¼šè‡ªåŠ¨è§¦å‘æ„å»ºï¼Œå¹¶å°†æ„å»ºäº§ç‰©æ¨é€è‡³ `gh-pages` åˆ†æ”¯ã€‚\n\nå¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰åŸŸåï¼Œè¯·ä¿®æ”¹é¡¹ç›®ä¸­ `public/CNAME` æ–‡ä»¶å†…å®¹ä¸ºæ‚¨è‡ªå·±çš„åŸŸåã€‚\n\n## FAQ\n\n### Waline 403 Authorization é”™è¯¯\n\nå¦‚æœæ‚¨æ— æ³•æ­£å¸¸è¿æ¥æ‚¨çš„ Waline åå° APIï¼Œæ‚¨å¯èƒ½éœ€è¦é…ç½®ä¸€ä¸‹å®‰å…¨åŸŸåã€‚\nå°† `kotodama.yunyoujun.cn` æ·»åŠ è‡³æ‚¨çš„å®‰å…¨åŸŸåä¸­ã€‚\n\n> [secureDomains | Waline](https://waline.js.org/reference/server.html#securedomains)\n"},{"title":"è‡ªå·±åŠ¨æ‰‹åˆ¶ä½œç½‘çº¿æ°´æ™¶å¤´","tags":["DIY"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\næˆ‘æœ€è¿‘ä¹°äº†ä¸€å°äºŒæ‰‹ä¸»æœºå½“nasç”¨ï¼Œä½†æ˜¯ç”±äºæˆ‘å®¶çš„å¸ƒå±€è®¾ç½®ï¼Œå¿…é¡»è¦æŠŠè¿™å°ä¸»æœºæ”¾ç½®åœ¨ç¦»è·¯ç”±å™¨è¾ƒè¿œçš„ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥æˆ‘ç›´æ¥ä¹°äº†æ ¹è¶…é•¿ç½‘çº¿ï¼ˆæŒ‡30mï¼‰ä»¥é˜²é•¿åº¦ä¸å¤Ÿï¼Œä½†æ˜¯åˆ°æ‰‹ä¹‹åå‘ç°ï¼Œæˆ‘ä¸¥é‡é«˜ä¼°äº†æˆ‘æ‰€éœ€çš„é•¿åº¦ï¼Œäºæ˜¯æŠŠè¿™æ ¹é•¿ç½‘çº¿å‰ªå»ä¸€å¤§æ®µï¼Œå¹¶å»å­¦ä¼šäº†æ¥ç½‘çº¿æ°´æ™¶å¤´çš„æ“ä½œã€‚\n\n","link":"/posts/make-cable","content":"\næˆ‘æœ€è¿‘ä¹°äº†ä¸€å°äºŒæ‰‹ä¸»æœºå½“nasç”¨ï¼Œä½†æ˜¯ç”±äºæˆ‘å®¶çš„å¸ƒå±€è®¾ç½®ï¼Œå¿…é¡»è¦æŠŠè¿™å°ä¸»æœºæ”¾ç½®åœ¨ç¦»è·¯ç”±å™¨è¾ƒè¿œçš„ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥æˆ‘ç›´æ¥ä¹°äº†æ ¹è¶…é•¿ç½‘çº¿ï¼ˆæŒ‡30mï¼‰ä»¥é˜²é•¿åº¦ä¸å¤Ÿï¼Œä½†æ˜¯åˆ°æ‰‹ä¹‹åå‘ç°ï¼Œæˆ‘ä¸¥é‡é«˜ä¼°äº†æˆ‘æ‰€éœ€çš„é•¿åº¦ï¼Œäºæ˜¯æŠŠè¿™æ ¹é•¿ç½‘çº¿å‰ªå»ä¸€å¤§æ®µï¼Œå¹¶å»å­¦ä¼šäº†æ¥ç½‘çº¿æ°´æ™¶å¤´çš„æ“ä½œã€‚\n\n<!-- more -->\n\n## å‡†å¤‡å·¥å…·\n\nåˆ¶ä½œæ°´æ™¶å¤´éœ€è¦ä»¥ä¸‹å·¥å…·ï¼š\n\n1. ç½‘çº¿é’³ï¼ˆæŸå®åå—é’±å·¦å³ä¸€ä¸ªï¼Œè¿˜é€ä¸€äº›æ°´æ™¶å¤´å’Œå¢™é’‰ï¼‰\n2. æ°´æ™¶å¤´ï¼ˆä¹°ç½‘çº¿é’³é€ï¼‰\n3. å‰¥çº¿åˆ€ï¼ˆä¹°ç½‘çº¿é’³ä¹Ÿé€ï¼‰\n\næ‰€ä»¥å®é™…ä¸Šä½ åªéœ€è¦å»æŸå®è´­ä¹°ä¸€ä¸ªå°å¥—è£…å³å¯ã€‚\n\n## å®æ“\n\nä¸€èˆ¬è´­ä¹°åˆ°çš„ä¸€æ ¹è¶…é•¿ç½‘çº¿ï¼Œä¸¤ç«¯æ˜¯æ¥å¥½æ°´æ™¶å¤´çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆé•¿ï¼Œæ‰€ä»¥æˆªå–ä½ éœ€è¦çš„é•¿åº¦ï¼Œç”¨å‰ªåˆ€å‰ªä¸‹ä¸€ç«¯ã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-37-16.webp)\n\nç„¶åç”¨å‰¥çº¿åˆ€æŠŠè¿™ç«¯çš„ä¸€æ®µå¤–çš®å‰¥å»ã€‚\næŠŠå‰¥çº¿åˆ€åœ¨å‰¥çº¿ä½ç‚¹ä¸Šè½¬ä¸€åœˆå³å¯ã€‚\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-38-39.webp)\n\nå‰¥å®Œçš®æ˜¯è¿™æ ·çš„\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-39-25.webp)\n\nä»”ç»†è§‚å¯Ÿï¼Œè¿™æ ¹ç½‘çº¿å†…æœ‰å…«æ ¹çº¿ï¼Œå„è‡ªæœ‰ç€ä¸åŒçš„é¢œè‰²ï¼Œå°¤å…¶æ³¨æ„ç™½çº¿ï¼Œå®ƒä»¬å¸¦æœ‰çš„é¢œè‰²ä¹Ÿæ˜¯ä¸åŒçš„ã€‚è¿™å…«æ ¹çº¿è‰²åˆ†åˆ«æ˜¯ **æ©™ç™½ã€ç»¿ç™½ã€è“ç™½ã€æ£•ç™½ã€æ©™è‰²ã€ç»¿è‰²ã€è“è‰²ã€æ£•è‰²**ã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-43-11.webp)\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-43-20.webp)\n\næ¥ä¸‹æ¥æŠŠè¿™å…«æ ¹çº¿ç†é¡ºå¥½ï¼Œç”¨ç½‘çº¿é’³æŠŠå®ƒä»¬å‰ªæˆé½å¹³ã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-44-37.webp)\n\nç„¶åç†é¡ºå…«æ ¹çº¿çš„æ¬¡åºï¼Œå¦‚å›¾ï¼ˆå¼•ç”¨è‡ªæ·˜å®æŸåº—é“ºï¼‰ã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-46-03.webp)\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-46-23.webp)\n\nå†æŠŠçº¿å¡å…¥æ°´æ™¶å¤´ï¼Œæ³¨æ„æ’åˆ—é¡ºåºä¸æ°´æ™¶å¤´çš„æ­£åã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-47-27.webp)\n\næœ€åç”¨ç½‘çº¿é’³å‹ä¸‹æ°´æ™¶å¤´ï¼Œå¬è§å’”å“’å£°å°±ç®—å®Œæˆäº†ã€‚\n\n![](/photo/post-pics/make-cable/make-cable_2022-06-20-22-49-06.webp)\n"},{"title":"ä½¿ç”¨condaå®‰è£…å’Œç®¡ç†pythonå¤šç‰ˆæœ¬ç¯å¢ƒ","tags":["Python"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n~~æ„Ÿè§‰ä¸å¦‚ç¼–è¯‘å®‰è£…~~\n\n","link":"/posts/manage-python-version-by-conda","content":"\n~~æ„Ÿè§‰ä¸å¦‚ç¼–è¯‘å®‰è£…~~\n\n<!-- more -->\n\n## conda\n\nconda æ˜¯ä¸€ä¸ª python çš„ç¯å¢ƒç®¡ç†å™¨, å®ƒåŒ…å«åœ¨ [Anaconda](https://www.anaconda.com/) å†…, Anaconda æ˜¯ä¸“æ³¨äºæ•°æ®åˆ†æçš„Pythonå‘è¡Œç‰ˆæœ¬.\n\nå³ä½¿ä½ æ²¡æœ‰æ•°æ®åˆ†æ\\ç§‘å­¦è®¡ç®—çš„éœ€æ±‚, ä¹Ÿå¯ä»¥ä½¿ç”¨ conda è¿™ä¸ªå¼ºå¤§çš„å·¥å…·æ¥ç®¡ç† python ç¯å¢ƒ\n\nå¦‚æœä½ ä¸æƒ³å®‰è£…è¿™ä¹ˆå¤§ä¸€ä¸ªä¸œè¥¿, å¯ä»¥çœ‹æˆ‘ä¸Šæ¬¡å‘çš„ä½¿ç”¨ [venv + ç¼–è¯‘å®‰è£…çš„æ–¹å¼ç®¡ç†pythonç¯å¢ƒ](./install-manage-python-version-on-linux.md)\n\n## å®‰è£…\n\nå»[Anacondaå®˜ç½‘](https://www.anaconda.com/products/distribution#Downloads)ä¸‹è½½\n\næˆ–è€…ä½ å¯ä»¥é€‰æ‹© [Miniconda](https://docs.conda.io/en/latest/miniconda.html)\n\n```shell\nwget https://repo.anaconda.com/archive/Anaconda3-2023.03-Linux-x86_64.sh\n```\n\nä¸‹è½½å®Œæˆå, æ‰§è¡Œ `bash Anaconda3-2023.03-Linux-x86_64.sh` å³å¯å¼€å§‹å®‰è£…\n\nå®‰è£…å®Œæˆå, é‡å¯ç»ˆç«¯, å³å¯ä½¿ç”¨ conda\n\n## ä½¿ç”¨\n\næ›´æ–°\n\n```shell\nconda update --all \n```\n\nåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ\n\n```shell\nconda create -n <name> python=<version>\n```\n\n-n åæ˜¯è™šæ‹Ÿç¯å¢ƒçš„åå­—, python=version æŒ‡å®šè¦ä½¿ç”¨çš„ python ç‰ˆæœ¬\n\næ¿€æ´»ç¯å¢ƒ\n\n```shell\nconda activate <name>\n```\n\né€€å‡ºè™šæ‹Ÿç¯å¢ƒ\n\n```shell\nconda deactivate\n```\n\nåˆ é™¤è™šæ‹Ÿç¯å¢ƒ\n\n```shell\nconda env remove <name>\n```\n\nåˆ—å‡ºè™šæ‹Ÿç¯å¢ƒ\n\n```shell\nconda env list\n```\n\nåˆ—å‡ºå½“å‰ç¯å¢ƒçš„åŒ…\n\n```shell\nconda list\n```\n\nå®‰è£…åŒ…, å’Œ pip ä¸€æ ·\n\n```shell\nconda install <package>\n```\n"},{"title":"Minecraftå¼€æœå…¥é—¨","tags":["Minecraft","DIY","æ¸¸æˆ","æœåŠ¡å™¨"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\næƒ³å’ŒåŸºå‹ä»¬è”æœºç©mcï¼Œç›¸æ¯”äºä½¿ç”¨å„ç§è”æœºå¹³å°ï¼Œæˆ–æ­å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼Œä¸å¦‚è‡ªå·±ç›´æ¥å¼€ä¸ªæœåŠ¡å™¨ã€‚æ—¢ä¸ç”¨ä¿æŒè‡³å°‘ä¸€äººåœ¨çº¿ï¼Œåˆèƒ½é¿å…ç©æ¸¸æˆæ—¶éœ€è¦é¢å¤–è¿è¡Œä¸€ä¸ªè”æœºç¨‹åºçš„è‡ƒè‚¿ã€‚\n\næœ¬æ–‡è®°å½•åšä¸»è‡ªå·±çš„mcå¼€æœç»å†ã€‚\n","link":"/posts/mc-host-server","content":"\næƒ³å’ŒåŸºå‹ä»¬è”æœºç©mcï¼Œç›¸æ¯”äºä½¿ç”¨å„ç§è”æœºå¹³å°ï¼Œæˆ–æ­å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼Œä¸å¦‚è‡ªå·±ç›´æ¥å¼€ä¸ªæœåŠ¡å™¨ã€‚æ—¢ä¸ç”¨ä¿æŒè‡³å°‘ä¸€äººåœ¨çº¿ï¼Œåˆèƒ½é¿å…ç©æ¸¸æˆæ—¶éœ€è¦é¢å¤–è¿è¡Œä¸€ä¸ªè”æœºç¨‹åºçš„è‡ƒè‚¿ã€‚\n\næœ¬æ–‡è®°å½•åšä¸»è‡ªå·±çš„mcå¼€æœç»å†ã€‚\n<!-- more -->\n\n## å·¥å…·é€‰æ‹©ä¸å‡†å¤‡\n\n### ä¸»æœºé€‰æ‹©\n\næˆ‘èµ·åˆæœ‰å¼€mcæœçš„è®¡åˆ’æ—¶æ˜¯è¿˜åœ¨ä¸Šé«˜ä¸‰ï¼Œæ²¡æœ‰è¯¦ç»†äº†è§£å„æ–¹é¢çš„ä¿¡æ¯ï¼Œå› æ­¤å½“æ—¶æƒ³æ‹‰ä¸Šå‡ ä¸ªåŸºå‹é›†èµ„è´­ä¹°äº‘ä¸»æœºï¼Œåœ¨äº‘ä¸»æœºä¸Šå¼€æœã€‚\n\nä½†é«˜è€ƒå®Œæ”¾å‡ä¹‹åæˆ‘å»äº†è§£äº†ä¸€ä¸‹äº‘ä¸»æœºçš„ä»·æ ¼ï¼Œè¿˜æ˜¯æŠŠåŸæ¥çš„æ‰“ç®—ä½œåºŸäº†ã€‚\n\næˆ‘çš„éœ€æ±‚æ˜¯è®©æˆ‘çš„æœåŠ¡å™¨ **å®‰è£…ä¸€äº›å¤§å‹æ¨¡ç»„å¹¶ä¿è¯åäººèƒ½åŒæ—¶åœ¨çº¿ä¸å¡é¡¿**ã€‚è€Œæ˜¾ç„¶ä»·æ ¼ç›¸å¯¹ä½çš„è½»é‡äº‘ä¸»æœºï¼ˆæŒ‡å‡ ç™¾å—ä¸€å¹´ï¼‰éš¾ä»¥æ»¡è¶³ã€‚\n\näºæ˜¯æˆ‘å†³å®šåœ¨è‡ªå·±ç”µè„‘ä¸Šå¼€æœã€‚ä½†æ˜¯ç”¨è‡ªå·±çš„ä¸»åŠ›æœºå®åœ¨æ„Ÿè§‰ä¸å¦¥ï¼Œä¸€æ¥å®ƒçš„é«˜åŠŸè€—ä¼šå¯¼è‡´ç”µè´¹çš„é¢å¤–æ”¯å‡ºï¼Œ~~äºŒæ¥å¿ƒç–¼å®ƒäºŒåå››å°æ—¶ä¸å…³æœº~~ã€‚\n\næœ€ç»ˆï¼Œæˆ‘å†³å®šå†ç»„ä¸€å°**ä½åŠŸè€—**ä¸»æœºï¼Œç”¨æ¥å¼€è®¾mcæœåŠ¡å™¨çš„åŒæ—¶ï¼Œè¿˜èƒ½å½“nasç”¨ã€‚\n\nä½†æ˜¯æˆ‘å‘ç°ï¼Œç”±äºæ´‹åƒåœ¾å¸‚åœºç‚’çš„å‰å®³ï¼Œåˆ†åˆ«è´­ä¹°cpuã€ä¸»æ¿ã€å†…å­˜ã€ç¡¬ç›˜é…ä»¶ï¼Œè¿˜ä¸å¦‚ç›´æ¥è´­ä¹°äºŒæ‰‹æ•´æœºæ¥çš„åˆ’ç®—ã€‚äºæ˜¯å»æµ·é²œå¸‚åœºï¼ˆé—²é±¼ï¼‰ä¹°äº†å°æ•´æœºã€‚\n\n![](/photo/post-pics/mc-host-server/mc-host-server_1.webp)\n\nä»¥Tç»“å°¾çš„intelå¤„ç†å™¨ä»£è¡¨ä½åŠŸè€—ï¼Œæ­£é€‚åˆä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨ã€‚\n\nåˆ°æ‰‹ä¹‹åé‡è£…äº†Windows10 LTSCï¼Œæ›´æ–°å°‘ï¼Œç®€æ´ã€è¿è¡Œç¨³å®šã€‚\n\n### æ¸¸æˆç‰ˆæœ¬é€‰æ‹©\n\næ¸¸æˆç‰ˆæœ¬é€‰æ‹©æ˜¯æˆ‘æœ€çº ç»“çš„åœ°æ–¹ï¼Œç”±äºå­¦ä¸šåŸå› ï¼Œæˆ‘è¿‘ä¹ä¸‰å¹´æ²¡æœ‰ç¢°mcï¼Œå†å›è¿‡æ¥çœ‹çš„æ—¶å€™æœ€æ–°ç‰ˆæœ¬å·²ç»æ˜¯1.19äº†ï¼Œè€Œä¸”fabricä¼¼ä¹ä¹Ÿæµè¡Œäº†èµ·æ¥ï¼Œè¶Šæ¥è¶Šå¤šçš„æ¨¡ç»„å’Œèµ„æºåŒ…å¼€å§‹ä»…æ”¯æŒè¾ƒé«˜ç‰ˆæœ¬ä¸”ä»…å…¼å®¹fabricï¼Œå°±è¿javaçš„æœ€æ–°ç‰ˆæœ¬å±…ç„¶ä¹Ÿåˆ°äº†17ã€‚ä½†æˆ‘æ›´ç†Ÿæ‚‰çš„æ˜¯forgeå’Œæ—§ç‰ˆæœ¬ã€‚æœ¬æƒ³è·Ÿè”æœºåŸºå‹ä»¬å…±åŒå•†é‡ï¼Œå¯ä»–ä»¬ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸çŸ¥é“ã€‚æœ€ç»ˆæŠ±ç€å»¶ç»­åˆä¸­çš„ç©æ³•çš„æ€åº¦ï¼Œé€‰æ‹©äº†1.12.2è¿™ä¸ªæ—¶è‡³ä»Šæ—¥å·²ç»æ˜¯è¿œå¤çš„ç‰ˆæœ¬ã€‚\n\n### æœåŠ¡ç«¯è½¯ä»¶é€‰æ‹©\n\nç”±äºæˆ‘æ­¤å‰åªæœ‰å»ºè®¾mcåŸºå²©ç‰ˆæœçš„ç»éªŒï¼Œå½“æ—¶åŸºå²©ç‰ˆåªæœ‰å®˜æ–¹æœåŠ¡ç«¯ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé€‰æ‹©ã€‚\n\nä½†jeï¼ˆjava editionï¼‰æœåŠ¡ç«¯ä¸ä¸€æ ·ï¼Œå„ç§æœåŠ¡ç«¯çœ‹çš„æˆ‘çœ¼èŠ±ç¼­ä¹±ï¼Œæœ€ç»ˆè‰ç‡åœ°éšå¤§æµï¼Œé€‰æ‹©äº†[Catserverï¼ˆçŒ«ç«¯ï¼‰](https://catmc.org/)è¿™ä¸€ä½¿ç”¨äººæ•°ä¼—å¤šçš„æœåŠ¡ç«¯ã€‚\n~~æ…é‡ï¼Ÿå…ˆå¼€äº†å†è¯´ï¼Œå¤§ä¸äº†redo~~\n\n## å¼€æœ\n\né€‰æ‹©å¥½ä»¥ä¸Šè¿™äº›ä¸œè¥¿ä¹‹åï¼Œå°±æœ‰äº†å¼€æœçš„æ–¹å‘ï¼Œæ¥ä¸‹æ¥çš„äº‹æƒ…å°±å¾ˆç®€å•äº†ï¼Œåªéœ€è¦åŠ¨æ‰‹å»åšå°±å®Œäº‹äº†ã€‚\n\n### é…ç½®æœåŠ¡ç«¯\n\n#### ä¸‹è½½ä¸åˆå§‹åŒ–catserveræœåŠ¡ç«¯\n\nå…ˆåœ¨javaå®˜ç½‘ï¼Œä¸‹è½½æœ€æ–°çš„java8ã€‚\n\nå‰å¾€[catserverå®˜ç½‘](https://catmc.org/)æˆ–[githubä»“åº“](https://github.com/Luohuayu/CatServer)ä¸‹è½½æ‰€éœ€ç‰ˆæœ¬çš„catserverã€‚\n\nä¸‹è½½çš„æ˜¯ä¸€ä¸ª.jarå•æ–‡ä»¶ï¼ŒæŠŠå®ƒé‡å‘½åä¸ºCatserver.jaræ”¾å…¥ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹åä¸è·¯å¾„å°½é‡ä½¿ç”¨çº¯è‹±æ–‡ï¼Œé¿å…å‡ºç°å¥‡æ€ªçš„é”™è¯¯ã€‚\n\nåœ¨è¯¥ç©ºæ–‡ä»¶å¤¹å†…ï¼Œæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š\n\n```bat\njava -Xmx6G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -Dfml.queryResult=confirm -jar CatServer.jar\n```\n\nè¿™æ®µå†…å®¹çš„è§£é‡Šï¼š\n\n-Xmx6G ï¼šè®¾å®šæœåŠ¡ç«¯æœ€å¤§å†…å­˜ä¸º6G\n\n-XXç­‰å‚æ•°ï¼šå¼€å¯G1GCå’Œä¼˜åŒ–GCï¼Œ[è¯¦è§æ­¤è´´](https://www.mcbbs.net/thread-1085422-1-1.html)\n\nç„¶åæŠŠè¯¥æ–‡æœ¬é‡å‘½åä¸ºstrat.batï¼ŒåŒå‡»è¿è¡Œè¯¥batã€‚\n\nä¹‹åï¼ŒçŒ«ç«¯ä¼šè‡ªåŠ¨ä¸‹è½½æ‰€éœ€çš„æ–‡ä»¶ï¼Œå¹¶é‡Šæ”¾åˆ°åŒç›®å½•ä¸‹ï¼Œè¿™æ ·å°±å®Œæˆäº†æœåŠ¡ç«¯çš„åˆå§‹åŒ–ã€‚åˆå§‹åŒ–å®Œæˆåçš„ç›®å½•æ–‡ä»¶å¦‚ä¸‹\n\n![](/photo/post-pics/mc-host-server/mc-host-server_2.webp)\n\n#### ä¿®æ”¹æœåŠ¡ç«¯é…ç½®æ–‡ä»¶\n\nåˆå§‹åŒ–å®Œæˆåï¼Œéœ€è¦ä¿®æ”¹ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶\n\n- server.properties\n- bukkit.yml\n- catserver.yml\n- spigot.yml\n\nå‚è€ƒè¿™ä¸¤å¸–ï¼Œæ ¹æ®éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚\n\n[ [æœåŠ¡å™¨åº”ç”¨] ã€ä¼˜åŒ–ã€‘æœåŠ¡å™¨ä¼˜åŒ–æŒ‡å— | å’Œå¡é¡¿æ°¸è¿œè¯´å†è§ ](https://www.mcbbs.net/forum.php?mod=viewthread&tid=774469)\n\n[ [æœåŠ¡å™¨åº”ç”¨] MinecraftæœåŠ¡å™¨ä¼˜åŒ–æ•™ç¨‹ â€”â€” è®©å¤šå¸¦50%çš„ç©å®¶ä¸å†æ˜¯æ¢¦ ](https://www.mcbbs.net/forum.php?mod=viewthread&tid=478126)\n\nä¸‹é¢æ˜¯æˆ‘ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶\n\n- server.properties\n\n```ini\n#Minecraft server properties\n#Sun Jun 19 19:24:15 CST 2022\nspawn-protection=16\nmax-tick-time=60000\ngenerator-settings=\nforce-gamemode=false\nallow-nether=true\ngamemode=0\nbroadcast-console-to-ops=true\nenable-query=false\nplayer-idle-timeout=0\ndifficulty=2\nspawn-monsters=true\nop-permission-level=4\npvp=true\nsnooper-enabled=true\nlevel-type=DEFAULT\nhardcore=false\nenable-command-block=true\nmax-players=10\nnetwork-compression-threshold=-1\nresource-pack-sha1=\nmax-world-size=29999984\nserver-port=25565\nserver-ip=0.0.0.0\nspawn-npcs=true\nallow-flight=true\nlevel-name=world\nview-distance=8\nresource-pack=\nspawn-animals=true\nwhite-list=true #å¼€å¯ç™½åå•\ngenerate-structures=true\nonline-mode=flase #å…³é—­æ­£ç‰ˆéªŒè¯\nmax-build-height=256\nlevel-seed=\nprevent-proxy-connections=false\nenable-rcon=false\nmotd=fish world\n```\n\n- bukkit.yml\n\n```yaml\nsettings:\n  allow-end: true\n  warn-on-overload: true\n  permissions-file: permissions.yml\n  update-folder: update\n  plugin-profiling: false\n  connection-throttle: 4000\n  query-plugins: true\n  deprecated-verbose: default\n  shutdown-message: Server closed\nspawn-limits:\n  monsters: 50\n  animals: 15\n  water-animals: 5\n  ambient: 3\nchunk-gc:\n  period-in-ticks: 400\n  load-threshold: 300\nticks-per:\n  animal-spawns: 400\n  monster-spawns: 2\n  autosave: 6000\naliases: now-in-commands.yml\n```\n\n- catserver.yml\n\n```yaml\nworld:\n  keepSpawnInMemory: false\n  enableSkipEntityTick: true\n  enableSkipTileEntityTick: false\n  worldGenMaxTick: 15\n  disableForgeGenerateWorlds:\n  - ExampleCustomWorld\n  preventBlockLoadChunk: false\n  autoUnloadDimensions:\n  - 99999999\n  enableRealtime: true\n  forceSaveOnWatchdog: true\n  maxEntityCollision: 8\n  saveBukkitWorldDimensionId: true\nfakePlayer:\n  permissions:\n  - essentials.build\n  eventPass: false\nvanilla:\n  fixPlayBossSoundToOtherWorld: true\n  fixLessCrystalRespawnDragon: false\n  preventPistonPushRail: false\n  preventPistonPushSlimeBlock: false\n  limitFastClickGUI: false\nplugin:\n  patcher:\n    enableDynmapCompatible: true\n    enableCoreProtectModBlockCompatible: true\n    enableEssentialsNewVersionCompatible: true\n    enableMythicMobsPatcherCompatible: true\n    enableWorldEditCompatible: true\n    enableCitizensCompatible: true\n  disableHopperMoveEventWorlds: []\n  defaultInstall:\n    spark: true\nasync:\n  waitForgeServerChatEvent: false\nsecurity:\n  opManager: false\n  gameModeManager: false\ndisableUpdateGameProfile: false\ndisableFMLHandshake: false\ndisableFMLStatusModInfo: false\ndisableAsyncCatchWarn: false\nversionCheck: true\n```\n\n- spigot.yml\n\n```yaml\nconfig-version: 11\nsettings:\n  debug: false\n  attribute:\n    maxHealth:\n      max: 2048.0\n    movementSpeed:\n      max: 2048.0\n    attackDamage:\n      max: 2048.0\n  netty-threads: 4\n  timeout-time: 60\n  restart-on-crash: true\n  restart-script: ./start.sh\n  moved-too-quickly-multiplier: 10.0\n  moved-wrongly-threshold: 0.0625\n  filter-creative-items: true\n  bungeecord: false\n  sample-count: 12\n  late-bind: false\n  int-cache-limit: 1024\n  item-dirty-ticks: 20\n  user-cache-size: 1000\n  player-shuffle: 0\n  save-user-cache-on-stop-only: false\nmessages:\n  whitelist: You are not whitelisted on this server!\n  unknown-command: Unknown command. Type \"/help\" for help.\n  server-full: The server is full!\n  outdated-client: Outdated client! Please use {0}\n  outdated-server: Outdated server! I'm still on {0}\n  restart: Server is restarting\nstats:\n  disable-saving: false\n  forced-stats: {}\ncommands:\n  log: true\n  replace-commands:\n  - setblock\n  - summon\n  - testforblock\n  - tellraw\n  spam-exclusions:\n  - /skill\n  silent-commandblock-console: false\n  tab-complete: 0\nadvancements:\n  disable-saving: false\n  disabled:\n  - minecraft:story/disabled\nworld-settings:\n  default:\n    verbose: true\n    merge-radius:\n      item: 2.5\n      exp: 3.0\n    arrow-despawn-rate: 1200\n    wither-spawn-sound-radius: 0\n    nerf-spawner-mobs: false\n    entity-tracking-range:\n      players: 48\n      animals: 48\n      monsters: 48\n      misc: 32\n      other: 64\n    view-distance: 10\n    enable-zombie-pigmen-portal-spawns: true\n    zombie-aggressive-towards-villager: true\n    item-despawn-rate: 6000\n    hanging-tick-frequency: 100\n    growth:\n      cactus-modifier: 100\n      cane-modifier: 100\n      melon-modifier: 100\n      mushroom-modifier: 100\n      pumpkin-modifier: 100\n      sapling-modifier: 100\n      wheat-modifier: 100\n      netherwart-modifier: 100\n      vine-modifier: 100\n      cocoa-modifier: 100\n    entity-activation-range:\n      animals: 32\n      monsters: 28\n      misc: 16\n      tick-inactive-villagers: true\n    random-light-updates: false\n    ticks-per:\n      hopper-transfer: 8\n      hopper-check: 1\n    hopper-amount: 1\n    save-structure-info: true\n    hunger:\n      jump-walk-exhaustion: 0.05\n      jump-sprint-exhaustion: 0.2\n      combat-exhaustion: 0.1\n      regen-exhaustion: 6.0\n      swim-multiplier: 0.01\n      sprint-multiplier: 0.1\n      other-multiplier: 0.0\n    max-tick-time:\n      tile: 50\n      entity: 50\n    squid-spawn-range:\n      min: 45.0\n    max-tnt-per-tick: 100\n    mob-spawn-range: 4\n    dragon-death-sound-radius: 0\n    seed-village: 10387312\n    seed-feature: 14357617\n    seed-monument: 10387313\n    seed-slime: 987234911\n```\n\n#### åœ¨æœåŠ¡ç«¯å®‰è£…æ¨¡ç»„å’Œæ’ä»¶\n\nåœ¨æœåŠ¡ç«¯ä¸­ï¼Œæœ‰modså’Œpluginsä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¸¸æˆæ¨¡ç»„å’ŒæœåŠ¡ç«¯æ’ä»¶ã€‚\n\næ¸¸æˆæ¨¡ç»„æ˜¯å¢å¼ºå’Œä¸°å¯Œæ¸¸æˆå†…å®¹çš„ï¼Œè€ŒæœåŠ¡ç«¯æ’ä»¶æ˜¯å¢å¼ºæœåŠ¡ç«¯åŠŸèƒ½çš„ã€‚\n\néœ€è¦å®‰è£…çš„æ¨¡ç»„ï¼Œéƒ½æ”¾åœ¨modsæ–‡ä»¶å¤¹å†…ã€‚\n\nåœ¨å®‰è£…æ¨¡ç»„æ—¶ï¼Œè¦çœ‹æ¸…æ¨¡ç»„æ˜¯å¦éœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…ï¼Œä¸éœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…çš„æ¨¡ç»„ä¸è¦å®‰è£…åœ¨æœåŠ¡ç«¯ã€‚ï¼ˆå¦‚wailaé«˜äº®æ˜¾ç¤ºç­‰æ¨¡ç»„ï¼‰\n\n![](/photo/post-pics/mc-host-server/mc-host-server_3.webp)_æœåŠ¡ç«¯éœ€è¦è£…\n\n![](/photo/post-pics/mc-host-server/mc-host-server_4.webp)_ä¸è¦åœ¨æœåŠ¡ç«¯è£…\n\nå¦å¤–åœ¨å®‰è£…æ¨¡ç»„æ—¶ï¼Œè¿˜è¦ç•™å¿ƒæŸ¥çœ‹è¯¥æ¨¡ç»„çš„è¯´æ˜ï¼Œæœ‰äº›æ¨¡ç»„éœ€è¦é¢å¤–çš„å‰ç½®æ¨¡ç»„ï¼Œè¦ä¸€èµ·å®‰è£…ï¼ˆå¦‚æ¤ç‰©é­”æ³•botaniaéœ€è¦baubleä½œä¸ºå‰ç½®æ¨¡ç»„ï¼ŒäºŒè€…å¿…é¡»éƒ½å®‰è£…ï¼‰\nä»¥ä¸‹æ˜¯æˆ‘åœ¨æœåŠ¡ç«¯å®‰è£…çš„æ¨¡ç»„\n\n![](/photo/post-pics/mc-host-server/mc-host-server_5.webp)\n\nè€ŒæœåŠ¡ç«¯æ’ä»¶ç›´æ¥æ”¾å¦‚pluginsæ–‡ä»¶å¤¹å³å¯ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å»æœç´¢ã€‚æˆ‘æ›¾ç»å®‰è£…äº†[miraimc](https://github.com/DreamVoid/MiraiMC)æ’ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½åŒå‘åŒæ­¥mcæœåŠ¡å™¨å’Œqqç¾¤æ¶ˆæ¯çš„æ’ä»¶ï¼Œä½†ç”±äºæ€§èƒ½å’Œå…¼å®¹æ€§é—®é¢˜åˆæŠŠå®ƒç§»é™¤äº†ã€‚ç›®å‰æˆ‘åªå®‰è£…äº†ä¸€ä¸ªluckpermæ’ä»¶ï¼Œç”¨æ¥ç®¡ç†ç©å®¶æƒé™ï¼ˆå¦‚å•ç‹¬ç»™ç©å®¶tpæƒé™è€Œä¸ç»™opç®¡ç†å‘˜èº«ä»½ï¼‰\n\n#### è®¾å®šopã€æ·»åŠ ç™½åå•\n\næœåŠ¡ç«¯å¯åŠ¨å®Œæˆåï¼Œç›´æ¥åœ¨æœåŠ¡ç«¯æ§åˆ¶å°çª—å£å¯è¿è¡ŒæŒ‡ä»¤ï¼ˆåŒ…æ‹¬æ¸¸æˆå†…çš„æŒ‡ä»¤ï¼Œå¦‚ time setï¼‰\n\næ‰§è¡Œ`op <ç©å®¶å>`å¯èµ‹äºˆç©å®¶op\n\næ‰§è¡Œ`whitelist add <ç©å®¶å>`å¯ä¸ºç©å®¶æ·»åŠ ç™½åå•\n\næ³¨æ„åœ¨æ§åˆ¶å°çª—å£è¾“å…¥å‘½ä»¤æ—¶ï¼Œéƒ½ä¸å¸¦`/`\n\n### é…ç½®å®¢æˆ·ç«¯ã€åˆ¶ä½œæ•´åˆåŒ…\n\nå®¢æˆ·ç«¯å³æ˜¯ç©å®¶ç«¯ï¼Œå¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ¬¾å¯åŠ¨å™¨ï¼Œåˆ¶ä½œæ•´åˆåŒ…å‘ç»™å‘ç»™ç©å®¶ï¼Œè€Œæˆ‘é€‰æ‹©çš„æ˜¯HMCLè¿™ä¸ªè€ç‰Œå¯åŠ¨å™¨ï¼Œç‰ˆæœ¬ä¸º3.5.3\n\nä¸‹è½½æ¸¸æˆæœ¬ä½“\n![](/photo/post-pics/mc-host-server/mc-host-server_6.webp)\n\nç„¶åæŠŠæ‰€å®‰è£…çš„æ¨¡ç»„æ”¾å…¥æ¸¸æˆç›®å½•çš„modsæ–‡ä»¶å¤¹\n\nå¯ä»¥ä½¿ç”¨[litteskin](https://littleskin.cn)ï¼Œä¸ºæ¸¸æˆå¢åŠ è‡ªå®šä¹‰çš®è‚¤æ”¯æŒï¼ŒåŒæ—¶è¿˜éœ€è¦å®‰è£…customskinloader æ¨¡ç»„ã€‚\n\nç„¶åå¯åŠ¨æ¸¸æˆï¼Œåœ¨å¤šäººæ¸¸æˆä¸­æ·»åŠ æ­å»ºçš„æœåŠ¡å™¨ï¼Œé€€å‡ºå³å¯ã€‚\n\nä¹‹ååœ¨hmclä¸­ï¼Œé€‰æ‹©å¯¼å‡ºæ•´åˆåŒ…ï¼Œå¯¼å‡ºæ—¶ï¼Œå‹¾é€‰å¤šäººæœåŠ¡åˆ—è¡¨ä¸€èµ·å¯¼å‡ºã€‚ä¸ºäº†ä»¥åæ›´æ–°æ–¹ä¾¿ï¼Œæˆ‘è¿˜æ„å»ºäº†æœåŠ¡å™¨è‡ªåŠ¨æ›´æ–°æ•´åˆåŒ…ï¼Œåœ¨hmclå¯åŠ¨å™¨ä¸­å’Œmcbbsä¸Šå‡æœ‰ç›¸å…³æ•™ç¨‹ã€‚\nå‚è€ƒ\n[Nginx ä¸‹é…ç½® HMCL è‡ªåŠ¨æ›´æ–°æ•´åˆåŒ…](https://lo-li.cc/2021/03/11/Nginx%E4%B8%8B%E9%85%8D%E7%BD%AEHMCL%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%95%B4%E5%90%88%E5%8C%85)\n\nç”±äºæ„å»ºæ­¥éª¤ç›¸å¯¹ç¹çï¼Œæˆ‘ä¹Ÿä¼šå¦å†™ä¸€ç¯‡æ–‡ç« è®°å½•ã€‚\n\næŠŠåˆ¶ä½œå¥½çš„æ•´åˆåŒ…å‘ç»™ç©å®¶åï¼Œè‹¥ä½¿ç”¨çš„æ˜¯äº‘ä¸»æœºï¼Œå°±å¯ä»¥ç›´æ¥å¼€å§‹è”æœºæ¸¸æˆäº†ã€‚ä½†æˆ‘ç”¨çš„æ˜¯è‡ªå·±çš„ä¸»æœºï¼Œå…¶ä»–éå†…ç½‘ç©å®¶æ˜¯æ— æ³•è®¿é—®æˆ‘çš„æœåŠ¡å™¨çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦è¿›è¡Œç«¯å£æ˜ å°„å’Œddnsé…ç½®ï¼ˆæˆ–å†…ç½‘ç©¿é€ï¼‰\n\n### ä½¿å¤–éƒ¨ç½‘ç»œå¯è®¿é—®æœåŠ¡å™¨\n\næˆ‘çš„è·¯ç”±å™¨æ”¯æŒèŠ±ç”Ÿå£³çš„ddnsï¼Œæ‰€ä»¥æˆ‘é‡‡ç”¨äº†ç«¯å£æ˜ å°„+ddnsçš„æ–¹æ³•ã€‚\n\nåœ¨è·¯ç”±å™¨ç®¡ç†é¡µé¢ï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®æ˜ å°„ç«¯å£ï¼ˆé»˜è®¤ç«¯å£ä¸º25565ï¼Œå¯åœ¨æœåŠ¡ç«¯é…ç½®æ–‡ä»¶server.propertiesä¸­æ›´æ”¹ï¼‰\n\n![](/photo/post-pics/mc-host-server/mc-host-server_7.webp)\n\nç„¶åç™»é™†èŠ±ç”Ÿå£³ddnsè´¦å·ï¼Œè¿™æ ·å¤–éƒ¨ç½‘ç»œä¾¿å¯ä»¥è®¿é—®å±€åŸŸç½‘ä¸­çš„mcæœåŠ¡å™¨äº†ã€‚\n\nè‹¥è·¯ç”±å™¨æ²¡æœ‰å†…ç½®ä»»ä½•ddnsçš„æ”¯æŒï¼Œè¿˜å¯ä»¥åœ¨æœåŠ¡å™¨çš„ä¸»æœºä¸Šä½¿ç”¨[ddns-go](https://github.com/jeessy2/ddns-go)ç¨‹åºã€‚\n"},{"title":"å¾€äº‹ Â· å°ç‹—","tags":["è®°å¿†"],"categories":"æ—¥å¸¸","author":"æŸ¯ç½—krau","excerpt":"\nå¿˜äº†å…·ä½“æ˜¯åœ¨å°å­¦å‡ å¹´çº§çš„æ—¶å€™ï¼Œå®¶é‡ŒæŠ“å›æ¥äº†ä¸¤ä¸‰åªå°ç‹—ã€‚ä¹Ÿå¿˜äº†æ˜¯ä»å“ªé‡ŒæŠ“å›æ¥çš„ï¼Œæ˜¯æ€ä¹ˆæŠ“å›æ¥çš„ï¼Œåªä¾ç¨€è®°å¾—å®ƒä»¬ä¼¼ä¹æ²¡æœ‰å¦ˆå¦ˆã€‚\n\nå®ƒä»¬ä¸åˆ°ä¸€ä¸ªæœˆå¤§ï¼Œèº«ä¸Šéƒ½æ˜¯ç™½è‰²çš„æ¯›ï¼Œå°±åƒå½“æ—¶å†¬å­£çš„é›ªï¼Œæƒ¹äººå¯çˆ±åˆå¯æ€œã€‚çˆ¸","link":"/posts/memory-dog","content":"\nå¿˜äº†å…·ä½“æ˜¯åœ¨å°å­¦å‡ å¹´çº§çš„æ—¶å€™ï¼Œå®¶é‡ŒæŠ“å›æ¥äº†ä¸¤ä¸‰åªå°ç‹—ã€‚ä¹Ÿå¿˜äº†æ˜¯ä»å“ªé‡ŒæŠ“å›æ¥çš„ï¼Œæ˜¯æ€ä¹ˆæŠ“å›æ¥çš„ï¼Œåªä¾ç¨€è®°å¾—å®ƒä»¬ä¼¼ä¹æ²¡æœ‰å¦ˆå¦ˆã€‚\n\nå®ƒä»¬ä¸åˆ°ä¸€ä¸ªæœˆå¤§ï¼Œèº«ä¸Šéƒ½æ˜¯ç™½è‰²çš„æ¯›ï¼Œå°±åƒå½“æ—¶å†¬å­£çš„é›ªï¼Œæƒ¹äººå¯çˆ±åˆå¯æ€œã€‚çˆ¸çˆ¸æ‰¾æ¥ä¸€ä¸ªç®±å­ï¼Œå«ä¸Šäº†å¥½å‡ å±‚æ£‰èŠ±ï¼Œä¸ºå®ƒä»¬åšæˆäº†ä¸€ä¸ªå°çªã€‚å¯æ˜¯å¦ˆå¦ˆè§äº†ä¹‹åï¼Œè¯´â€œå®ƒä»¬å…»ä¸æ´»â€ã€‚ç†ç”±æ˜¯å¤ªå°äº†ï¼Œåˆæ²¡æœ‰æ¯ç‹—ï¼Œå¤©è¿™ä¹ˆå†·ï¼Œå®ƒä»¬ä¼šå†»æ­»ã€‚\n\nå¤©çœŸçš„æˆ‘ä¸æœæ°”ï¼Œæˆ‘æƒ³æˆ‘ä¸€å®šèƒ½æŠŠå®ƒä»¬å¥½å¥½å…»å¤§çš„ï¼Œæˆä¸ºæ´»è¹¦ä¹±è·³çš„å°ç‹—ã€‚\n\nä½†æ˜¯å®ƒä»¬çœŸçš„å¤ªæŸ”å¼±äº†ã€‚é‚£ä¸ªå°çªæ ¹æœ¬ä¸èƒ½è®©å®ƒä»¬æš–å’Œèµ·æ¥ï¼Œèœ·ç¼©åœ¨ç®±å­é‡Œçš„èº«ä½“è¿˜æ˜¯å‡ ä¹å†»åƒµã€‚äºæ˜¯çˆ¸çˆ¸åˆç”¨ä¸€ä¸ªç“¶å­è£…ä¸Šçƒ­æ°´ï¼Œå«åˆ°äº†æ£‰èŠ±ä¸‹é¢ã€‚æ°´çš„çƒ­é‡åˆè®©å®ƒä»¬æœ‰äº†ä¸€äº›ç”Ÿæœºï¼Œå°è„‘è¢‹åˆå¼€å§‹æ‰­åŠ¨èµ·æ¥ï¼Œå¯»æ‰¾æ¯ä¹³ã€‚æˆ‘ä»¥ä¸ºè¿™æ ·å­èƒ½è®©å®ƒä»¬æ’‘è¿‡å†¬å­£ã€‚\n\nåªè¿‡äº†ä¸¤å¤©ï¼Œå®ƒä»¬çŸ­æš‚çš„ç”Ÿå‘½ç»ˆç»“åœ¨äº†å¯’å†¬ã€‚\n\né‚£æ˜¯æˆ‘æ”¾å­¦å›æ¥ï¼Œè¿«ä¸åŠå¾…åœ°å»çœ‹çœ‹å®ƒä»¬çš„çŠ¶æ€ï¼Œå®ƒä»¬å·²ç»æ²¡æœ‰äº†åŠ¨é™ï¼Œèº«ä¸Šå†°å†·ï¼Œä½†è¿˜æœ‰å¾®å¼±çš„å‘¼å¸ã€‚æˆ‘æ…Œå¿™å»å–çƒ­æ°´ï¼Œæƒ³åƒçˆ¸çˆ¸åšçš„é‚£æ ·ï¼Œä½¿å®ƒä»¬æš–å’Œèµ·æ¥ã€‚å¯æ˜¯æ°´å£¶é‡Œæ²¡æœ‰çƒ­æ°´ã€‚\n\nè¿™æ—¶å¦ˆå¦ˆè¿‡æ¥äº†ï¼Œçœ‹è§é‚£å‡ åªå¥„å¥„ä¸€æ¯çš„å°ç‹—ï¼Œä¾¿è¦åŸ‹äº†å®ƒä»¬ã€‚â€œå®ƒä»¬è¿˜æœ‰å‘¼å¸å‘¢ï¼â€ï¼Œæˆ‘æŠ—è®®èµ·æ¥ï¼Œä½†å¦ˆå¦ˆå·²ç»åœ¨é™¢å­é‡Œçš„è€ææ ‘ä¸‹é¢ä¸ºå®ƒä»¬æ˜å¢“ã€‚\n\næˆ‘æ‰¾åˆ°ç»™å®ƒä»¬å–‚å¥¶ç”¨çš„å¥¶ç“¶ï¼ŒæŠµåœ¨å®ƒä»¬çš„å˜´è¾¹ï¼Œå¯æ˜¯æ²¡æœ‰ä»»ä½•ååº”ã€‚æˆ‘æ¸…æ¥šçš„è®°å¾—é‚£æ—¶æˆ‘ä¸€ç›´åœ¨å°å£°å‘¼å–Šâ€œå¿«å–å•Šï¼Œå¼ å¼€å˜´å•Šâ€ï¼Œä¸çŸ¥é“æ˜¯è‡ªè¨€è‡ªè¯­è¿˜æ˜¯å‘¼å”¤è¿™å‡ åªç‹—çš„ç”Ÿå‘½ã€‚\n\nå®ƒä»¬ç»ˆç©¶è¿˜æ˜¯è¢«åŸ‹åœ¨äº†è¦†ç€ç™½é›ªçš„ææ ‘ä¸‹ï¼Œå¸¦ç€ä¸€ä¸å¾®å¼±çš„å‘¼å¸å’Œå†»åƒµçš„èº«èº¯ï¼Œä»¥åŠè¢«æˆ‘çš„æ³ªæ°´æ‰“æ¹¿çš„ç™½æ¯›ã€‚"},{"title":"ray-mmdæ¸²æŸ“åŸºæœ¬æµç¨‹","tags":["3D","MMD"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n![preview](https://pic.downk.cc/item/5f119a0214195aa59417256d.png)\n","link":"/posts/mmdray-basic-rendering","content":"\n![preview](https://pic.downk.cc/item/5f119a0214195aa59417256d.png)\n<!-- more -->\n\n## Download\n\nå‰å¾€[github](https://github.com/ray-cast/ray-mmd)ä¸‹è½½æœ€æ–°ç‰ˆray mmd\næ³¨æ„ï¼šä¸ä»…ä»…æ˜¯æ‰“åŒ…ä¸‹è½½codeå°±å®Œäº‹çš„ï¼Œè¿˜éœ€è¦å»ä¸‹è½½å„é¡¹æ‰©å±•ï¼ˆè¯¦è§githubä»“åº“ä¸‹çš„readmeï¼‰\n\n![](https://pic.downk.cc/item/5f116ea214195aa5940a510c.jpg)\n\nä¸‹è½½å®Œæˆåè§£å‹rayå’Œå„ä¸ªæ‰©å±•ï¼ŒæŠŠæ‰©å±•æ–‡ä»¶åˆ†åˆ«å¤åˆ¶åˆ°rayä¸»ç›®å½•ä¸­å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­\n\n## æ¸²æŸ“åŸºæœ¬æµç¨‹\n\nè½½å…¥äººç‰©ï¼Œåœºæ™¯ç­‰æ•°æ®åï¼Œå°±å¯ä»¥å¼€å§‹rayæ¸²æŸ“äº†\nä½†åœ¨è¿™ä¹‹å‰ï¼Œè¿˜éœ€è¦åœ¨mmdæ˜¾ç¤ºèœå•ä¸­ï¼Œå…³é—­åœ°é¢é˜´å½±æ˜¾ç¤ºï¼ŒæŠ—é”¯é½¿å’Œå„å‘å¼‚æ€§è¿‡æ»¤\n![](https://pic.downk.cc/item/5f11705414195aa5940ae29c.jpg)\n*å› ä¸ºrayæ˜¯è‡ªå¸¦æŠ—é”¯é½¿å’Œé˜´å½±çš„ï¼Œå¦‚æœä¸å…³åˆ™ä¼šå¯¼è‡´ä¸€äº›éš¾ä»¥åçŠ¶çš„ç”»é¢å’Œæ€§èƒ½é—®é¢˜*\n\nç¬¬ä¸€æ­¥éœ€è¦å‘mmdä¸­ä¸¢å…¥rayæ ¹ç›®å½•ä¸‹çš„ray.xå’Œray_controller.pmxï¼Œè¿™ä¸¤ä¸ªåˆ†åˆ«æ˜¯rayç¯å¢ƒå’Œrayæ§åˆ¶å™¨\n\n![](https://pic.downk.cc/item/5f1171fa14195aa5940b7b3b.jpg)\n\nç„¶åæ”¾å…¥ray/skyboxç›®å½•ä¸‹çš„ä»»æ„ä¸€ä¸ªå¤©ç©ºç›’ï¼Œå®ƒåº”è¯¥æ˜¯ä»¥.pmxä¸ºåç¼€çš„æ–‡ä»¶ã€‚\næ­¤å¤„ä»¥**Time of day**ä¸ºä¾‹ã€‚\nä¸¢å…¥ä¹‹ååœ¨èƒŒæ™¯>æ¨¡å‹æç»˜é¡ºåºä¸­è°ƒæ•´äººç‰©ï¼Œåœºæ™¯ï¼Œå’Œskyboxçš„é¡ºåº\nè¿™ä¸‰ä¸ªçš„æ­£ç¡®ç›¸å¯¹é¡ºåºåº”ä¸º\n\nskybox\nstageï¼ˆåœºæ™¯ï¼‰\nmodelï¼ˆäººç‰©ï¼‰\n\n![](https://pic.downk.cc/item/5f11739b14195aa5940c0ba1.jpg)\n\nç„¶ååœ¨å³ä¸Šè§’MMEffectä¸­æ·»åŠ æ¸²æŸ“\n\nåœ¨mianæ ä¸­ï¼Œä¸ºåœºæ™¯å’Œäººç‰©æ·»åŠ mainæ–‡ä»¶å¤¹å†…çš„main.fxï¼ˆä¸»æ¸²æŸ“ï¼‰\n![](https://pic.downk.cc/item/5f1174ee14195aa5940c6dbe.jpg)\n\nåœ¨Envlightmapï¼ˆç¯å¢ƒï¼‰æ ä¸­ï¼Œä¸ºskyboxæ·»åŠ æ¸²æŸ“\n![](https://pic.downk.cc/item/5f11767114195aa5940d1714.jpg)\n\nåœ¨Fogmapï¼ˆé›¾æ°”ï¼‰æ ä¸­ï¼Œä¸ºskyboxæ·»åŠ é›¾æ°”æ•ˆæœæ¸²æŸ“\n![](https://pic.downk.cc/item/5f1177b014195aa5940d801d.jpg)\n*ç”¨æ–¹æ¡†æ¡†èµ·æ¥çš„ä¸‰ä¸ªå‡ä¸ºfogmapå¯¹åº”çš„æ¸²æŸ“ï¼Œåªéœ€è¦é€‰æ‹©ä¸€ä¸ªæ·»åŠ å°±å¯ä»¥ï¼Œä¸€èˆ¬é€‰æ‹©Time of fog with godray with cloud casterï¼ˆåå­—è¶Šé•¿è¶Šnbï¼‰*\n\nåœ¨materialsæ ä¸­ï¼Œä¸ºskyboxæ¸²æŸ“æ­£ç¡®çš„æè´¨\n![](https://pic.downk.cc/item/5f119aac14195aa59417535e.jpg)\n\nè‡³æ­¤ï¼Œå†ç¨å¾®è°ƒæ•´ä¸€ä¸‹æ‰“å…‰å’Œä¸€äº›å‚æ•°ï¼Œå°±ç®—å®Œæˆäº†rayæ¸²æŸ“çš„æœ€åŸºæœ¬æ­¥éª¤ï¼Œç°åœ¨çš„ç”»é¢ç›¸è¾ƒäºæœªæ¸²æŸ“çš„ç”»é¢å·²ç»è€çœ‹å¤šäº†\n\nbeforeï¼š\n![](https://pic.downk.cc/item/5f119e2914195aa5941855c6.jpg)\n\nnowï¼š\n![](https://pic.downk.cc/item/5f119d2814195aa594180924.jpg)\n\nä½†è¿™åªæ˜¯æœ€åŸºæœ¬çš„å¥—ç”¨æ¸²æŸ“çš„æµç¨‹ï¼Œç›¸è¾ƒäºæ— æ¸²æŸ“ä¹Ÿå°±æ˜¯ä»çœ‹ä¸äº†æå‡ä¸ºäº†å‹‰å¼ºèƒ½çœ‹ï¼Œè¦æƒ³åšå‡ºçœŸæ­£å¥½åº·çš„mmdï¼Œä»…ä»…è¿™äº›æ˜¯å®Œå…¨ä¸è¡Œçš„\n\nå¯¹äºæ¥è§¦mmdæ—¶é—´ä¸é•¿çš„æ–°æ‰‹æ¥è¯´ï¼Œæ²¡å¿…è¦å»è¯¦ç»†äº†è§£æ¯ä¸ªæ¦‚å¿µï¼Œéœ€è¦çš„æ˜¯è‡ªå·±ä¸æ–­å°è¯•ï¼Œå»æ„Ÿå—é‚£äº›æ¸²æŸ“åŠŸèƒ½çš„å…·ä½“ä½œç”¨ã€‚æ‰€ä»¥ä¸€å¼€å§‹æ›´å¥½çš„å­¦mmdæ–¹æ³•æ˜¯ï¼Œä»€ä¹ˆéƒ½ä¸ç®¡ï¼Œè·Ÿç€åšå°±å¥½äº†ã€‚\n"},{"title":"ray-mmdåˆ¶ä½œæ³•çº¿è´´å›¾","tags":["MMD","3D"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\nå¦‚ä½•ä½¿æè´¨è´´å›¾æ›´æœ‰å±‚æ¬¡æ„Ÿï¼Ÿ\n\nè¿™å°±éœ€è¦åˆ¶ä½œç›¸åº”çš„[æ³•çº¿è´´å›¾](https://zh.wikipedia.org/wiki/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE)\næœ¬æ–‡ä»¥YYBå¼åˆéŸ³æœªæ¥ä¸ºä¾‹ï¼Œåˆ¶ä½œç›¸åº”çš„æ³•çº¿è´´å›¾ï¼Œä½¿ç”¨rayæ¸²æŸ“çš„ç‰ˆæœ¬ä¸º1.5.2\n\n","link":"/posts/mmdray-normal-map","content":"\nå¦‚ä½•ä½¿æè´¨è´´å›¾æ›´æœ‰å±‚æ¬¡æ„Ÿï¼Ÿ\n\nè¿™å°±éœ€è¦åˆ¶ä½œç›¸åº”çš„[æ³•çº¿è´´å›¾](https://zh.wikipedia.org/wiki/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE)\næœ¬æ–‡ä»¥YYBå¼åˆéŸ³æœªæ¥ä¸ºä¾‹ï¼Œåˆ¶ä½œç›¸åº”çš„æ³•çº¿è´´å›¾ï¼Œä½¿ç”¨rayæ¸²æŸ“çš„ç‰ˆæœ¬ä¸º1.5.2\n\n<!-- more -->\n\n---\n\nåœ¨åˆ¶ä½œæ³•çº¿è´´å›¾ä¹‹å‰ï¼Œé¦–å…ˆè¦åœ¨MMDå¯¼å…¥ç›¸åº”çš„æ¨¡å‹ï¼Œå¹¶å®Œæˆrayæ¸²æŸ“çš„åŸºæœ¬æµç¨‹ï¼Œæ–¹ä¾¿ä»¥ä¸‹çš„å¯¹æ¯”æ“ä½œï¼Œä»¥å¯»æ‰¾åˆé€‚çš„å‚æ•°ã€‚\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813091507.png)\n\nåœ¨æ¨¡å‹çš„ç›®å½•ä¸­ï¼Œæ‰¾åˆ°éœ€è¦åˆ¶ä½œçš„è´´å›¾ï¼Œæ–‡ä»¶å¤¹åä¸€èˆ¬ä¸º`Texture`\n\nç„¶åä½¿ç”¨pså¯¼å…¥è´´å›¾ï¼Œé€‰æ‹©æ»¤é•œ>3D>ç”Ÿæˆæ³•çº¿å›¾\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813093103.png)\n\nå¯¼å‡ºä¸ºpngæ ¼å¼ï¼Œæ–‡ä»¶ååº”æ˜¯è‹±æ–‡\n\nåœ¨`~/ray-mmd-1.5.2/Materials`ç›®å½•ä¸­ï¼Œæ‰¾åˆ°`material_2.0.fx`ã€`material_common_2.0.fxsub`ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°æ¨¡å‹ç›®å½•ä¸­çš„æè´¨è´´å›¾æ–‡ä»¶å¤¹\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813093713.png)\n\nç„¶åé‡å‘½å`material_2.0.fx`æ–‡ä»¶ä¸º`{ä½ æ‰€å¯¼å‡ºçš„æ³•çº¿è´´å›¾çš„æ–‡ä»¶å}.fx`\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094047.png)\n\næ‰“å¼€é‡å‘½ååçš„è¯¥fxæ–‡ä»¶ï¼Œåœ¨ç¬¬28è¡Œå·¦å³æ‰¾åˆ°`#define NORMAL_MAP_FROM 0`ï¼Œå°†0ä¿®æ”¹ä¸º1ä»¥å¯ç”¨æ³•çº¿è´´å›¾ã€‚å¹¶æ›´æ”¹`#define NORMAL_MAP_FILE \"normal.png\"\n`ä¸­çš„\"normal\"ä¸ºæ³•çº¿è´´å›¾æ–‡ä»¶å\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094408.png)\n\nç„¶åä¿å­˜ï¼Œåœ¨mmdä¸­ï¼Œåœ¨`MaterialMap`æ ä¸­ï¼Œå±•å¼€æ‰€ä¿®æ”¹çš„æ¨¡å‹ï¼Œæ‰¾åˆ°å¯¹åº”çš„è´´å›¾ï¼Œä¸ºå…¶æ·»åŠ æ³•çº¿è´´å›¾æ•ˆæœ\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094739.png)\n\næ­¤æ—¶å¯ä»¥å¯¹ç…§mmdä¸­çš„æ•ˆæœè°ƒæ•´fxæ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œä¿®æ”¹å‚æ•°åä¿å­˜æ–‡ä»¶ï¼Œå³å¯åœ¨mmdä¸­é¢„è§ˆåˆ°æ•ˆæœã€‚\n\nå‡ ä¸ªå‚æ•°çš„ä½œç”¨ï¼š\n\n- const float normalMapScale = 1.0;\næ³•çº¿æ•ˆæœå¼ºåº¦ï¼Œè¯¥å‚æ•°è¶Šå¤§ï¼Œå±‚æ¬¡æ„Ÿè¶Šæ˜æ˜¾ï¼ˆä¸‹å›¾ä¸ºå°†è¯¥å‚æ•°è®¾ç½®ä¸º5.0çš„æ•ˆæœï¼‰\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813095248.png)\n\n- #define SMOOTHNESS_MAP_TYPE 0\næ³•çº¿æ•ˆæœå¹³æ»‘åº¦ï¼Œè¯¥å‚æ•°è¶Šå¤§ï¼Œå‘ç°æ•ˆæœæ˜¾ç¤ºè¶Šå¹³æ»‘ï¼ŒåŒæ—¶é¢—ç²’æ„Ÿä¸æ¹¿æ¶¦æ„Ÿä¹Ÿä¼šæ›´å¼ºï¼ˆå¤šç”¨äºåœºæ™¯ï¼‰\n\n---\n\ntipsï¼š\n\n1. å¦‚æœéœ€è¦ä¸ºåŒä¸€æ¨¡å‹çš„å¤šä¸ªæè´¨è´´å›¾æ·»åŠ æ³•çº¿è´´å›¾æ•ˆæœï¼Œåªéœ€è¦ä¸ºæ¯ä¸ªæ³•çº¿è´´å›¾å¤åˆ¶ä¸€ä¸ª`material_2.0.fx`æ–‡ä»¶ï¼Œå¹¶é‡å‘½åä¸ºå¯¹åº”çš„æ–‡ä»¶åï¼Œè€Œ`material_common_2.0.fxsub`åªåœ¨æè´¨æ–‡ä»¶å¤¹ä¸­ä¿ç•™ä¸€ä»½å³å¯\n2. åœºæ™¯åˆ¶ä½œæ³•çº¿è´´å›¾ä¸äººç‰©æ¨¡å‹åŒç†ï¼Œä½†å‚æ•°çš„è°ƒæ•´ä¸äººç‰©æ¨¡å‹åŒºåˆ«è¾ƒå¤§ï¼Œéœ€æ ¹æ®ä¸åŒçš„éœ€æ±‚è¿›è¡Œå°è¯•\n"},{"title":"MMDä¸­å¯¼å‡ºå¸¦alphaé€šé“è§†é¢‘çš„æ–¹æ³•","tags":["MMD","3D"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n## å‰è¨€\n\n é—²æ¥æ— äº‹åœ¨æ‘¸MMDï¼Œç„¶åçœ‹åˆ°äº†è¿™ä¸ª\n\n [ã€PVèƒŒæ™¯é…å¸ƒ/åŠ¨ä½œé…å¸ƒã€‘ä¹å°¾ä¸‰å¦ˆå¼åˆéŸ³ - ãŠæ°—ã«å¬ã™ã¾ã¾\n](https://www.bilibili.com/video/BV1r74","link":"/posts/mmdray-output-videos-with-alpha","content":"\n## å‰è¨€\n\n é—²æ¥æ— äº‹åœ¨æ‘¸MMDï¼Œç„¶åçœ‹åˆ°äº†è¿™ä¸ª\n\n [ã€PVèƒŒæ™¯é…å¸ƒ/åŠ¨ä½œé…å¸ƒã€‘ä¹å°¾ä¸‰å¦ˆå¼åˆéŸ³ - ãŠæ°—ã«å¬ã™ã¾ã¾\n](https://www.bilibili.com/video/BV1r7411u7ST)\n\næ„Ÿè§‰è¿™ä¸ªé…å¸ƒçš„æŒºä¸é”™ï¼Œæƒ³æ‘¸ä¸€ä¸ªã€‚\nä½†æ˜¯ç¢°åˆ°ç‚¹é—®é¢˜ï¼š60fpsçš„èƒŒæ™¯æ˜¯å•ç‹¬çš„è§†é¢‘ï¼Œéœ€è¦é€šè¿‡åæœŸè½¯ä»¶æŠŠäººç‰©å’ŒèƒŒæ™¯çš„è§†é¢‘å åŠ èµ·æ¥ï¼Œè¿™å°±è¦ä¸€ä¸ªå¸¦æœ‰alphaé€šé“ï¼ˆé€æ˜ï¼‰çš„äººç‰©è§†é¢‘ï¼Œå»ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–¹æ³•ï¼Œä¾æ—§è¸©äº†ä¸å°‘å‘ã€‚\n\n## é€šè¿‡ä¸€ä¸ªMMEå®ç°\n\næ‰¾äº†å¾ˆå¤šæ–¹æ³•ï¼Œæ„Ÿè§‰å°±è¿™ä¸ªæœ€ç®€å•æ–¹ä¾¿ã€‚\né¦–å…ˆå»ä¸‹è½½è¿™ä¸ªMMEï¼š<https://bowlroll.net/file/27004>\nè¿™ä¸ªMMEå¯ä»¥è®©ä½ éšå¿ƒæ‰€æ¬²çš„åŠ èŠ±é‡ŒèŠ±å“¨çš„å…¨å±€MMEï¼Œè€Œä¸ä¼šä¸¢å¤±é€æ˜é€šé“\n\nä¸‹è½½ä¹‹å**ä¿æŒä¹±ç çŠ¶æ€è§£å‹**\n\nç„¶ååœ¨`RewriteAlpha`æ–‡ä»¶å¤¹ä¸­ï¼Œå¾€MMDé‡ŒåŠ å…¥è¿™ä¸ª`RewriteAlpha.x`\n\nåœ¨MMD>èƒŒæ™¯>ç»˜åˆ¶é™„ä»¶ä¸­ï¼ŒæŠŠ`RewriteAlpha.x`æ”¾åˆ°æœ€åä¸€ä½\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200407205316.png)\n\nç„¶åæ‰“å¼€MMEé¢æ¿ï¼Œæ‰¾åˆ°`alphamap`æ ï¼ŒæŠŠskyboxå’Œstageçš„æ¸²æŸ“å…³é—­ï¼ˆå–æ¶ˆå‹¾é€‰ï¼‰ï¼Œäººç‰©æ¨¡å‹çš„æ¸²æŸ“å¼€å¯ï¼Œå¹¶å‹¾é€‰ä¸ŠRewriteAlpha.xçš„æ¸²æŸ“\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20200407205639.png)\n\nè¿™æ ·å°±ç®—å®Œæˆäº†ï¼Œå¯¼å‡ºçš„æ—¶å€™å°†ä¼šå¯¼å‡ºåªæœ‰äººç‰©æ¸²æŸ“ï¼Œä¸”èƒŒæ™¯æ˜¯é€æ˜é€šé“çš„è§†é¢‘ï¼Œä¹Ÿå¯ä»¥å…ˆå¯¼å‡ºä¸€å¼ pngçœ‹çœ‹æ•ˆæœã€‚~~åˆ«æ¸²æŸ“äº†åŠå¤©å‘ç°ä¸æ˜¯é€æ˜é€šé“ï¼Œé—®å°±æ˜¯è¡€æ³ªå²~~\n\n![](https://img.asnet.top/i/2020/04/07/yrrxxj.png)\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/alphammd.png)\n"},{"title":"ray-mmdå†…ç½®å¤©ç©ºç›’è°ƒæ•´å‚æ•°ç®€ä»‹","tags":["MMD","3D"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\nå®Œæˆrayæ¸²æŸ“çš„åŸºæœ¬æµç¨‹åï¼Œå°±è¦å¼€å§‹è°ƒå„ç§å‚æ•°äº†ï¼Œæœ¬ç¯‡ä»‹ç»rayæ¸²æŸ“å†…ç½®çš„å‡ ä¸ªå¤©ç©ºç›’çš„å‚æ•°\n![å†…ç½®å¤©ç©ºç›’](https://cdn.jsdelivr.net/gh/voidoath/photo/b","link":"/posts/mmdray-skyboxs","content":"\nå®Œæˆrayæ¸²æŸ“çš„åŸºæœ¬æµç¨‹åï¼Œå°±è¦å¼€å§‹è°ƒå„ç§å‚æ•°äº†ï¼Œæœ¬ç¯‡ä»‹ç»rayæ¸²æŸ“å†…ç½®çš„å‡ ä¸ªå¤©ç©ºç›’çš„å‚æ•°\n![å†…ç½®å¤©ç©ºç›’](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210812200556.png)\n\nåœ¨`æ¨¡å‹æ“ä½œ`æ ä¸­ï¼Œé€‰æ‹©å¯¼å…¥çš„å¤©ç©ºç›’ï¼Œåœ¨è¡¨æƒ…æ å³å¯è¿›è¡Œå…¶ç›¸å…³å‚æ•°è°ƒæ•´ã€‚\n\nä»¥ä¸‹ä»‹ç»ä¸­ï¼ŒæŠŠè¡¨æƒ…å››æ æŒ‰ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†æˆ ç¬¬ä¸€æ ã€ç¬¬äºŒæ ã€ç¬¬ä¸‰æ ã€ç¬¬å››æ ã€‚\n\n## Helipad GoldenHour\n\n### ç¬¬ä¸€æ \n\n- Balance\nå¯ä»¥çœ‹åˆ°è¯¥æ ä¸­æœ‰BalanceR+-/G+-/B+-ä»¥åŠGray+çš„è°ƒæ•´ï¼Œå®ƒä»¬å³å¯¹åº”è‰²è°ƒçº¢ç»¿è“ï¼ˆRGBï¼‰ä¸‰è‰²ä»¥åŠç°è‰²çš„è°ƒæ•´ã€‚\nä¾‹å¦‚ï¼Œè°ƒé«˜BalanceR+æ ï¼Œç”»é¢å°†åçº¢è‰²\n\n### ç¬¬äºŒæ \n\n- EnvDiffLight\nè¯¥å‚æ•°ä¸ºå¤©ç©ºç›’çš„å…‰æºå¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œå¤©ç©ºç›’å¯¹æ¨¡å‹çš„å½±å“å°†ä¼šå˜äº®\n- EnvSpecLight\nè¯¥å‚æ•°ä¸ºæ¼«åå°„å¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œæ¨¡å‹æ¼«åå°„å¢å¼º\n\n### ç¬¬ä¸‰æ \n\n- Diffuse\nè¯¥æ è°ƒæ•´æ¼«åå°„è‰²è°ƒï¼ˆRGB&Grayï¼‰\n\n### ç¬¬å››æ \n\n- Specular\nè¯¥æ è°ƒæ•´é•œé¢åå°„è‰²è°ƒï¼ˆä¸DiffuseåŒç†ï¼‰\n\n## Sky Hemisphere\n\nè¯¥å¤©ç©ºç›’åˆå§‹ä¸ºçº¯ç™½èƒŒæ™¯ï¼Œä¸€èˆ¬é€‚ç”¨äºå®æ™¯åˆæˆ/å”¯ç¾é£æ¸²æŸ“\n\n### ç¬¬ä¸€æ \n\n- Top\nå¯ä»¥çœ‹åˆ°è¯¥æ ä¸­æœ‰TopH+/S+/V+-ï¼Œå®ƒä»¬è°ƒæ•´è¯¥å¤©ç©ºç›’çš„é¡¶éƒ¨è‰²è°ƒæ•ˆæœ\n\n### ç¬¬äºŒæ \n\n- Medium\nä¸ç¬¬ä¸€æ åŒç†ï¼Œè°ƒæ•´ä¸­éƒ¨è‰²è°ƒ\n\n### ç¬¬ä¸‰æ \n\n- Bottom\nä¸ä¸ŠåŒç†ï¼Œè°ƒæ•´åº•éƒ¨è‰²è°ƒ\n\n### ç¬¬å››æ \n\n- EnvDiffLight\nè¯¥å‚æ•°ä¸ºå¤©ç©ºç›’çš„å…‰æºå¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œå¤©ç©ºç›’å¯¹æ¨¡å‹çš„å½±å“å°†ä¼šå˜äº®\n- EnvSpecLight\nè¯¥å‚æ•°ä¸ºæ¼«åå°„å¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œæ¨¡å‹æ¼«åå°„å¢å¼º\n\n## Sky Night\n\nè¯¥å¤©ç©ºç›’ä¸`Sky Hemisphere`å‡ ä¹ä¸€æ ·ï¼ŒåŒºåˆ«æ˜¯è¯¥å¤©ç©ºç›’å¸¦æœ‰å¤œæ™šçš„æœˆäº®å’Œæµæ˜Ÿæ•ˆæœ\n\n## Time of day\n\n### ç¬¬ä¸€æ \n\n- SunRadius\nè°ƒæ•´å¤ªé˜³åŠå¾„å¤§å°\n\n### ç¬¬äºŒæ \n\n- EnvDiffLight\nè¯¥å‚æ•°ä¸ºå¤©ç©ºç›’çš„å…‰æºå¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œå¤©ç©ºç›’å¯¹æ¨¡å‹çš„å½±å“å°†ä¼šå˜äº®\n- EnvSpecLight\nè¯¥å‚æ•°ä¸ºæ¼«åå°„å¼ºåº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œæ¨¡å‹æ¼«åå°„å¢å¼º\n\n### ç¬¬ä¸‰æ \n\n- MiePhase\nè¯¥å‚æ•°å¯ä»¥å½±å“ä¸è¾¾å°”æ•ˆåº”çš„å¼ºå¼±\n- FogRange\nè°ƒæ•´é›¾æ°”è·ç¦»\n- FogIntensity\nè¯¥å‚æ•°å¯ä»¥å½±å“é›¾æ°”æ•ˆæœå¼ºåº¦\n\n### ç¬¬å››æ \n\n- Cloud\näº‘çš„å¯†åº¦ï¼Œè°ƒé«˜è¯¥å‚æ•°ï¼Œäº‘å°†å¢å¤š\n- CloudSpeed\näº‘çš„æµåŠ¨é€Ÿåº¦\n\n## Time of night\n\nè¯¥å¤©ç©ºç›’å…·æœ‰å¤œé—´æ˜Ÿç©ºé“¶æ²³ä¸æµæ˜Ÿæ•ˆæœï¼Œå‚æ•°è°ƒæ•´ä¸`Time of day`åŸºæœ¬ä¸€è‡´ã€‚\nåŒºåˆ«æ˜¯è¯¥å¤©ç©ºç›’ç¬¬å››æ çš„å‚æ•°ä¸ºå½±å“æ˜Ÿæ˜Ÿçš„æ•ˆæœ\n"},{"title":"å°†æ—§æ‰‹æœºé€šè¿‡Linuxdeployæ”¹é€ ä¸ºlinuxæœåŠ¡å™¨|æ­å»ºcloudreveä¸ªäººç½‘ç›˜|å®ç°ç¦»çº¿ä¸‹è½½","tags":["linux","DIY"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\næœ€è¿‘å› ç–«æƒ…é—²åœ¨å®¶ï¼Œå°±æŠ˜è…¾èµ·äº†è‡ªå·±çš„æ—§æ‰‹æœº\n\n","link":"/posts/old-phone-become-server","content":"\næœ€è¿‘å› ç–«æƒ…é—²åœ¨å®¶ï¼Œå°±æŠ˜è…¾èµ·äº†è‡ªå·±çš„æ—§æ‰‹æœº\n\n<!-- more -->\n\n## å‡†å¤‡\n\n1. ä¸€éƒ¨å·²ç»è·å¾—rootæƒé™çš„æ‰‹æœº ~~è‹¥æ˜¯ovåç­‰æ— æ³•è·å–rootçš„æ‰‹æœºï¼Œå»ºè®®æ‹¿å»æ¢ç›†~~ ï¼Œæœ¬æ–‡ä»¥redmi note7 proä¸ºä¾‹ï¼Œå·²åˆ·æœºå®‰å“11ç±»åŸç”Ÿ\n2. ä¸€å°èƒ½å¤Ÿä½¿ç”¨sshç»ˆç«¯çš„è®¾å¤‡\n\n## å®‰è£…linuxdeployå¹¶é…ç½®\n\nä¸‹è½½[linuxdeploy](https://github.com/meefik/linuxdeploy/releases)ï¼Œå®‰è£…åˆ°æ—§æ‰‹æœº\n\n>è¯·ç¡®ä¿å®‰è£…çš„linuxdeployç‰ˆæœ¬â‰¥2.0ï¼Œå¦åˆ™éœ€è¦é¦–å…ˆå®‰è£…busyboxã€‚è€Œ2.0ä»¥ä¸Šçš„linuxdeployå†…ç½®äº†busybox\n\næ‰“å¼€linuxdeployè½¯ä»¶ï¼Œç‚¹å‡»å·¦ä¸Šè§’æŒ‰é’®ï¼Œé€‰æ‹©è®¾ç½®ï¼Œå‹¾é€‰ã€é”å®šwi-fiã€‘ä¸ã€CPUå”¤é†’ã€‘ï¼Œå…¶ä»–é€‰é¡¹æŒ‰éœ€é…ç½®ï¼Œäº¦å¯ä¿æŒé»˜è®¤\n\nå›åˆ°ä¸Šä¸€çº§é¡µé¢ï¼Œç‚¹å‡»å³ä¸‹è§’æŒ‰é’®ï¼Œè¿›è¡Œä»¥ä¸‹é…ç½®ï¼š\n\n## é…ç½®\n\n### å¼•å¯¼è®¾ç½®\n\n- ã€å‘è¡Œç‰ˆGNU/Linuxã€‘ å»ºè®®é€‰æ‹©Debianæˆ–centosï¼Œå®ƒä»¬åœ¨linuxdeployè¿è¡Œçš„å…¼å®¹æ€§æ›´å¥½\n- ã€æ¶æ„ã€‘ä¸€èˆ¬éƒ½é€‰æ‹©arm64ï¼ˆDebianï¼‰æˆ–aarch64ï¼ˆcentosï¼‰ï¼Œè½¯ä»¶ä¹Ÿä¼šè‡ªåŠ¨è¯†åˆ«é€‚åˆä½ çš„æ‰‹æœºçš„æ¶æ„ï¼Œè‹¥ç‰¹æ®Šæƒ…å†µè¯·æœç´¢å…³é”®è¯ â€˜{ä½ æ‰‹æœºçš„cpu}+æ¶æ„â€™\n- ã€å‘è¡Œç‰ˆGNU/Linuxç‰ˆæœ¬ã€‘æŒ‰éœ€é€‰æ‹©ï¼Œä¸€èˆ¬é€‰æ‹©busteræˆ–stable\n- ã€æºåœ°å€ã€‘å»ºè®®æ”¹ä¸ºä»¥ä¸‹åœ°å€ï¼š<http://mirrors.163.com/debian> ï¼Œä¿æŒé»˜è®¤äº¦å¯\n- ã€å®‰è£…ç±»å‹ã€‘æŒ‰éœ€è®¾ç½®ï¼Œå»ºè®®é€‰æ‹©é•œåƒæ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå•é•œåƒæ–‡ä»¶\n- ã€å®‰è£…è·¯å¾„ã€‘é»˜è®¤ä¸º`${EXTERNAL_STORAGE}/linux.img`ï¼Œä¸€èˆ¬ä¿æŒé»˜è®¤å³å¯\n- ã€é•œåƒå¤§å°ã€‘æŒ‰éœ€è®¾ç½®ï¼Œè‹¥éœ€æ­å»ºç½‘ç›˜æœåŠ¡ï¼Œå»ºè®®è®¾ç½®è¾ƒå¤§å¤§å°ï¼Œå¯ä»¥ä½¿æ–‡ä»¶æœ‰è¶³å¤Ÿçš„ç©ºé—´å­˜å‚¨åœ¨linuxé•œåƒç©ºé—´å†…ï¼Œçœå»æŒ‚è½½æ‰‹æœºå­˜å‚¨çš„éº»çƒ¦\n- ã€æ–‡ä»¶ç³»ç»Ÿã€‘ext4\n- ã€ç”¨æˆ·åã€‘è‡ªè¡Œè®¾ç½®ï¼Œå»ºè®®è®¾ç½®ä¸º root\n- ã€ç”¨æˆ·å¯†ç ã€‘è‡ªè¡Œè®¾ç½®\n- ã€ç‰¹æƒç”¨æˆ·ã€‘æŒ‰éœ€è®¾ç½®ï¼Œä¸€èˆ¬ä¿æŒé»˜è®¤\n- ã€æœ¬åœ°åŒ–ã€‘ç®€ä½“ä¸­æ–‡é€‰æ‹©zh_CN.UTF-8ï¼ŒæŒ‰éœ€è®¾ç½®\n- ã€DNSã€‘æŒ‰éœ€è®¾ç½®ï¼Œæˆ–ä¿æŒé»˜è®¤\n\n### åˆå§‹åŒ–\n\n- ã€å¯ç”¨ã€‘å‹¾é€‰ä»¥å¯ç”¨åˆå§‹åŒ–åŠŸèƒ½\n- ã€åˆå§‹åŒ–ç³»ç»Ÿã€‘é€‰æ‹©sysv\n- ã€åˆå§‹åŒ–è®¾ç½®ã€‘è§†æƒ…å†µè®¾ç½®ï¼Œæˆ–ä¿æŒé»˜è®¤\n\n### æŒ‚è½½\n\nSourceï¼šæ‰‹æœºç›®å½•\nTargetï¼šLinuxç›®å½•\nä½¿ç”¨èƒ½å¤ŸæŸ¥çœ‹åˆ°çœŸå®è·¯å¾„çš„æ–‡ä»¶æµè§ˆå™¨ï¼Œå¤åˆ¶éœ€è¦æŒ‚è½½çš„ç›®å½•åˆ°æŒ‚è½½ç‚¹åˆ—è¡¨ï¼Œå¡«å…¥ç¬¬ä¸€è¡Œå³å¯\n\n### SSH\n\nåŠ¡å¿…å‹¾é€‰å¯ç”¨SSHæœåŠ¡å™¨ï¼ŒSSHè®¾ç½®æŒ‰éœ€é…ç½®\n\n### å£°éŸ³æœåŠ¡\n\næŒ‰éœ€é…ç½®\n\n### å›¾å½¢ç•Œé¢\n\næŒ‰éœ€é…ç½®\n\n---\n\né…ç½®å®Œæˆåï¼Œè¿”å›ä¸Šä¸€çº§ï¼Œç‚¹å‡»å³ä¸Šè§’æŒ‰é’®ï¼Œç‚¹å‡»å®‰è£…ï¼Œç­‰å¾…å‡ºç°`<<< deploy`å³å®‰è£…å®Œæˆã€‚\n\nç‚¹å‡»åœæ­¢æŒ‰é’®å¹¶ç¡®å®šï¼Œå†ç‚¹å‡»å¯åŠ¨ï¼Œå‡ºç°`<<< start`å³å¯åŠ¨æˆåŠŸ\n\nç„¶åå³å¯ä½¿ç”¨åŒä¸€å±€åŸŸç½‘ä¸‹çš„sshå·¥å…·è¿æ¥\nä¸ºäº†é˜²æ­¢æ—§æ‰‹æœºçš„å†…ç½‘ipåœ°å€å˜æ›´ï¼Œåœ¨è·¯ç”±è®¾ç½®é¡µé¢è¿›è¡Œipä¸MACç»‘å®šï¼Œå¹¶æŠŠæ‰‹æœºwifiè¿æ¥ä¸­çš„éšç§è®¾ç½®ç›¸å…³é€‰é¡¹æ”¹ä¸º ä½¿ç”¨è®¾å¤‡MAC\n\nè¿æ¥åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…å¸¸ç”¨å·¥å…·\n\n`apt install wget vim curl zip -y`\n\né™„ï¼š\nå¸è½½å‘½ä»¤\n`sudo apt-get --purge remove`\nxshellå·¥å…·å®¶åº­/å­¦æ ¡ç‰ˆä¸‹è½½è¿æ¥\n<https://www.xshell.com/zh/free-for-home-school/>\n\n## å®‰è£…å¹¶é…ç½®cloudreve\n\né¡¹ç›®å‘è¡Œåœ°å€ï¼š[cloudreve](https://github.com/cloudreve/Cloudreve/releases)\næˆªæ­¢åˆ°æ’°å†™æœ¬æ–‡ï¼ˆ2022.01ï¼‰ï¼Œæœ€æ–°ç‰ˆæœ¬ä¸º3.4.2\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\nåˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•\n\n`cd /opt`\n\nåˆ›å»ºæ–‡ä»¶å¤¹å¹¶åˆ‡æ¢\n\n`mkdir cloudreve&&cd cloudreve`\n\nä¸‹è½½cloudreve\n\n`wget https://github.com/cloudreve/Cloudreve/releases/download/3.4.2/cloudreve_3.4.2_linux_arm64.tar.gz`\n\næ ¹æ®éœ€æ±‚è‡ªè¡Œé€‰æ‹©ä¸‹è½½çš„ç‰ˆæœ¬å¹¶æ›¿æ¢wgetåçš„é“¾æ¥\n\nè§£å‹\n`tar -zxvf cloudreve_3.4.2_linux_arm64.tar.gz`\nèµ‹äºˆæƒé™\n`chmod +x ./cloudreve`\nå¯åŠ¨\n`./cloudreve`\n\nåœ¨ç»ˆç«¯ä¸­ä¼šç»™å‡ºåˆå§‹ç®¡ç†å‘˜è´¦å·ä¸å¯†ç ï¼Œä½¿ç”¨è¯¥è´¦å·ç™»å½•<http://{æœåŠ¡å™¨å†…ç½‘ip}:{port(default> is 5212)}\nè‹¥æ— æ³•è®¿é—®ï¼Œè€ƒè™‘é…ç½®é˜²ç«å¢™å¼€æ”¾ç«¯å£\n\nè¿›å…¥cloudreveåï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒï¼Œè¿›å…¥ç®¡ç†é¢æ¿ï¼Œå³å¯è¿›è¡Œç›¸å…³è®¾ç½®ï¼Œå…·ä½“å‚è§[cloudreveå®˜æ–¹æ–‡æ¡£](https://docs.cloudreve.org/)\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é…ç½®ä½¿ç”¨æœ¬æœºå­˜å‚¨ç­–ç•¥çš„ç”¨æˆ·ç»„æ—¶ï¼Œè‹¥å­˜å‚¨ç›®å½•åœ¨é•œåƒç©ºé—´å†…ï¼Œè¦ç¡®ä¿ã€åˆå§‹å®¹é‡ã€‘å°äºã€é•œåƒå¤§å°ã€‘ï¼Œå¦åˆ™ä¼šæ— æ³•ä¸Šä¼ ä»»ä½•æ–‡ä»¶\n\n## é€šè¿‡aria2å®ç°ç¦»çº¿ä¸‹è½½\n\ncloudreveå†…ç½®äº†ä¾èµ–äºaria2çš„ç¦»çº¿ä¸‹è½½åŠŸèƒ½ï¼Œå› æ­¤éœ€å…ˆè¿›è¡Œaria2çš„é…ç½®\n\n### å®‰è£…å¹¶é…ç½®aria2\n\nå®‰è£…\n`apt install aria2 -y`\nä¸‹è½½ç”±[P3TERX](https://github.com/P3TERX)æä¾›çš„aria2é…ç½®æ–‡ä»¶ï¼ˆäº¦å¯é€‰æ‹©å…¶ä»–é…ç½®æˆ–å‚è€ƒ[aria2å®˜æ–¹æ–‡æ¡£](https://aria2.github.io/)è‡ªè¡Œåˆ›å»ºï¼‰\n\n```shell\ncd\nwget https://github.com/P3TERX/aria2.conf/archive/master.zip\nunzip master.zip\n```\n\nå°†è§£å‹å‡ºçš„æ–‡ä»¶å¤¹é‡å‘½åä¸º.aria2\n`mv aria2.conf-master .aria2`\nä¿®æ”¹aria2é…ç½®æ–‡ä»¶\n`cd .aria2&&vim aria2.conf`\n[P3TERX](https://github.com/P3TERX)çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¸­æ–‡æ³¨é‡Šï¼Œæ ¹æ®æ³¨é‡ŠæŒ‰éœ€ä¿®æ”¹å³å¯ï¼Œä¸€èˆ¬éœ€è¦æ”¹åŠ¨çš„æ˜¯**ä¸‹è½½ç›®å½•**ã€**RPCå¯†é’¥**ä¸**BTç›‘å¬ç«¯å£**ï¼Œå…¶ä»–ä¿æŒé»˜è®¤å³å¯\n\né…ç½®ä¿®æ”¹å®Œæˆåï¼Œåœ¨.aria2ç›®å½•å†…ï¼Œæ‰§è¡Œ`./tracker.sh`å³å¯æ›´æ–°tracker\nè‹¥æ›´æ–°å¤±è´¥ï¼Œå¯è¿›è¡Œæ‰‹åŠ¨æ›´æ–°ï¼Œå‚è€ƒä»¥ä¸‹trackeråˆ—è¡¨\n<https://trackerslist.com/all_aria2.txt>\nå°†åˆ—è¡¨å†…å®¹å¤åˆ¶åˆ°`aria2.conf`ä¸­çš„`bt-tracker`å‚æ•°åå³å¯\n\nåˆ›å»ºaria2.sessionæ–‡ä»¶\n`touch aria2.session`\n\næµ‹è¯•aria2èƒ½å¦æˆåŠŸå¯åŠ¨\n`aria2c --conf-path=/root/.aria2/aria2.conf`\nç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œæ—¥åå¯åŠ¨åªéœ€ä½¿ç”¨`aria2c`å³å¯\n\nè‹¥å¯åŠ¨æˆåŠŸï¼Œå…³é—­å³å¯ï¼Œæ¥ä¸‹æ¥è¿›è¡Œè¿›ç¨‹ä¿æŠ¤é…ç½®ï¼Œæ–¹ä¾¿åç»­æ“ä½œ\n\n### å®ˆæŠ¤cloudreveä¸aria2è¿›ç¨‹\n\ncloudreveä¸aria2è¿è¡Œåï¼Œè‹¥å…³é—­sshç»ˆç«¯ï¼ŒäºŒè€…ä¹Ÿä¼šéšä¹‹åœæ­¢è¿è¡Œï¼Œå› æ­¤éœ€è¦è¿›è¡Œè¿›ç¨‹å®ˆæŠ¤ï¼Œæœ¬æ–‡æ˜¯ä½¿ç”¨ `supervisor`\n\nå®‰è£…\n\n```shell\napt install python-setuptools -y\napt install supervisor -y\n```\n\n#### ä¿æŠ¤cloudreveè¿›ç¨‹\n\nä¸ºcloudreveåˆ›å»ºé…ç½®å¹¶æ‰“å¼€é…ç½®æ–‡ä»¶\n`sudo vim /etc/supervisor/conf.d/cloudreve.conf`\n\nå°†ä»¥ä¸‹å†…å®¹æŒ‰éœ€ä¿®æ”¹åï¼Œå†™å…¥cloudreveçš„supervisoré…ç½®æ–‡ä»¶ï¼Œå…·ä½“å‚è§[supervisorå®˜æ–¹æ–‡æ¡£](http://supervisord.org/configuration.html)\n\n```ini\n[program:cloudreve]\ndirectory=/opt/cloudreve\ncommand=/opt/cloudreve/cloudreve\nautostart=true\nautorestart=true\nstderr_logfile=/var/log/supervisor/cloudreve.err\nstdout_logfile=/var/log/supervisor/cloudreve.log\nenvironment=CODENATION_ENV=prod\n```\n\nä»¥ä¸Šå†…å®¹å¤‡æ³¨ï¼š\nç¨‹åºç›®å½•=/opt/cloudreve\nè¿è¡Œå‘½ä»¤(ç»å¯¹è·¯å¾„)=/opt/cloudreve/cloudreve\nè‡ªå¯åŠ¨=true\nè‡ªåŠ¨é‡å¯=true\né”™è¯¯æ—¥å¿—ä¿å­˜è·¯å¾„=\nå…¶ä»–æ—¥å¿—ä¿å­˜è·¯å¾„=\nç¯å¢ƒ=\n\n#### ä¿æŠ¤aria2è¿›ç¨‹\n\nä¸ä¸ŠåŒç†ï¼Œä½†ä¸ºä¿è¯å™è¿°æ¸…æ¥šä»¥åŠæŒ‰éœ€æŸ¥é˜…ï¼Œåˆ†åˆ«å…·ä½“å™è¿°\nä¸ºaria2åˆ›å»ºé…ç½®å¹¶æ‰“å¼€é…ç½®æ–‡ä»¶\n`sudo vim /etc/supervisor/conf.d/aria2.conf`\nå°†ä»¥ä¸‹å†…å®¹æŒ‰éœ€ä¿®æ”¹åï¼Œå†™å…¥aria2çš„supervisoré…ç½®æ–‡ä»¶ï¼Œå…·ä½“å‚è§[supervisorå®˜æ–¹æ–‡æ¡£](http://supervisord.org/configuration.html)\n\n```ini\n[program:aria2]\ndirectory=/root/.aria2\ncommand=aria2c --conf-path=/root/.aria2/aria2.conf\nautostart=true\nautorestart=true\nstderr_logfile=/var/log/supervisor/aria2.err\nstdout_logfile=/var/log/supervisor/aria2.log\nenvironment=CODENATION_ENV=prod\n```\n\nä»¥ä¸Šå†…å®¹å¤‡æ³¨ï¼š\nç¨‹åºç›®å½•=/root/.aria2\nè¿è¡Œå‘½ä»¤(ç»å¯¹è·¯å¾„)=aria2c --conf-path=/root/.aria2/aria2.conf\nè‡ªå¯åŠ¨=true\nè‡ªåŠ¨é‡å¯=true\né”™è¯¯æ—¥å¿—ä¿å­˜è·¯å¾„=\nå…¶ä»–æ—¥å¿—ä¿å­˜è·¯å¾„=\nç¯å¢ƒ=\n\n---\nå¯åŠ¨supervisor\n`supervisord -c /etc/supervisor/supervisord.conf`\nè‡³æ­¤ä¾¿å®Œæˆäº†è¿›ç¨‹å®ˆæŠ¤é…ç½®\nå¦‚éœ€ç®¡ç†supervisorå†…è¿›ç¨‹ï¼Œå‚è€ƒä»¥ä¸‹æŒ‡ä»¤ï¼š\n\n```shell\nsudo supervisorctl start cloudreve #å¯åŠ¨    \nsudo supervisorctl stop cloudreve #åœæ­¢    \nsudo supervisorctl status cloudreve #çŠ¶æ€\n```\n\né™„.ç½‘é¡µç®¡ç†supervisorè¿›ç¨‹é…ç½®ï¼š\nåœ¨supervisoré…ç½®æ–‡ä»¶ä¸­ï¼ˆ/etc/supervisor/supervisord.confï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹\n\n```ini\n[inet_http_server]\nport=127.0.0.1:8888\nusername=\npassword=\n```\n\nå…¶ä¸­portã€usernameã€passwordå‚æ•°å¯è‡ªè¡Œè®¾ç½®ï¼Œè‹¥éœ€å¤–éƒ¨è®¿é—®ï¼Œå¯å°†portè®¾ç½®ä¸º0.0.0.0:8888\n\n### é…ç½®å¼€æœºè‡ªå¯åŠ¨\n\nè‹¥åœ¨linuxdeployä¸­ï¼Œåˆå§‹åŒ–ç³»ç»Ÿé€‰æ‹©äº†sysvï¼Œåˆ™æ— éœ€é¢å¤–é…ç½®å³å¯è‡ªå¯åŠ¨supervisoråŠå…¶ä¸­çš„ç¨‹åº\nè‹¥ä½¿ç”¨run-partsåˆå§‹åŒ–ï¼Œéœ€é¢å¤–é…ç½®ï¼Œè‡ªè¡ŒæŸ¥è¯¢ä¸å†èµ˜è¿°\n\n## é…ç½®cloudreveç¦»çº¿ä¸‹è½½åŠŸèƒ½\n\nç™»å½•cloudreveç®¡ç†é¡µé¢ï¼Œé€‰æ‹© ç¦»çº¿ä¸‹è½½èŠ‚ç‚¹ ï¼Œä¿®æ”¹ ä¸»æœºï¼ˆæœ¬æœºï¼‰ èŠ‚ç‚¹\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20220125103835.png)\n\n1. å¯ç”¨ç¦»çº¿ä¸‹è½½\n2. å‚è€ƒé…ç½®\n3. RPCæœåŠ¡åœ°å€ï¼Œç”±äºcloudreveä¸aria2è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ï¼ˆæ—§æ‰‹æœºï¼‰ä¸Šï¼Œæ•…å¡«å†™127.0.0.1:{prot}\n\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20220125103937.png)\n4. RPCä»¤ç‰Œï¼Œä¸ Aria2 é…ç½®æ–‡ä»¶ä¸­rpc-secretä¿æŒä¸€è‡´\n5. ä¸´æ—¶ä¸‹è½½ç›®å½•ï¼Œå¡«å†™ç»å¯¹è·¯å¾„ï¼Œå¹¶ä¿è¯cloudreveå…·æœ‰æ­¤ç›®å½•çš„æƒé™\n6. é¢å¤–å‚æ•°é…ç½®ï¼Œä¸€èˆ¬ä¿æŒé»˜è®¤\n\nå®Œæˆé…ç½®åï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œä¿®æ”¹æ‚é¡¹ä¿¡æ¯ï¼Œå†ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå³å¯ä¿å­˜è¯¥èŠ‚ç‚¹é…ç½®\n\nç„¶åç‚¹å‡»ç”¨æˆ·ç»„ï¼Œç¼–è¾‘ç”¨æˆ·ç»„é…ç½®ï¼Œå…è®¸è¿›è¡Œç¦»çº¿ä¸‹è½½\n![](https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20220125104705.png)\n\n---\nè‡³æ­¤ï¼Œæ‰€æœ‰é…ç½®å®Œæˆï¼Œå¯åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œæ‰“å¼€cloudreveé¡µé¢æµ‹è¯•æ˜¯å¦æˆåŠŸå®ç°äº†ä¸ªäººäº‘ç›˜ä¸ç¦»çº¿ä¸‹è½½åŠŸèƒ½\n"},{"title":"åœ¨vscodeé‡Œç›´æ¥ç²˜è´´å›¾ç‰‡â€”â€”pasteimage","tags":["vscode","åšå®¢","å®‰åˆ©"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n## å‰è¨€\n\nä½¿ç”¨vscodeå†™åšå®¢ï¼Œè¦æƒ³ä¾¿æ·å¿«é€Ÿåœ°åœ¨æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡ï¼Œæ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªåšæ³•æ˜¯é€šè¿‡picgo+å›¾åºŠå®ç°å¿«æ·é”®ä¸Šä¼ å›¾ç‰‡ï¼Œå¹¶ç”Ÿæˆmarkdownæ ¼å¼çš„é“¾æ¥ã€‚å›¾åºŠå¸¸å¸¸æ˜¯åˆ©ç”¨jsdelivråŠ é€Ÿgithubä»“åº“çš„æ–¹å¼æ­å»ºã€‚\næˆ‘åŸæœ¬ä¹Ÿä¸€ç›´æ˜¯è¿™æ ·åšçš„ï¼Œä½†è‡ªä»jsdelivråœ¨å›½å†…ä¸å¯ç”¨ä¹‹åï¼Œï¼ˆå†è€…ï¼Œjsdelivrçš„ä½¿ç”¨è§„èŒƒä¹Ÿä¸å…è®¸ä½œä¸ºå›¾åºŠä½¿ç”¨ï¼‰æˆ‘æ¢ç”¨äº†å¦ä¸€ç§æ–¹æ¡ˆï¼Œå³æœ¬æ–‡æ‰€å†™ï¼Œé€šè¿‡vsçš„pasteimageæ’ä»¶ç›´æ¥æŠŠå›¾ç‰‡ç²˜è´´åœ¨æ–‡ç« å†…ï¼Œå¹¶ä¿å­˜åœ¨åšå®¢ç›®å½•å†…ã€‚\n\n","link":"/posts/pasteimage-in-vs","content":"\n## å‰è¨€\n\nä½¿ç”¨vscodeå†™åšå®¢ï¼Œè¦æƒ³ä¾¿æ·å¿«é€Ÿåœ°åœ¨æ–‡ç« ä¸­æ’å…¥å›¾ç‰‡ï¼Œæ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªåšæ³•æ˜¯é€šè¿‡picgo+å›¾åºŠå®ç°å¿«æ·é”®ä¸Šä¼ å›¾ç‰‡ï¼Œå¹¶ç”Ÿæˆmarkdownæ ¼å¼çš„é“¾æ¥ã€‚å›¾åºŠå¸¸å¸¸æ˜¯åˆ©ç”¨jsdelivråŠ é€Ÿgithubä»“åº“çš„æ–¹å¼æ­å»ºã€‚\næˆ‘åŸæœ¬ä¹Ÿä¸€ç›´æ˜¯è¿™æ ·åšçš„ï¼Œä½†è‡ªä»jsdelivråœ¨å›½å†…ä¸å¯ç”¨ä¹‹åï¼Œï¼ˆå†è€…ï¼Œjsdelivrçš„ä½¿ç”¨è§„èŒƒä¹Ÿä¸å…è®¸ä½œä¸ºå›¾åºŠä½¿ç”¨ï¼‰æˆ‘æ¢ç”¨äº†å¦ä¸€ç§æ–¹æ¡ˆï¼Œå³æœ¬æ–‡æ‰€å†™ï¼Œé€šè¿‡vsçš„pasteimageæ’ä»¶ç›´æ¥æŠŠå›¾ç‰‡ç²˜è´´åœ¨æ–‡ç« å†…ï¼Œå¹¶ä¿å­˜åœ¨åšå®¢ç›®å½•å†…ã€‚\n\n<!-- more -->\n\n## æ•ˆæœå±•ç¤º\n\nä¸ºäº†çªå‡ºè¿™ä¸ªæ’ä»¶çš„å¥½ç”¨ï¼Œç‰¹æŠŠæ•ˆæœå±•ç¤ºæåˆ°ä½¿ç”¨æ•™ç¨‹å‰ã€‚\n\né¦–å…ˆï¼Œæˆªå¼ å›¾ï¼Œæˆ–è€…å¤åˆ¶ä¸€å¼ å›¾ç‰‡\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-31-48.webp)\n\nç„¶ååœ¨vscodeå†…ï¼Œä½¿ç”¨å¿«æ·é”®ctrl+alt+vï¼ˆå¯è‡ªå®šä¹‰ï¼‰ç²˜è´´è¿™å¼ å›¾ç‰‡\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-32-56.webp)\n\nè¿™æ ·å°±å®Œæˆäº†ï¼Œç²˜è´´åˆ°æ–‡ç« å†…çš„å›¾ç‰‡ä¼šä¿å­˜åœ¨ä½ è®¾ç½®çš„ç›®å½•ä¸‹ï¼Œç²˜è´´å›¾ç‰‡å®é™…ä¸Šæ˜¯ç²˜è´´çš„å›¾ç‰‡è·¯å¾„ã€‚å›¾ç‰‡æ–‡ä»¶ä»¥{æ–‡ç« æ ‡é¢˜_æ—¶é—´}çš„æ ¼å¼å‘½åï¼Œååˆ†æœ‰æ¡ç†ã€‚\n\nvscodeå†…çš„å®é™…æ•ˆæœâ†“â†“â†“\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-35-12.webp)\n\nå›¾ç‰‡æ–‡ä»¶åâ†“â†“â†“\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-37-18.webp)\n\n## ä½¿ç”¨\n\n### å…ˆè®¾æƒ…æ™¯\n\nä½ ä½¿ç”¨vscodeå†™åšå®¢ï¼Œä½ çš„åšå®¢ç”±hexoé©±åŠ¨ï¼Œä½ çš„åšå®¢çš„æ ¹ç›®å½•æ–‡ä»¶å¤¹åæ˜¯`hexo-blog-raw`ï¼Œä½ æƒ³æŠŠç²˜è´´çš„å›¾ç‰‡ä»¥`æ–‡ç« æ ‡é¢˜_æ—¶é—´.png`çš„æ ¼å¼å‘½åï¼Œå¹¶ä¿å­˜åœ¨`hexo-blog-raw/source/photo`ç›®å½•ä¸‹\n\n### æ•™ç¨‹\n\né¦–å…ˆï¼Œåœ¨vscodeçš„æ‰©å±•å•†åº—ä¸­ï¼Œæœç´¢ paste imageå¹¶å®‰è£…\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-38-09.webp)\n\nç„¶åï¼Œåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»º.vscodeæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾vscodeçš„å·¥ä½œåŒºé…ç½®ï¼ˆå³å±€éƒ¨è®¾ç½®ï¼‰\n\nåœ¨.vscodeæ–‡ä»¶å¤¹å†…ï¼Œæ–°å»ºsettings.jsonæ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ã€‚ï¼ˆæ˜¯çš„ï¼Œé…ç½®æˆ‘éƒ½å¸®ä½ å†™å¥½äº†ï¼‰\n\n```json\n{\n    \"pasteImage.namePrefix\": \"${currentFileNameWithoutExt}_\",\n    \"pasteImage.path\": \"${projectRoot}/source/photo\",\n    \"pasteImage.basePath\": \"${projectRoot}/source\",\n    \"pasteImage.forceUnixStyleSeparator\": true,\n    \"pasteImage.prefix\": \"../\"\n}\n```\n\n![](/photo/post-pics/pasteimage-in-vs/pasteimage-in-vs_2022-07-07-09-48-46.webp)\n\nè¿™æ ·å°±å®Œæˆäº†ã€‚\næŒ‰ç…§å¦‚ä¸Šé…ç½®åï¼Œæ‰€æœ‰é…ç½®æ˜¯åªåœ¨hexo-blog-rawå·¥ä½œåŒºç”Ÿæ•ˆçš„ï¼Œå³åªæœ‰åœ¨ç”¨vscodeå†™åšå®¢æ–‡ç« æ—¶ï¼Œä»¥ä¸Šé…ç½®æ‰ç”Ÿæ•ˆã€‚\n\nä½¿ç”¨æ—¶ï¼Œç”¨vscodeæ‰“å¼€åšå®¢æ–‡ç« ï¼Œç”¨å¿«æ·é”®ctrl+alt+vå³å¯æ’å…¥å›¾ç‰‡åˆ°æ–‡ç« å†…ã€‚\n\næ›´å¤šçš„è‡ªå®šä¹‰é…ç½®ï¼Œå¯å‚è€ƒ[pasteimageå®˜æ–¹æ–‡æ¡£](https://marketplace.visualstudio.com/items?itemName=mushan.vscode-paste-image)\n"},{"title":"Python3â€”â€”åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ã€æ¡ä»¶ã€å¾ªç¯ã€è¾“å…¥ã€å‡½æ•°","tags":["Python","ä»£ç "],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n## å‰è¨€\n\næˆ‘æ¥è§¦pythonæ—¶é—´å·²ç»ä¸çŸ­äº†ï¼Œä½†å­¦ä¹ ä¸­ä¸€ç›´æ˜¯é›¶é›¶æ•£æ•£ï¼Œå…ˆæœ‰æƒ³æ³•ï¼Œå†å»å­¦ä¹ å¯¹åº”çš„çŸ¥è¯†ï¼ˆæ¯”å¦‚çˆ¬è™«ï¼‰ï¼Œæ‰€ä»¥çŸ¥è¯†æŒæ¡å¾—å¾ˆä¸æˆç³»ç»Ÿã€‚è¿‘æ¥å‡†å¤‡æŠŠpythonç³»ç»Ÿæ€§åœ°å­¦ä¸€éï¼Œäºæ˜¯æœ‰äº†æ­¤æ–‡ï¼Œæ—¢ä½œä¸ºè‡ªå·±å­¦ä¹ çš„å¤‡å¿˜ç¬”è®°ï¼Œä¹Ÿå¸Œæœ›èƒ½å¸®åŠ©å…¶ä»–å…·æœ‰ä¸€ç‚¹åŸºç¡€çš„äººå¿«é€Ÿå…¥é—¨pythonã€‚\n\nåœ¨GitHubä¸Šæˆ‘è¿˜å»ºäº†ä¸ªä»“åº“ï¼š[Py-learn](https://github.com/krau/py-learn)ï¼Œåœ¨é‚£é‡Œæœ‰ä»£ç æºæ–‡ä»¶ã€‚\n\n","link":"/posts/py3-quick-basic","content":"\n## å‰è¨€\n\næˆ‘æ¥è§¦pythonæ—¶é—´å·²ç»ä¸çŸ­äº†ï¼Œä½†å­¦ä¹ ä¸­ä¸€ç›´æ˜¯é›¶é›¶æ•£æ•£ï¼Œå…ˆæœ‰æƒ³æ³•ï¼Œå†å»å­¦ä¹ å¯¹åº”çš„çŸ¥è¯†ï¼ˆæ¯”å¦‚çˆ¬è™«ï¼‰ï¼Œæ‰€ä»¥çŸ¥è¯†æŒæ¡å¾—å¾ˆä¸æˆç³»ç»Ÿã€‚è¿‘æ¥å‡†å¤‡æŠŠpythonç³»ç»Ÿæ€§åœ°å­¦ä¸€éï¼Œäºæ˜¯æœ‰äº†æ­¤æ–‡ï¼Œæ—¢ä½œä¸ºè‡ªå·±å­¦ä¹ çš„å¤‡å¿˜ç¬”è®°ï¼Œä¹Ÿå¸Œæœ›èƒ½å¸®åŠ©å…¶ä»–å…·æœ‰ä¸€ç‚¹åŸºç¡€çš„äººå¿«é€Ÿå…¥é—¨pythonã€‚\n\nåœ¨GitHubä¸Šæˆ‘è¿˜å»ºäº†ä¸ªä»“åº“ï¼š[Py-learn](https://github.com/krau/py-learn)ï¼Œåœ¨é‚£é‡Œæœ‰ä»£ç æºæ–‡ä»¶ã€‚\n\n<!-- more -->\n\næœ¬æ–‡æ—¨åœ¨å¸®åŠ©æœ‰ä¸€å®šåŸºç¡€çš„æœ‹å‹å¿«é€Ÿå…¥é—¨ï¼Œå› æ­¤ç¯å¢ƒæ­å»ºã€ç¼–è¾‘å™¨é€‰æ‹©ç­‰å‡†å¤‡å·¥ä½œï¼Œä»¥åŠå˜é‡å’Œç®€å•æ•°æ®ç±»å‹çš„ä»‹ç»ä¸åœ¨æ’°å†™èŒƒå›´å†…ã€‚\n\n## åˆ—è¡¨\n\n### åˆ—è¡¨åŸºç¡€\n\n```py\n#åˆ›å»ºåˆ—è¡¨\nfriends = ['ah','leao','zhang','wang']\nprint(friends)\n\n#è®¿é—®åˆ—è¡¨å…ƒç´ \nprint(friends[0])#ç´¢å¼•ä»0å¼€å§‹\nprint(friends[-1])#åå‘ç´¢å¼•ä»-1å¼€å§‹\n\n#ä¿®æ”¹åˆ—è¡¨å…ƒç´ \nfriends[0] = 'ahchan'\n\n#æ·»åŠ ä¸åˆ é™¤åˆ—è¡¨å…ƒç´ \nfriends.append('zhou')#åœ¨æœ«å°¾æ·»åŠ \nfriends.insert(1,'cos0')#åœ¨æŒ‡å®šç´¢å¼•ä½ç½®æ·»åŠ \n\ndel friends[1]#ä½¿ç”¨delåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ \npopped_friends = friends.pop(1)#ä½¿ç”¨popâ€å¼¹å‡ºâ€œæŒ‡å®šä½ç½®çš„å…ƒç´ \nprint(friends)\nprint(popped_friends)\n\nfriends.remove('zhou')#æ ¹æ®å€¼åˆ é™¤å…ƒç´ \n\n#ç»„ç»‡åˆ—è¡¨\nfriends.sort()#æŒ‰é¦–å­—æ¯æ’åº,æ°¸ä¹…æ€§çš„\nprint(friends)\nfriends.sort(reverse=True)#å¯ä»¥ä¼ å…¥reverseå‚æ•°ä½¿å…¶é€†åº\nprint(friends)\n\nprint(sorted(friends))#ä¸´æ—¶æŒ‰é¦–å­—æ¯æ’åº\n\nfriends.reverse()#reverseåªæ˜¯åè½¬åˆ—è¡¨å…ƒç´ çš„æ’åˆ—é¡ºåº\nprint(friends)\n\nprint(len(friends))#ä½¿ç”¨len()ç¡®å®šåˆ—è¡¨æœ‰å¤šå°‘å…ƒç´ \n```\n\n### æ“ä½œåˆ—è¡¨\n\n```py\nmembers = ['krau','ah','hanmiao']\n#forå¾ªç¯éå†åˆ—è¡¨\nfor member in members: #forå¾ªç¯å°†æŠŠmembersä¸­çš„å…ƒç´ ä¾æ¬¡ä¸memberå…³è”ï¼Œå¹¶éƒ½æ‰§è¡Œä¸‹é¢çš„æ“ä½œ\n    print(member)\n    print(f'{member.title()},welcome to yuzunion!')#title()å°†é¦–å­—æ¯å¤§å†™\n\n\n#range()ç”Ÿæˆæ•°å­—åºåˆ—\nfor i in range(1,10):\n    print(i)\n#è¿™ä¸ªå¾ªç¯å°†ä¼šä¾æ¬¡æ‰“å°1-9ï¼Œå› ä¸ºrangeæ˜¯åœ¨10åœæ­¢çš„ï¼Œä¸åŒ…æ‹¬10\n\n#ä½¿ç”¨range()åˆ›å»ºæ•°å­—åˆ—è¡¨\nnums_list_1to10 = list(range(1,10))\nprint(nums_list_1to10)\n\n#range()æŒ‡å®šæ­¥é•¿ï¼ˆå…¬å·®ï¼‰\nnums_list_1to10_2 = list(range(1,10,2))#ç¬¬ä¸‰ä¸ªæ•°å­—æŒ‡å®šäº†æ­¥é•¿ï¼Œå³æ¯æ¬¡åŠ 2\nprint(nums_list_1to10_2)\n\n#forä¸rangeç»“åˆï¼Œå¯ä»¥ç”Ÿæˆå„ç§æ•°åˆ—ã€‚å¦‚ä¸‹æ˜¯æ•´æ•°1~10çš„å¹³æ–¹\nnums_list_1to100 = []\nfor num in range(1,11):\n    nums_list_1to100.append(num**2)#**è¡¨ç¤ºä¹˜æ–¹è¿ç®—\nprint(nums_list_1to100)\n\n#æ•°å­—åˆ—è¡¨ç®€å•ç»Ÿè®¡è¿ç®—ï¼Œä»¥ä¸Šé¢çš„nums_list_1to100ä¸ºä¾‹\nprint(min(nums_list_1to100))#æœ€å°å€¼\nprint(max(nums_list_1to100))#æœ€å¤§å€¼\nprint(sum(nums_list_1to100))#æ±‚å’Œ\n\n#åˆ—è¡¨è§£æï¼Œä¸€ç§ä¸€è¡Œä»£ç ç”Ÿæˆåˆ—è¡¨çš„æ–¹æ³•ï¼ˆå…¶å®å°±æ˜¯åˆå¹¶èµ·æ¥å†™ï¼‰\nlist_analysis = [value**2 for value in range(1,11)]\nprint(list_analysis)\n#è¿™ç§è¯­æ³•çš„ä½¿ç”¨æ–¹æ³•æ˜¯\n# åˆ—è¡¨å = [è¡¨è¾¾å¼ for å˜é‡ in æ•°åˆ—]\n\n#åˆ‡ç‰‡ï¼Œåœˆå®šåˆ—è¡¨æŸä¸€éƒ¨åˆ†\nphones = ['pixel3','mix4','k20p','pixel2','honor8']\nprint(phones[0:3])#è¾“å‡ºåŒ…å«ç´¢å¼•ä¸º0ï¼Œ1ï¼Œ2çš„å…ƒç´ çš„â€™å­åˆ—è¡¨â€˜\nprint(phones[:3])#ä¸æŒ‡å®šç¬¬ä¸€ä¸ªç´¢å¼•ä¼šè‡ªåŠ¨ä»0å¼€å§‹\nprint(phones[1:])#ä¸æŒ‡å®šç¬¬äºŒä¸ªç´¢å¼•ä¼šè‡ªåŠ¨åˆ°æœ€å\nprint(phones[:])#éƒ½ä¸æŒ‡å®šå°±æ˜¯ä»å¤´åˆ°å°¾ï¼Œå¯åˆ©ç”¨æ­¤åˆ›å»ºåˆ—è¡¨çš„å‰¯æœ¬\nphones_copy = phones[:]\nprint(phones_copy)\n#è¿™å’Œç›´æ¥æŠŠphonesèµ‹å€¼ç»™phones_copyæ˜¯ä¸ä¸€æ ·çš„ï¼Œè‹¥ç›´æ¥èµ‹å€¼ï¼Œå®é™…ä¸Šåªæ˜¯ç»™åŒä¸€ä¸ªåˆ—è¡¨å…³è”äº†ä¸¤ä¸ªå˜é‡åå­—ï¼Œå½“ä¿®æ”¹åˆ—è¡¨æ—¶ï¼Œè¿™ä¸¤ä¸ªå˜é‡éƒ½ä¼šåŒæ­¥ä¿®æ”¹\n#ä¾‹å¦‚ï¼Œç»™phonesæ·»åŠ ä¸€ä¸ªå…ƒç´ \nphones.append('readmi')\n#ç„¶åçœ‹çœ‹phoneså’Œphones_copyè¿™ä¸¤ä¸ªåˆ—è¡¨ç°åœ¨æ˜¯ä»€ä¹ˆæ ·çš„\nprint('phonesåˆ—è¡¨',phones)\nprint('phones_copyåˆ—è¡¨',phones_copy)\n#ä½†å¦‚æœç›´æ¥èµ‹å€¼å°†æ˜¯ä¸‹é¢çš„æ•ˆæœ\nmy_phones = phones\nphones.append('oppo')\nprint(phones)\nprint('å¯ä»¥çœ‹åˆ°å³ä½¿æ˜¯å¯¹phonesè¿›è¡Œä¿®æ”¹ï¼Œmy_phonesä¹Ÿå°†è¾“å‡ºå’Œphonesä¸€æ ·çš„åˆ—è¡¨',my_phones)\n\n\n#éå†åˆ‡ç‰‡\nfor phone in phones[0:3]:\n    print(phone.title())\n\n\n#å…ƒç»„ï¼Œä¸èƒ½å˜çš„åˆ—è¡¨\n#åˆ›å»ºå…ƒç»„ï¼Œä½¿ç”¨åœ†æ‹¬å·\ndimensions = (10,20)\nprint(dimensions[0])\nprint(dimensions[1])\n\n#å…ƒç»„ä¸­çš„æ•°æ®æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ï¼Œå¦‚æœå°è¯•ä¿®æ”¹å°†ä¼šæŠ¥é”™ï¼Œä»¥ä¸‹è¢«æ³¨é‡Šçš„ä»£ç å°†ä¼šæŠ¥é”™\n# dimensions[0] = 20\n#ä½†æ˜¯å¯ä»¥é‡æ–°å®šä¹‰å…ƒç»„æ¥ä¿®æ”¹å…ƒç»„çš„å€¼\nl = 20\nw = 10\ndimensions = (l,w)#é‡æ–°å®šä¹‰å…ƒç»„æ˜¯åˆæ³•çš„\nprint(dimensions)\n#ä½†å³ä½¿æ”¹å˜å…ƒç»„ä¸­å­˜å‚¨çš„å˜é‡çš„å€¼ï¼Œå…ƒç»„ä¹Ÿä¸ä¼šæ”¹å˜\nl = 500\nw = 200\nprint(dimensions)#å¯ä»¥çœ‹åˆ°å…ƒç»„è¿˜æ˜¯æ²¡å˜\n\n#å¦‚æœéœ€è¦åˆ›å»ºåªæœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œä¹Ÿéœ€è¦å¸¦ä¸Šé€—å·ï¼Œå› ä¸ºå…ƒç»„ä½¿ç”¨é€—å·æ¥æ ‡è¯†\nonlyonetuple = (1,)\n\n#éå†å…ƒç»„ï¼Œå’Œéå†åˆ—è¡¨æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«\n```\n\n## æ¡ä»¶è¯­å¥â€”â€”if\n\n```py\n#åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç”¨==ï¼ˆä¸¤ä¸ªç­‰å·ï¼‰ï¼Œç›¸ç­‰æ—¶è¿”å›Trueï¼Œå¦åˆ™è¿”å›False\nwife = 'Miku'\nprint(wife =='Miku')\n# == åˆ¤æ–­æ˜¯å¤§å°å†™æ•æ„Ÿçš„\nprint(wife == 'miku')#å°†ä¼šè¾“å‡ºFalse\n#å¦‚æœä¸å¸Œæœ›å¤§å°å†™å½±å“åˆ¤æ–­ï¼Œå¯ä»¥åœ¨åˆ¤æ–­æ—¶éƒ½è½¬æ¢ä¸ºå°å†™\nprint(wife.lower()=='miku')#lower()ä¸ä¼šç›´æ¥ä¿®æ”¹å˜é‡çš„å€¼ï¼Œåªæ˜¯è¯»å–å˜é‡çš„å€¼å¹¶å°†å…¶å°å†™å†è¿›è¡Œåç»­æ“ä½œ\n#è‹¥è¦éƒ½å¤§å†™å¯ä½¿ç”¨.upper()æ–¹æ³•\n\n#åˆ¤æ–­æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä½¿ç”¨!=ã€‚!å¸¸å¸¸æ˜¯è¡¨ç¤ºâ€˜éâ€™çš„\nprint(wife != 'Miku')\n\n#åˆ¤æ–­å¤šæ¡ä»¶\n#and å’Œï¼Œéƒ½ä¸ºTrueæ—¶è¿”å›True\nage_0 = 16\nage_1 = 14\nprint(age_0 > 15 and age_1 <=15)\n#or æˆ–ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçœŸå°±è¿”å›çœŸ\nprint(age_0 == 15 or age_1 > 12)\n\n#inæ£€æŸ¥ç‰¹å®šå€¼æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ï¼Œå¦‚æœåœ¨ï¼Œè¿”å›True\nwaifus = ['miku','ayanami','sakira']\nprint('sakira' in waifus)\n#not inæ£€æŸ¥ç‰¹å®šå€¼æ˜¯å¦ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œå°†è¿”å›Ture\nprint('miku' not in waifus)\n\n#å¸ƒå°”è¡¨è¾¾å¼ï¼Œå¦‚ä¸‹\nMiku_is_my_wife = True\nKrau_love_miku = True\n\n#if-elseè¯­å¥\nif 'miku' in waifus:\n    print('miku is my wife')\nelse:\n    print('miku is also my wife')\n#if-elif-elseè¯­å¥ï¼Œåˆ¤æ–­å¤šç§æ¡ä»¶ä¹‹ä¸€\nif wife == waifus[0]:\n    print(f'{waifus[0]} is my wife!'.title())#æ­¤å¤„f'{}'å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è¾“å‡ºå˜é‡çš„å€¼\nelif wife == waifus[1]:\n    print(f'{waifus[1]} is my wife!'.title())\nelif wife == waifus[2]:\n    print(f'{waifus[2]} is my wife!'.title())#elifå¯ä»¥æ˜¯å¤šä¸ª\nelse:\n    print('you are all my wife'.title())\n#elseæ˜¯å¯ä»¥çœç•¥ä¸å†™çš„ï¼Œå¦‚æœçœç•¥ï¼Œç¨‹åºä¼šåœ¨æ‰€æœ‰æ¡ä»¶éƒ½ä¸ç¬¦åˆæ—¶ä¸è¿›è¡Œä»»ä½•æ“ä½œ\n#if-elif-elseç»“æ„ä¸€æ—¦é‡åˆ°ä¸ºçœŸçš„æ¡ä»¶æ—¶å°†ä¼šæ‰§è¡Œå¯¹åº”çš„ä»£ç å—ï¼Œä¹‹åè·³è¿‡æ•´ä¸ªç»“æ„ï¼Œå³ä½¿ä¹‹åè¿˜æœ‰ä¸ºçœŸçš„æ¡ä»¶\n#å¦‚æœä½ ä¸æƒ³è®©å®ƒè¿™æ ·ï¼Œé‚£ä¸å¦¨å¤šå†™å‡ ä¸ªif\n```\n\n## å­—å…¸\n\n```py\n#åˆ›å»ºå­—å…¸ï¼Œä½¿ç”¨èŠ±æ‹¬å·{}\nhuman_1 = {'color':'yellow','height':175}# ç”¨ : å…³è”ä¸¤ä¸ªå€¼ï¼Œå³é”®å€¼å¯¹\nprint(human_1['color'])\nprint(human_1['height'])#é€šè¿‡ é”® æŸ¥æ‰¾ å€¼ ï¼Œå°±æ˜¯â€œå­—å…¸â€çš„å«ä¹‰\n\n#å‘å­—å…¸ä¸­æ·»åŠ é”®å€¼å¯¹\nhuman_1['weight'] = 65 #ç›´æ¥ å­—å…¸[æ–°é”®]=å€¼ï¼Œå³å¯æŠŠæ–°çš„é”®å€¼å¯¹æ·»åŠ åˆ°å­—å…¸æœ«å°¾\nprint(human_1)\n#ä¿®æ”¹å­—å…¸ä¸­çš„å€¼ä¹Ÿæ˜¯ç±»ä¼¼çš„\nhuman_1['height'] = 180\n\n#å­—å…¸å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„é”®å€¼å¯¹ï¼ŒåŒ…æ‹¬ç©ºå­—å…¸\nhuman_2 = {}\n\n#åˆ é™¤é”®å€¼å¯¹\n#ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œå¯ä½¿ç”¨del\ndel human_1['color']\nprint(human_1)\n\n#å­—å…¸çš„æ ¼å¼å¯ä»¥æ˜¯å¤šè¡Œï¼Œè¿™ä¼šè®©ä»£ç æ›´åŠ ç¾è§‚ï¼Œå°¤å…¶æ˜¯å­—å…¸å†…å®¹å¾ˆå¤šçš„æ—¶å€™\nhuman_2 = {\n    'height':177,\n    'weight':68,\n    'age':18,\n    'gender':'male',\n}\n\n#ä½¿ç”¨get()è®¿é—®å­—å…¸ï¼Œé¿å…å¼•å‘é”™è¯¯\n#å½“è¦è®¿é—®çš„é”®å€¼å¯¹åœ¨å­—å…¸ä¸­ä¸å­˜åœ¨æ—¶ï¼Œä½¿ç”¨æ–¹æ‹¬å·è®¿é—®ä¾¿ä¼šå¼•å‘é”™è¯¯ã€‚\n#å¯ä»¥ä½¿ç”¨get()ï¼Œä½¿ä¹‹è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œé¿å…é”™è¯¯\nprint(human_2.get('color','ä¸å­˜åœ¨è¯¥å€¼'))\n#å½“coloråœ¨å­—å…¸ä¸­ä¸å­˜åœ¨æ—¶ï¼Œå°†ä¼šè¾“å‡ºâ€œä¸å­˜åœ¨è¯¥å€¼â€ï¼Œå¦‚æœä¸ç»™å‡ºget()çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°†ä¼šè¿”å›None\n#éå†å­—å…¸\n#éå†é”®å€¼å¯¹\nfor key,value in human_2.items(): #item()æ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªé”®å€¼å¯¹åˆ—è¡¨\n    print(key)\n    print(value)#å¯ä»¥çœ‹åˆ°ï¼Œå­—å…¸ä¸­çš„æ¯ä¸ªé”®å’Œå€¼åˆ†åˆ« ä¾æ¬¡èµ‹ç»™äº†keyå’Œvalueï¼Œå½“ç„¶è¿™ä¸¤ä¸ªå˜é‡æ˜¯å¯ä»¥éšæ„å‘½åçš„\n\n#éå†æ‰€æœ‰é”®ï¼Œä½¿ç”¨keys()æ–¹æ³•\nfor key in human_2.keys():\n    print(key)\n#å®é™…ä¸Šï¼Œé»˜è®¤éå†æ—¶ä¾¿æ˜¯åªéå†æ‰€æœ‰é”®ï¼Œä½†æœ€å¥½åŠ ä¸Škeysæ–¹æ³•ï¼Œä¾¿äºé˜…è¯»\n#keys()æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰é”®çš„åˆ—è¡¨ï¼Œæ­£å¦‚é¢˜item()æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰é”®å€¼å¯¹çš„åˆ—è¡¨\n\n#éå†æ‰€æœ‰å€¼ï¼Œä½¿ç”¨values()æ–¹æ³•\nfor value in human_2.values():\n    print(value)\n\n#ä½¿ç”¨ç‰¹å®šé¡ºåºéå†åˆ—è¡¨\n#æ¯”å¦‚å¯ä»¥ä½¿ç”¨sorted()æ–¹æ³•ï¼ŒæŒ‰ç…§å­—æ¯é¡ºåºéå†\nfor key in sorted(human_2.keys()):\n    print(key)\n\n\n#å½“å­—å…¸ä¸­çš„å€¼å‡ºç°é‡å¤æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆå‰”é™¤é‡å¤é¡¹\nhumangender = {\n    'krau':'me',\n    'ah':'he',\n    'xiaolv':'she',\n    'hanmiao':'he',\n}\n#å¯ä»¥çœ‹åˆ°è¿™ä¸ªå­—å…¸ä¸­ä¸¤ä¸ªå€¼éƒ½æ˜¯heï¼Œå¯ä»¥ä½¿ç”¨set()æ–¹æ³•åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œé›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„\nfor gender in set(humangender.values()):\n    print(gender)\n\n#é›†åˆï¼Œä¹Ÿä½¿ç”¨èŠ±æ‹¬å·åˆ›å»ºï¼Œä½†å­˜å‚¨çš„ä¸æ˜¯é”®å€¼å¯¹\nlangs = {'c','py','go'}\nprint(langs)\n\n\n#åµŒå¥—\n#åœ¨åˆ—è¡¨ä¸­åµŒå¥—å­—å…¸\nhumans = [human_1,human_2]\nprint(humans)\n#åŒæ ·çš„ï¼Œå¯ä»¥åœ¨å­—å…¸ä¸­åµŒå¥—åˆ—è¡¨ï¼Œåœ¨å­—å…¸ä¸­åµŒå¥—å­—å…¸......\n```\n\n## ç”¨æˆ·è¾“å…¥ä¸whileå¾ªç¯\n\n```py\n#ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨inpu()å‡½æ•°\n\nname = input('è¯·è¾“å…¥ä½ çš„åå­—ï¼š ')\nprint(f'hello {name}')\n\n#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°\nnum = int(input('è¯·è¾“å…¥ä¸€ä¸ªæ•°ï¼šã€€'))#int()ç”¨äºå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•´æ•°\nif num % 2 == 0: #%æ˜¯æ±‚æ¨¡è¿ç®—ï¼Œå³è¿”å›ä¸¤ä¸ªæ•°ç›¸é™¤çš„ä½™æ•°\n    print(f'{num}æ˜¯å¶æ•°')\nelse:\n    print(f'{num}æ˜¯å¥‡æ•°')\n\n#whileå¾ªç¯\n#ç¤ºä¾‹ï¼Œä½¿ç”¨whileå¾ªç¯è®©ç”¨æˆ·æ§åˆ¶ç¨‹åºä½•æ—¶ç»“æŸ\nprint('æˆ‘æ˜¯å¤è¯»æœºï¼Œè¾“å…¥quitä»¥é€€å‡ºç¨‹åº')\nmsg = ''\nwhile msg != 'quit':\n    msg = input('è¯·è¾“å…¥ï¼š')\n    if msg != 'quit':\n        print(msg)\n    else:\n        pass\n\n#ä½¿ç”¨æ ‡å¿—ï¼Œæ¸…æ™°åœ°æ§åˆ¶ç¨‹åºè¿è¡Œ\nprint('æˆ‘æ˜¯å¤è¯»æœºäºŒå·')\nmsg = ''\nstatus0 = True #è¿™é‡Œçš„status0æ˜¯ä¸ºäº†æ–¹ä¾¿æ§åˆ¶å¾ªç¯è¿è¡Œçš„ï¼Œä¾¿è¢«ç§°ä¸ºæ ‡å¿—\nwhile status0:\n    msg = input('è¯·è¾“å…¥ï¼š ')\n    if msg == 'quit':\n        status0 = False\n    else:\n        print(msg)\n\n#ä½¿ç”¨breaké€€å‡ºå¾ªç¯\nprint('æˆ‘æ˜¯å¤è¯»æœºä¸‰å·')\nmsg = ''\nwhile True:\n    msg = input('è¯·æ‚¨è¾“å…¥ï¼š ')\n    if msg == 'quit':\n        break\n    else:\n        print(msg)\n\n#ä½¿ç”¨continueä»å¤´å¼€å§‹å¾ªç¯\n#è¾“å‡ºæ‰€æœ‰å¶æ•°\nnum0 = 0\nwhile num0 < 10:\n    num0 += 1\n    if num0 % 2 != 0:\n        continue #ä¸breakä¸åŒçš„æ˜¯ï¼Œå®ƒä¼šä½¿å¾ªç¯è¿”å›ç¬¬ä¸€è¡Œé‡æ–°æ‰§è¡Œï¼ˆä»num0+=1ï¼‰\n    print(num0)\n```\n\n## å‡½æ•°åŸºç¡€\n\n```py\n#å®šä¹‰å‡½æ•°ï¼Œä½¿ç”¨defï¼Œæœ€ç®€å•çš„ä¸€ä¸ªä¾‹å­å¦‚ä¸‹\ndef hello():\n    #è¾“å‡ºé—®å€™è¯­\n    print('Hello!')\n\nhello()\n\n#å‘å‡½æ•°ä¼ é€’å‚æ•°\ndef hello(username):\n    print(f'Hello,{username.title()}!')\n#åœ¨è¿™é‡Œï¼Œusernameè¢«ç§°ä¸ºå½¢å‚ï¼Œè€Œä¸‹é¢ä¼ å…¥çš„â€™krauâ€™å°±ç§°ä¸ºå®å‚\nhello('krau')\n\n\n#ä¼ é€’å®å‚\n#ä½ç½®å®å‚ï¼ŒæŒ‰å®å‚çš„é¡ºåºä¼ é€’ç»™å½¢å‚\ndef human_info(name,height,weight,gender):\n    #æ˜¾ç¤ºä¸€ä¸ªäººçš„ä¿¡æ¯\n    print(f'''\nMy name is {name.title()}\nMy height is {height},and weight is {weight}\nIm a {gender}''')\n\nhuman_info('krau','178','65','male')\n#å¯ä»¥çœ‹åˆ°å®å‚æŒ‰ç…§é¡ºåºä¾æ¬¡ä¼ é€’ç»™äº†å½¢å‚\n\n#å…³é”®å­—å®å‚ï¼ŒæŒ‰ç…§åç§°ä¼ é€’å®å‚\nhuman_info(height='178',name='krau',gender='male',weight='65')\n\n\n#ç»™å‚æ•°ç¡®å®šé»˜è®¤å€¼\ndef pet_info(pet_name,pet_animal='cat'):\n    #æ˜¾ç¤ºå® ç‰©ä¿¡æ¯\n    print(f'{pet_name.title()} is my pet , it is a {pet_animal}')\n\n#è‹¥ä¸ç»™å‡ºpet_animalï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼cat\npet_info('ah')\n#ä¹Ÿå¯ä»¥ç»™é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå³''ï¼Œè¿™æ ·åšçš„è¯ï¼Œè¿™ä¸ªå‚æ•°å°†å˜æˆå¯é€‰çš„\n\n\n#è¿”å›å€¼ï¼Œå‡½æ•°å¤„ç†æ•°æ®å¹¶è¿”å›çš„å€¼\n#è®©å‡½æ•°è¿”å›å€¼ï¼Œä½¿ç”¨return\ndef name_format(first_name,last_name):\n    #è¿”å›æ ¼å¼åŒ–å¥½çš„å§“å\n    full_name = f'{first_name} {last_name}'\n    return full_name.title()\n\nprint(name_format('acher','krau'))\n#è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ‰€ä»¥æœªå…æœ‰äº›è„±è£¤å­æ”¾å±\n\n#å‡½æ•°å¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„å€¼ï¼Œæ¯”å¦‚è¿”å›å­—å…¸\ndef build_human(name,age):\n    person = {'name':name,'age':age}\n    return person\nme = build_human('krau',18)\nprint(me)\n\n\n#ä¼ é€’åˆ—è¡¨\ndef yuzu_hello(names):\n    for name in names:\n        print(f'Hello,{name.title()}!')\n\nmembers = ['krau','ah','hanmiao']\nyuzu_hello(members)\n\n#å½“éœ€è¦å¤„ç†ä¸€ä¸ªåˆ—è¡¨ï¼Œä½†ä¸æƒ³è®©å‡½æ•°å¯¹åˆ—è¡¨äº§ç”Ÿå½±å“æ—¶ï¼Œå¯ä»¥ä¼ å…¥åˆ—è¡¨çš„å‰¯æœ¬\nyuzu_hello(members[:])\n\n\n#ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚ï¼Œä¸éœ€é¦–å…ˆæŒ‡å®šå¤šå°‘å½¢å‚\ndef do_math1(*derivatives):\n    #ä»€ä¹ˆéƒ½å¯¼ä¸å‡ºæ¥\n    for derivative in derivatives:\n        print(f'{derivative} å¯¼ä¸å‡ºæ¥')\n\ndo_math1('lnx','2x','ex')\n#å¯ä»¥çœ‹åˆ°ï¼Œ*derivativesåˆ›å»ºäº†ä¸€ä¸ªåä¸ºderivativesçš„å…ƒç»„ï¼Œä¼ å…¥çš„å®å‚éƒ½å­˜å…¥å…¶ä¸­\n\n'''\nå¦‚æœè¦è®©å‡½æ•°æ¥å—ä¸åŒç±»å‹çš„å®å‚ï¼Œå¿…é¡»åœ¨å‡½æ•°å®šä¹‰ä¸­å°†æ¥çº³ä»»æ„ æ•°é‡å®å‚çš„å½¢å‚æ”¾åœ¨æœ€åã€‚\nPythonå…ˆåŒ¹é…ä½ç½®å®å‚å’Œå…³é”®å­—å®å‚ï¼Œ å†å°†ä½™ä¸‹çš„å®å‚éƒ½æ”¶é›†åˆ°æœ€åä¸€ä¸ªå½¢å‚ä¸­ã€‚\n'''\ndef do_math2(diffculity,*integrals):\n    #ä»€ä¹ˆéƒ½ç§¯ä¸å›å»\n    for integral in integrals:\n        print(f'{integral}ç§¯ä¸å›å»ï¼Œå› ä¸ºå®ƒçš„éš¾åº¦æ˜¯{diffculity}')\n\n#Pythonå…ˆåŒ¹é…ä½ç½®å®å‚å’Œå…³é”®å­—å®å‚ï¼Œ å†å°†ä½™ä¸‹çš„å®å‚éƒ½æ”¶é›†åˆ°æœ€åä¸€ä¸ªå½¢å‚ä¸­ã€‚\ndo_math2('easy','fx','gx','hx')\n\n#ä½¿ç”¨ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚\n#æœ‰æ—¶å€™ï¼Œéœ€è¦æ¥å—ä»»æ„æ•°é‡çš„å®å‚ï¼Œä½†é¢„å…ˆä¸çŸ¥é“ä¼ é€’ç»™å‡½æ•°çš„ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ä¿¡æ¯ã€‚\n#å¯ä»¥ä½¿ç”¨å­—å…¸ä¸­çš„é”®å€¼å¯¹è§£å†³è¿™ä¸€é—®é¢˜\ndef build_profile(first,last,**user_info):\n    '''åˆ›å»ºä¸€ä¸ªåŒ…å«ç”¨æˆ·æ‰€æœ‰ä¿¡æ¯çš„å­—å…¸'''\n    user_info['first_name'] = first\n    user_info['last_name'] = last\n    return user_info\n\nkrau_info = build_profile('acher','krau',age=18,gender='male')\nprint(krau_info)\n#å¯ä»¥çœ‹åˆ°**user_infoä½¿pythonåˆ›å»ºäº†ä¸€ä¸ªåä¸ºuser_infoçš„å­—å…¸ï¼Œageå’Œgenderéƒ½å­˜å…¥äº†å…¶ä¸­\n\n'''\næ³¨æ„ ä½ ç»å¸¸ä¼šçœ‹åˆ°å½¢å‚å**kwargs \nå®ƒå¸¸å¸¸ç”¨äºæ”¶é›†ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚ã€‚\n'''\n```\n\n## æ¨¡å—\n\nå°†å‡½æ•°å­˜å‚¨åœ¨ç‹¬ç«‹æ–‡ä»¶ä¸­ï¼Œç§°å…¶ä¸ºæ¨¡å—ã€‚\nè¦åˆ›å»ºä¸€ä¸ªæ¨¡å—ï¼Œé¦–å…ˆåˆ›å»º.pyæ–‡ä»¶ï¼Œåœ¨.pyä¸­ä»…ç¼–å†™å‡½æ•°ï¼Œè¿™ä¾¿æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚\nç„¶ååœ¨åŒçº§ç›®å½•ä¸‹çš„å…¶ä»–ä»£ç ä¸­ï¼Œä¾¿å¯ä»¥ä½¿ç”¨importå¯¼å…¥è¿™ä¸ªæ¨¡å—ã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªgreet.pyæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­ç¼–å†™ä»¥ä¸‹å†…å®¹ã€‚\n\n```py\ndef hello(name):\n    print(f'Hello {name}!')\n\ndef nohello(name):\n    print(f'Not good {name}')\n```\n\nç„¶åï¼Œæˆ‘ä»¬åœ¨åŒçº§ç›®å½•ä¸‹ç¼–å†™å¦ä¸€ä¸ª.pyæ–‡ä»¶\n\n```py\nimport greet\ngreet.hello('krau')\n```\n\nPythonè¯»å–è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œä»£ç è¡Œimport greetè®©Pythonæ‰“å¼€æ–‡ä»¶ greet.pyï¼Œå¹¶å°†å…¶ä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½å¤åˆ¶åˆ°è¿™ä¸ªç¨‹åºä¸­ã€‚\nä½ çœ‹ä¸åˆ°å¤åˆ¶çš„ä»£ç ï¼Œå› ä¸ºåœ¨è¿™ä¸ªç¨‹åºå³å°†è¿è¡Œæ—¶ï¼ŒPythonåœ¨å¹•åå¤åˆ¶äº†è¿™äº›ä»£ç ã€‚\nä½ åªéœ€çŸ¥é“ï¼Œåœ¨ç°åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä½¿ç”¨greet.pyä¸­å®šä¹‰çš„æ‰€æœ‰å‡½æ•°ã€‚\nä½¿ç”¨æ¨¡å—ä¸­çš„å‡½æ•°æ—¶ï¼Œè¦æŒ‡å®šæ¨¡å—ågreetå’Œå‡½æ•°åhelloï¼Œå¹¶ä½¿ç”¨ç‚¹åˆ†å‰²\nå³ æ¨¡å—å.å‡½æ•°å()\n\nä¸Šé¢çš„æ–¹æ³•æ˜¯å¯¼å…¥äº†æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°ï¼Œå¦‚æœä¸éœ€è¦å…¨éƒ¨å¯¼å…¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥\nfrom æ¨¡å—å import å‡½æ•°å\n\nå¦‚æœè¦å¯¼å…¥å‡½æ•°çš„åç§°å¯èƒ½ä¸ç¨‹åºä¸­ç°æœ‰çš„åç§°å†²çªï¼Œæˆ–è€…å‡½æ•°çš„åç§°å¤ªé•¿ï¼Œå¯æŒ‡å®šç®€çŸ­è€Œç‹¬ä¸€æ— äºŒçš„åˆ«å\nç±»ä¼¼äºå¤–å·ã€‚è¦ç»™å‡½æ•°å–è¿™ç§ç‰¹æ®Šå¤–å·ï¼Œéœ€è¦åœ¨å¯¼å…¥å®ƒæ—¶æŒ‡å®šã€‚\nimport æ¨¡å—å as æ¨¡å—å¤–å·\nfrom æ¨¡å—å import å‡½æ•°å as å‡½æ•°å¤–å·\n\n## å‡½æ•°ç¼–å†™æŒ‡å—ï¼ˆè§„èŒƒï¼‰\n\nç¼–å†™å‡½æ•°éœ€è¦ç‰¢è®°å‡ ä¸ªç»†èŠ‚ï¼š\n\n1. ç»™å‡½æ•°æŒ‡å®š**æè¿°æ€§åç§°**ï¼Œåªåœ¨å…¶ä¸­ä½¿ç”¨å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ã€‚â€”â€”æ¨¡å—å‘½åä¹Ÿéœ€è¦éµå¾ªæ­¤çº¦å®šã€‚\n\n2. æ¯ä¸ªå‡½æ•°éƒ½åº”åŒ…å«ç®€è¦åœ°é˜è¿°å…¶åŠŸèƒ½çš„**æ³¨é‡Š**ï¼Œè¯¥æ³¨é‡Šåº”ç´§è·Ÿåœ¨å‡½æ•°å®šä¹‰åé¢ï¼Œå¹¶é‡‡ç”¨æ–‡æ¡£å­—ç¬¦ä¸²æ ¼å¼ã€‚\n\n3. ç»™å½¢å‚æŒ‡å®šé»˜è®¤å€¼æ—¶ï¼Œç­‰å·ä¸¤è¾¹**ä¸è¦**æœ‰ç©ºæ ¼ã€‚â€”â€”å…³é”®å­—å®å‚ä¹Ÿåº”éµå¾ªæ­¤çº¦å®šã€‚\n\n4. PEP8å»ºè®®ä»£ç è¡Œçš„é•¿åº¦ä¸è¦è¶…è¿‡79å­—ç¬¦ï¼Œè¿™æ ·ç¼–è¾‘å™¨çª—å£é€‚ä¸­å°±èƒ½çœ‹åˆ°æ•´è¡Œä»£ç ã€‚å¦‚æœå½¢å‚å®šä¹‰çš„é•¿åº¦è¶…è¿‡äº†79ä¸ªå­—ç¬¦ï¼Œå¯åœ¨å‡½æ•°å®šä¹‰ä¸­è¾“å…¥å·¦æ‹¬å·åæŒ‰å›è½¦é”®ï¼Œå¹¶åœ¨ä¸‹ä¸€è¡ŒæŒ‰ä¸¤æ¬¡Tabé”®ï¼Œä»è€Œå°†å½¢å‚åˆ—è¡¨å’Œåªç¼©è¿›ä¸€å±‚çš„å‡½æ•°ä½“åŒºåˆ†å¼€ã€‚\n\n5. å¦‚æœç¨‹åºæˆ–æ¨¡å—åŒ…å«å¤šä¸ªå‡½æ•°ï¼Œå¯ä½¿ç”¨ä¸¤ä¸ªç©ºè¡Œå°†ç›¸é‚»çš„å‡½æ•°åˆ†å¼€ï¼Œè¿™æ ·ä¾¿äºé˜…è¯»å’ŒæŸ¥çœ‹å‡½æ•°çš„å¼€å§‹å’Œç»“æŸçš„åœ°æ–¹ã€‚\n\n6. æ‰€æœ‰çš„importè¯­å¥éƒ½åº”æ”¾åœ¨æ–‡ä»¶**å¼€å¤´**ï¼Œå”¯ä¸€ä¾‹å¤–æƒ…å½¢æ˜¯ï¼Œåœ¨æ–‡ä»¶å¼€å¤´ä½¿ç”¨äº†æ³¨é‡Šæ¥æè¿°æ•´ä¸ªç¨‹åºã€‚\n"},{"title":"ä½¿ç”¨Pythonå†™ä¸€ä¸ªTelegram botå§|Telegram botæ•™ç¨‹","tags":["Python","telegram","bot","ä»£ç "],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\n::: warning\næœ¬æ–‡å†…å®¹å·²è¿‡æ—¶, æ•¬è¯·æœŸå¾…åç»­æ›´æ–°\n:::\n\n## å‰è¨€\n\n~~ä¸ºäº†æ¿€å‘ç¾¤å‹ä»¬æ°´ç¾¤çš„ç§¯ææ€§ï¼Œ~~ ä¸ºäº†å­¦ä¹ å’Œåº”ç”¨ python çŸ¥è¯†ï¼Œæˆ‘æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ª telegram çš„ botï¼Œæ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« ä»¥è®°å½•å’Œåˆ†äº«\n\nåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†ä½¿ç”¨ [Python-Telegram-Bot](https://docs.python-telegram-bot.org) æœ€æ–°ç‰ˆåº“ï¼ŒåŸºäº Python çš„æ–°ç‰ˆå¼‚æ­¥ç‰¹æ€§ä¸ Telegram å‹å¥½å¼€æ”¾çš„ APIï¼Œå¼€å‘ä¸€ä¸ªå…¼é¡¾å®ç”¨æ€§å’Œè¶£å‘³çš„ bot ï¼Œå¹¶ä½¿ç”¨ Docker åœ¨ä»»ä½•åœ°æ–¹éƒ¨ç½² bot\n\nDemo: [kmua-bot](https://github.com/krau/kmua-bot)\n\næœ¬æ–‡ä¸æ˜¯ä»é›¶å¼€å§‹çš„æ•™ç¨‹ï¼Œé˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…·æœ‰ä¸€ç‚¹ç‚¹(çœŸçš„å¾ˆå°‘ä¸€ç‚¹)çš„ python æˆ–å…¶ä»–è¯­è¨€ç¼–ç¨‹çš„åŸºç¡€ã€‚\n\n","link":"/posts/tg-bot-dev-note-kmua","content":"\n::: warning\næœ¬æ–‡å†…å®¹å·²è¿‡æ—¶, æ•¬è¯·æœŸå¾…åç»­æ›´æ–°\n:::\n\n## å‰è¨€\n\n~~ä¸ºäº†æ¿€å‘ç¾¤å‹ä»¬æ°´ç¾¤çš„ç§¯ææ€§ï¼Œ~~ ä¸ºäº†å­¦ä¹ å’Œåº”ç”¨ python çŸ¥è¯†ï¼Œæˆ‘æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ª telegram çš„ botï¼Œæ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« ä»¥è®°å½•å’Œåˆ†äº«\n\nåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†ä½¿ç”¨ [Python-Telegram-Bot](https://docs.python-telegram-bot.org) æœ€æ–°ç‰ˆåº“ï¼ŒåŸºäº Python çš„æ–°ç‰ˆå¼‚æ­¥ç‰¹æ€§ä¸ Telegram å‹å¥½å¼€æ”¾çš„ APIï¼Œå¼€å‘ä¸€ä¸ªå…¼é¡¾å®ç”¨æ€§å’Œè¶£å‘³çš„ bot ï¼Œå¹¶ä½¿ç”¨ Docker åœ¨ä»»ä½•åœ°æ–¹éƒ¨ç½² bot\n\nDemo: [kmua-bot](https://github.com/krau/kmua-bot)\n\næœ¬æ–‡ä¸æ˜¯ä»é›¶å¼€å§‹çš„æ•™ç¨‹ï¼Œé˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…·æœ‰ä¸€ç‚¹ç‚¹(çœŸçš„å¾ˆå°‘ä¸€ç‚¹)çš„ python æˆ–å…¶ä»–è¯­è¨€ç¼–ç¨‹çš„åŸºç¡€ã€‚\n\n<!-- more -->\n\n## å‡†å¤‡\n\n### ç¯å¢ƒ\n\nä½¿ç”¨ä½ å–œæ¬¢çš„å·¥å…·åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶å®‰è£…ä»¥ä¸‹ Python åº“\n\n```yaml\nPyYAML\npython-telegram-bot\npypinyin\nparsel\nplaywright\n```\n\n- PyYAML: [yaml](https://zh.wikipedia.org/wiki/YAML) é…ç½®æ–‡ä»¶ç›¸å…³åŒ…\n- python-telegram-bot: ä¸€ä¸ªå¯¹ Telegram bot api å°è£…çš„ python åº“ï¼Œæ³¨æ„ç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…çš„æ˜¯ 13.14 ï¼Œè¦æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬å®‰è£…æœ€æ–°å¼€å‘ç‰ˆæœ¬ï¼ˆæˆªæ­¢å†™ç¨¿æ˜¯ 20.0a6 ï¼‰ï¼Œä»¥æ”¯æŒå¼‚æ­¥ç‰¹æ€§ã€‚\n\n> æ›´æ–°: 2023-02-21: python-telegram-bot å·²ç»é»˜è®¤å®‰è£…æœ€æ–°ç‰ˆæœ¬äº†ï¼Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬äº†\n\n- pypinyin: æ±‰è¯­æ‹¼éŸ³ç›¸å…³\n- parsel: æ•°æ®è§£æ\n~~- pyppeteer: æµè§ˆå™¨çˆ¬è™«åŒ…ï¼Œ[puppeteer](https://github.com/puppeteer/puppeteer) çš„ python ç§»æ¤ï¼ˆé—®æˆ‘ä¸ºå•¥ä¸ç”¨æ›´å¥½çš„ [playwright-python](https://github.com/microsoft/playwright-python) ï¼Ÿè¢«ç®€ä¸­äº’è”ç½‘ä¸Šçš„æ–‡ç« å‘äº†ï¼Œä»¥åä¼šè¿ç§»è¿‡å»ã€‚ï¼‰~~\n- playwright: æµè§ˆå™¨çˆ¬è™«\n\n> æ›´æ–°: 2023-03-06: ç”¨ playwright é‡æ„\n\n### bot ç”³è¯·\n\nç§èŠ [@BotFather](https://t.me/BotFather)ã€‚å‘é€ `/newbot`ï¼Œæ ¹æ®æç¤ºä¸€æ­¥æ­¥åˆ›å»ºï¼Œè®°å¾—å¦¥å–„ä¿å­˜æœ€åçš„ **API Token**ã€‚\n\n### è·å–ä½ çš„ id\n\næ¯ä¸ª tg ç”¨æˆ·éƒ½æœ‰ä¸€ä¸²æ ‡è¯†æ•°å­—ï¼Œå³ä¸º **user_id**ï¼Œå¯ä»¥ç§èŠ [@userinfobot](https://t.me/userinfobot) æ¥è·å–å®ƒ\n\n---\n\n## åŸºç¡€\n\n### å¼€å§‹:å“åº”/start\n\nåœ¨é¡¹ç›®æ–‡ä»¶å¤¹å†…ï¼Œæ–°å»º `bot.py`ï¼Œå¼€å§‹ç¼–å†™ bot æœ€åŸºç¡€çš„åŠŸèƒ½ï¼Œè®©å…¶å“åº” /start å‘½ä»¤\n\né¦–å…ˆï¼Œå¯¼å…¥åŒ…ï¼ˆå…ˆä¸è¦ç®¡å®ƒä»¬éƒ½æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿ï¼‰\n\n```python\n# Update:ä»Telegramè·å–æ›´æ–°\nfrom telegram import Update\n#ApplicationBuilder:ç®€å•ç«‹å³ä¸ºæ„å»º bot å¯¹è±¡\n#ContextTypes:ä¸Šä¸‹æ–‡ç±»å‹\n#CommandHandler:å‘½ä»¤å¤„ç†å™¨\nfrom telegram.ext import ApplicationBuilder, ContextTypes, CommandHandler\n```\n\nç„¶åï¼Œå†™ä¸€ä¸ªå¼‚æ­¥å‡½æ•° start()ï¼Œå½“æ”¶åˆ° /start å‘½ä»¤æ—¶ï¼Œè¦è°ƒç”¨å®ƒã€‚\n\n```python\nasync def start(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    '''å“åº”startå‘½ä»¤'''\n    text = 'ä½ å¥½~æˆ‘æ˜¯ä¸€ä¸ªbot'\n    await context.bot.send_message(chat_id=update.effective_chat.id,text=text)\n```\n\nè¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•° `update` å’Œ `context`ï¼Œå½¢å‚å†’å·åæ˜¯ç±»å‹æ³¨è§£ã€‚è¿™ä¸¤ä¸ªå‚æ•° `CommandHandler` ä¼šä¼ é€’ç»™å®ƒã€‚\n\n`context.bot.send_message()` æ–¹æ³•å³ä¸ºè®© bot å‘é€æ¶ˆæ¯ï¼Œå®ƒèƒ½æ¥å—çš„å‚æ•°å…¶å®å¾ˆå¤šï¼Œä½†æ˜¯å¾€å¾€åªéœ€è¦ `chat_id` ï¼Œå’Œ `text` å°±å¤Ÿäº†ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤º è¦å‘é€æ¶ˆæ¯ç»™çš„ç”¨æˆ·æˆ–ç¾¤ç»„ id ï¼Œè¦å‘é€çš„æ–‡æœ¬ã€‚\n\nè€Œ `update.effective_chat.id` å³ä¸ºå½“å‰æœ‰æ•ˆå¯¹è¯çš„ id ï¼Œåœ¨å“ªé‡Œå‘æ¶ˆæ¯ç»™ bot ï¼Œå®ƒå°±æŒ‡å‘å“ªé‡Œçš„ idã€‚\n\n> ä½ æ³¨æ„åˆ° è¿™ä¸ªå‡½æ•°ä½¿ç”¨äº† async/await è¯­æ³•ï¼Œè¿™æ˜¯ python æ–°ç‰ˆçš„è¯­æ³•ç³–ï¼Œè¯¦è§ å®˜æ–¹æ–‡æ¡£ [asyncio](https://docs.python.org/3/library/asyncio.html)\n\nç°åœ¨ï¼Œæ·»åŠ ä¸€ä¸ªå¤„ç†å™¨(handler)\n\n```python\nstart_handler = CommandHandler('start', start)\n```\n\n`CommandHandler` ç±»å¯ä»¥å®ç°å½“æ”¶åˆ°æŸä¸ªå‘½ä»¤æ—¶ï¼Œè°ƒç”¨æŸä¸ªå‡½æ•°ï¼ˆå‘½ä»¤å’Œå‡½æ•°åå¯ä»¥ä¸ä¸€æ ·ï¼‰ï¼Œæˆ‘ä»¬å°†å…¶å®ä¾‹åŒ–ä¸ºäº† `start_handler` ï¼Œå¹¶ä¸”å°†å‘½ä»¤åå­— 'start' å’Œå¯¹åº”è¦å›è°ƒçš„å‡½æ•°å start ä¼ é€’ç»™å®ƒ\n\nç„¶åï¼Œå¯åŠ¨bot\n\n```python\n# æ„å»º bot\nTOEKN='ä½  bot çš„ api token'\napplication = ApplicationBuilder().token(TOKEN).build()\n# æ³¨å†Œ handler\napplication.add_handler(start_handler)\n# run!\napplication.run_polling()\n```\n\næœ€åï¼Œå°±å¯ä»¥ä½¿ç”¨ `python bot.py` å¯åŠ¨ä½ çš„ bot ï¼Œå¯¹ bot å‘é€ /start ï¼Œå®ƒåº”è¯¥å°±ä¼šå›å¤ä½  â€ä½ å¥½~æˆ‘æ˜¯ä¸€ä¸ªbotâ€ã€‚\nä½¿ç”¨ Ctrl + C ç»“æŸç¨‹åºè¿è¡Œã€‚\n\nåˆ°è¿™é‡Œï¼Œå…¶å®ä½ å·²ç»äº†è§£åˆ°äº†æœ€åŸºæœ¬çš„ telegram bot ç¼–å†™è§„åˆ™ï¼Œå³ï¼š\n\n1. ç¼–å†™å›è°ƒå‡½æ•°ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­å³ä¸º `start` è¿™ä¸ªå‡½æ•°ã€‚\n2. å†³å®šè°ƒç”¨å›è°ƒå‡½æ•°çš„è§„åˆ™ã€‚ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå³ä¸ºæ”¶åˆ° `/start` å‘½ä»¤æ—¶ï¼Œè°ƒç”¨ `start` å‡½æ•°\n3. å®ä¾‹åŒ– `handler` ,æ³¨å†Œç»™ `application` ç¤ºä¾‹ã€‚ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå³ä¸º `application.add_handler(start_handler)`\n\nå¦‚æœä½ çš„ç³»ç»Ÿæ— æ³•è®¿é—® Telegram çš„æœåŠ¡å™¨ï¼Œå¯ä»¥è®¾ç½®ä»£ç†\n\nå…¨å±€ä»£ç†,æ•´ä¸ªç¨‹åºéƒ½èµ°ä»£ç†:\n\n```python\nos.environ['http_proxy'] = 'ä»£ç†åœ°å€'\nos.environ['https_proxy'] = 'ä»£ç†åœ°å€'\n```\n\nè‹¥æƒ³ä»…ä¸º telegram bot api è®¾ç½®ä»£ç†,åˆ™éœ€è¦æ”¹åŠ¨ä¸€ä¸‹æ„å»º bot éƒ¨åˆ†çš„ä»£ç :\n\nhttp(s)ä»£ç†:\n\n```python\nproxy_url = 'http://USERNAME:PASSWORD@PROXY_HOST:PROXY_PORT'  # can also be a https proxy\napplication = ApplicationBuilder().token(\"TOKEN\").proxy_url(proxy_url).get_updates_proxy_url(proxy_url).build()\n```\n\nsocks5ä»£ç†,éœ€è¦å®‰è£… `python-telegram-bot[socks]`,ç„¶å:\n\n```python\nproxy_url = \"socks5://user:pass@host:port\"\napplication = ApplicationBuilder().token(\"TOKEN\").proxy_url(proxy_url).get_updates_proxy_url(proxy_url).build()\n```\n\næ¥ä¸‹æ¥ï¼Œå†™ä¸€äº›æ›´æœ‰è¶£çš„åŠŸèƒ½ï¼Œä½¿ç”¨æ›´å¤æ‚ä¸€äº›çš„è§„åˆ™æ¥è°ƒç”¨è¿™äº›åŠŸèƒ½ã€‚\n\n### æˆäºˆç¾¤æˆå‘˜å¤´è¡”\n\nè®©ç¾¤æˆå‘˜å¯ä»¥é€šè¿‡ bot è‡ªåŠ©è·å¾—ä¸€ä¸ªå¤´è¡”å§ï¼Œæ¯”å¦‚ï¼Œç¾¤å‹å¯ä»¥åœ¨ç¾¤é‡Œä½¿ç”¨ `/p@botname å¥½äºº` æ¥ç»™è‡ªå·±åŠ ä¸Š â€œå¥½äººâ€ çš„å¤´è¡”ã€‚\n\nå½“ç„¶ï¼Œå‰ææ˜¯ bot è‡ªå·±è¦æ˜¯ç®¡ç†å‘˜ï¼Œå¹¶ä¸”æƒé™å…¨å¼€ã€‚\n\nè¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥è¿™æ ·å†™:\n\n```python\nasync def set_right(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    '''è®¾ç½®æˆå‘˜æƒé™å’Œå¤´è¡”'''\n    chat_id = update.effective_chat.id\n    user_id = update.effective_user.id\n    bot_username_len = len(update._bot.name)\n    custom_title = update.effective_message.text[3+bot_username_len:]\n    if not custom_title:\n        custom_title = update.effective_user.username\n    try:\n        await context.bot.promote_chat_member(chat_id=chat_id, user_id=user_id, can_manage_chat=True)\n        await context.bot.set_chat_administrator_custom_title(chat_id=chat_id, user_id=user_id, custom_title=custom_title)\n        text = f'å¥½,ä½ ç°åœ¨æ˜¯{custom_title}å•¦'\n        await context.bot.send_message(chat_id=chat_id, reply_to_message_id=update.effective_message.id, text=text)\n    except:\n        await context.bot.send_message(chat_id=chat_id, text='ä¸è¡Œ!!')\n```\n\nç„¶åï¼Œæ·»åŠ è¿™ä¸ªåŠŸèƒ½çš„handler:\n\n```python\nset_right_handler = CommandHandler('p', set_right)\napplication.add_handler(set_right_handler)\n```\n\næ³¨æ„handlerçš„æ·»åŠ åº”è¯¥åœ¨ `application.run_polling()` ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯è¯´ `application.run_polling()` æ‰æ˜¯çœŸæ­£å¼€å§‹è¿è¡Œ bot\n\nç®€å•è§£é‡Šä¸€ä¸‹ `set_right` è¿™ä¸ªå‡½æ•°:\n\né¦–å…ˆï¼Œè®¾ç½®äº†è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶çš„ `chat_id` å’Œ `user_id` ä¸ºå½“å‰èŠå¤©å’Œå½“å‰ç”¨æˆ·\n\nç„¶åç”¨ `len(update._bot.name)` è·å– bot è‡ªå·±ç”¨æˆ·åçš„é•¿åº¦ï¼Œç”¨äºä¸‹é¢çš„åˆ‡ç‰‡é€‰å–ç”¨æˆ·æƒ³è¦çš„å¤´è¡”\n\nè€Œ `custom_title = update.effective_message.text[3+bot_username_len:]` å³è·å–ç”¨æˆ·æƒ³è¦çš„å¤´è¡”ï¼Œå­˜å‚¨åœ¨ `custom_title` ä¸­ï¼Œä¸‹é¢çš„ if not çš„ä½œç”¨æ˜¯ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰å‘é€ä»–æƒ³è¦çš„å¤´è¡”ï¼Œé‚£ä¹ˆé»˜è®¤å¤´è¡”ä¸ºä»–çš„ç”¨æˆ·å\n\nç”±äºåªæœ‰ç®¡ç†å‘˜æ‰æœ‰å¤´è¡”ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ promote_chat_member() æ–¹æ³•è®¾ç½®æˆå‘˜æƒé™ï¼Œå°†å…¶çš„ can_manage_chat æƒé™è®¾ç½®ä¸º True ã€‚æ³¨æ„ï¼Œå³ä½¿è¿™æ ·è®¾ç½®äº†ï¼Œç”¨æˆ·å®åˆ™æ˜¯æœ‰åæ— æƒçš„çŠ¶æ€ï¼Œåªæœ‰ä¸€ä¸ªç®¡ç†å‘˜çš„åå¤´ï¼Œå®é™…ä¸Šæ²¡æœ‰ä»»ä½•æƒé™ã€‚\n> è¦æƒ³èµ‹äºˆæƒé™ï¼Œä½ å¯ä»¥å‘ promote_chat_member() æ–¹æ³•ä¸­ç»§ç»­æ·»åŠ å‚æ•°ï¼Œå¦‚ can_pin_messages=True å¯ç½®é¡¶æ¶ˆæ¯\n\nç„¶åå°±å¯ä»¥ä½¿ç”¨ set_chat_administrator_custom_title() æ–¹æ³•è®¾ç½®æˆå‘˜å¤´è¡”äº†ï¼Œå¦‚æœæˆåŠŸäº†ï¼Œä¼šç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„è¯­å¥ï¼Œå°†ç»“æœåé¦ˆç»™ç”¨æˆ·ã€‚\n\n### å“åº”æœªçŸ¥å‘½ä»¤\n\nå¦‚æœ bot åªèƒ½å›åº”è®¾ç½®å¥½çš„å‘½ä»¤å°±å¤ªæ— è¶£äº†ï¼Œæ‰€ä»¥å†ç¼–å†™ä¸€ä¸ªå½“æ”¶åˆ°æœªçŸ¥å‘½ä»¤æ—¶çš„æ‰§è¡ŒåŠŸèƒ½\næ¯”å¦‚ï¼Œæƒ³è¦è®© bot å›åº”æœªçŸ¥å‘½ä»¤è¯´ â€œæˆ‘ä¸ä¼šè¿™ä¸ªå“¦~â€ï¼Œå¯ä»¥è¿™æ ·å†™\n\n```python\nasync def unknown(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    '''å“åº”æœªçŸ¥å‘½ä»¤'''\n    logger.debug('è°ƒç”¨:unknown')\n    text = \"æˆ‘ä¸ä¼šè¿™ä¸ªå“¦~\"\n    await context.bot.send_message(chat_id=update.effective_chat.id, text=text)\n```\n\nç„¶åï¼Œæ·»åŠ å®ƒçš„ `handler`ã€‚è¿™æ—¶å€™å¯èƒ½å°±å‡ºç°é—®é¢˜ï¼š\nå‰é¢çš„ä¸¤ä¸ªåŠŸèƒ½éƒ½æ˜¯å›åº”ä¸€ä¸ªç‰¹å®šçš„å‘½ä»¤ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒå›åº”é™¤å·²ç»è®¾å®šçš„å‘½ä»¤å¤–çš„å…¶ä»–æ‰€æœ‰å‘½ä»¤ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ\n\nè¿™å°±éœ€è¦ç”¨åˆ° `filters` ï¼Œå¹¶ä¸”è¦**è®¾ç½®åŠŸèƒ½çš„ä¼˜å…ˆçº§**\nä½ éœ€è¦å…ˆå¯¼å…¥å®ƒ\n\n`from telegram.ext import filters`\n\nç„¶åå¯ä»¥è¿™æ ·å†™:\n\n```python\nunknown_handler = MessageHandler(filters.COMMAND, unknown)\n```\n\n`filters` å³è¿‡æ»¤å™¨ï¼Œè€Œ `filters.COMMAND` å³ä¸ºæ‰€æœ‰å‘½ä»¤ã€‚è€Œè®¾ç½®ä¼˜å…ˆçº§å…¶å®éå¸¸ç®€å•ï¼Œ**æ·»åŠ  `handler` çš„é¡ºåºè¶Šé åï¼Œå¯¹åº”åŠŸèƒ½çš„ä¼˜å…ˆçº§è¶Šä½**\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å…¶ä»–å‘½ä»¤ç±» `handler` ä¹‹åï¼Œæ·»åŠ  `unknown_handler`\n\n```python\napplication.add_handler(start_handler)\napplication.add_handler(set_right_handler)\napplication.add_handler(unkonw_handler)\n\napplication.run_polling()\n```\n\n### ç®€å•çš„å…³é”®è¯å›å¤\n\nbot æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯æ ¹æ®å…³é”®è¯å›å¤ç‰¹å®šå†…å®¹ï¼Œæ¯”å¦‚ï¼Œå½“å¯¹ bot è¯´æ—©å®‰ä¹‹ç±»çš„è¯æ—¶ï¼Œè®© bot å¯¹æ­¤åšå‡ºå›åº”ã€‚ä¸‹é¢æ¥å®ç°è¿™è¿™ä¸€åŠŸèƒ½\nç”±äºå‘½ä»¤å’Œæ™®é€šæ¶ˆæ¯æ˜¯ä¸¤ç§ä¸åŒçš„æ¶ˆæ¯ç±»ï¼Œå¤„ç†å®ƒä»¬çš„æ–¹æ³•æ˜¯ä¸ä¸€æ ·çš„ï¼Œé’ˆå¯¹éå‘½ä»¤æ¶ˆæ¯ï¼Œè¦ä½¿ç”¨ `MessageHandler`:\n`from telegram.ext import MessageHandler`\n\né¦–å…ˆè¿˜æ˜¯è¦ç¼–å†™è¿™ä¸ªåŠŸèƒ½æ‰§è¡Œçš„å‡½æ•°ã€‚\n\n```python\nimport random\nasync def ohayo(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    texts = ['æ—©ä¸Šå¥½å‘€','æˆ‘çš„å°é±¼ä½ é†’äº†ï¼Œè¿˜è®°å¾—æ¸…æ™¨å—','å“¦å“ˆå“Ÿ~']\n    await context.bot.send_message(chat_id=update.effective_chat.id, text=random.choice(text))\n```\n\nç”±äºåªå›å¤ä¸€ä¸ªå›ºå®šçš„æ¶ˆæ¯è¿‡äºå•è°ƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ `random` åº“æ¥ä»ä¸€ä¸ªåˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå›å¤\n\nå®é™…ä¸Šï¼Œè¿™ä¸ªå‡½æ•°ä»ç„¶åªæ˜¯ç®€å•çš„å‘é€æ¶ˆæ¯ï¼Œè€Œä½•æ—¶è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸æ˜¯è¿™ä¸ªå‡½æ•°æœ¬èº«è¦åšçš„äº‹ï¼Œè€Œæ˜¯ç”±æ¥ä¸‹æ¥æˆ‘ä»¬è¦ç¼–å†™çš„ `MessageHandler` ä¸­çš„ `filters` å†³å®šçš„:\n\n```python\nfilter_ohayo = filters.Regex('æ—©å®‰|æ—©ä¸Šå¥½|å“¦å“ˆå“Ÿ|ohayo')\nohayo_handler = MessageHandler(filter_ohayo, ohayo)\n```\n\n`filters.Regex()` å³ä¸ºä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ `'æ—©å®‰|æ—©ä¸Šå¥½|å“¦å“ˆå“Ÿ|ohayo'` è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¾ˆå®¹æ˜“ç†è§£ä½•æ—¶ä¼šè°ƒç”¨ `ohayo` è¿™ä¸ªå‡½æ•°\n\nè®°å¾—æ·»åŠ å®ƒçš„ `handler`\n\n```python\napplication.add_handler(ohayo_handler)\n```\n\n---\n\n## è¿›é˜¶\n\n### å®šåˆ¶æ—¥å¿—ç³»ç»Ÿ\n\nåœ¨ä¸Šé¢å†™çš„ä¸€äº›å°åŠŸèƒ½ä¸­,æˆ‘ä»¬æ²¡æœ‰è®©ç¨‹åºåœ¨æ§åˆ¶å°æˆ–è€…æ–‡ä»¶é‡Œè¾“å‡ºä»»ä½•ä¿¡æ¯,åªæœ‰å½“æŠ¥é”™çš„æ—¶å€™pythonä¼šè¾“å‡ºä¸€äº›traceback,è¿™åœ¨ä»¥åæ’æŸ¥æ•…éšœçš„æ—¶å€™æ˜¯æå…¶ä¸ä¾¿çš„(æ¯•ç«Ÿè°éƒ½ä¸èƒ½ä¿è¯è‡ªå·±çš„ç¨‹åºä¸å‡ºbug,æˆ–æ˜¯é‡åˆ°è‡ªå·±æ²¡æœ‰è€ƒè™‘åˆ°çš„æƒ…å†µ).æ‰€ä»¥æœ‰å¿…è¦åŠ ä¸Šä¸€ä¸ªç®€å•çš„æ—¥å¿—ç³»ç»Ÿ.\n\nåœ¨é¡¹ç›®ä¸‹æ–°å»ºä¸€ä¸ª `logger.py` æ–‡ä»¶,ç”¨æ¥å®šåˆ¶æ—¥å¿—ç³»ç»Ÿ.\n\næ¯”å¦‚,æˆ‘ä»¬æƒ³è¦æ ¹æ®æ—¥å¿—ç­‰çº§è®©æ—¥å¿—è¾“å‡ºåˆ°ä¸¤ä»½æ–‡ä»¶,ä¸€ä»½æ˜¯ normal , åŒ…æ‹¬ INFO ä»¥ä¸Šçš„æ—¥å¿—,å¦ä¸€ä»½æ˜¯ debug , åŒ…æ‹¬ DEBUG ä»¥ä¸Šçš„æ—¥å¿—,è€Œ INFO ä»¥ä¸Šçš„æ—¥å¿—è¿˜åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°,é‚£ä¹ˆå¯ä»¥è¿™æ ·:\n\n```python\nimport logging\nimport os\nfrom logging import handlers\n\n\nclass Logger:\n    def __init__(self, name: str, show: bool, save: bool = True, debug: bool = False) -> None:\n        \"\"\"\n        æ—¥å¿—ç³»ç»Ÿ\n\n        :param name: æ—¥å¿—ç³»ç»Ÿå®ä¾‹å\n        :param show: æ˜¯å¦æ˜¾ç¤ºåœ¨æ§åˆ¶å°\n        :param save: æ˜¯å¦ä¿å­˜åˆ°æ–‡ä»¶, defaults to True\n        :param debug: debugæ¨¡å¼, defaults to False\n        \"\"\"\n        # æ—¥å¿—æ–‡ä»¶è·¯å¾„\n        normal_log_path = f'logs/normal.log'\n        debug_log_path = f'logs/debug.log'\n        if not os.path.exists('./logs'):\n            os.mkdir('./logs')\n        self.logger = logging.getLogger(name)\n        # è®¾ç½®æ—¥å¿—ç­‰çº§å’Œæ ¼å¼\n        self.logger.setLevel(logging.DEBUG)\n        self.formatter = logging.Formatter(\n            '%(asctime)s - %(name)s - %(levelname)s: - %(message)s',\n            datefmt='%Y-%m-%d %H:%M:%S'\n        )\n        # è®¾ç½®ç›¸å…³ handler\n        if not self.logger.handlers:\n            if show:\n                # æ§åˆ¶å° handler\n                sh = logging.StreamHandler()\n                if debug:\n                    sh.setLevel(logging.DEBUG)\n                else:\n                    sh.setLevel(logging.INFO)\n                sh.setFormatter(self.formatter)\n                self.logger.addHandler(sh)\n            if save:\n                # ä¿å­˜åˆ°æ–‡ä»¶çš„ handler\n                fh_debug = handlers.TimedRotatingFileHandler(\n                    filename=debug_log_path,\n                    when=\"D\",\n                    interval=1,\n                    backupCount=3,\n                    encoding='utf-8'\n                ) # è‡ªåŠ¨æ—¥å¿—åˆ‡å‰²\n                fh_debug.setLevel(logging.DEBUG)\n                fh_debug.setFormatter(self.formatter)\n                fh = handlers.TimedRotatingFileHandler(\n                    filename=normal_log_path,\n                    when=\"D\",\n                    interval=1,\n                    backupCount=3,\n                    encoding='utf-8'\n                )\n                fh.setLevel(logging.INFO)\n                fh.setFormatter(self.formatter)\n                self.logger.addHandler(fh)\n                self.logger.addHandler(fh_debug)\n\n    def debug(self, message):\n        self.logger.debug(message)\n\n    def info(self, message):\n        self.logger.info(message)\n\n    def warn(self, message):\n        self.logger.warning(message)\n\n    def error(self, message):\n        self.logger.error(message)\n\n    def critical(self, message):\n        self.logger.critical(message)\n```\n\nç„¶ååœ¨ `bot.py` é‡Œå¯¼å…¥å¹¶å®ä¾‹åŒ–å®ƒ\n\n```python\nfrom logger import Logger\nlogger = Logger(name='bot', show=True)\n```\n\nä¹‹åå°±å¯ä»¥åœ¨ä»»æ„åœ°æ–¹ä½¿ç”¨æ—¥å¿—è®°å½•å¹¶è¾“å‡ºä¸€äº›ä¿¡æ¯,æ¯”å¦‚åœ¨ `start()` å‡½æ•°é‡Œ:\n\n```python\nasync def start(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    '''å“åº”startå‘½ä»¤'''\n    logger.info(f'æ”¶åˆ°æ¥è‡ª{update.effective_chat.username}çš„/startæŒ‡ä»¤')\n    text = 'ä½ å¥½~æˆ‘æ˜¯ä¸€ä¸ªbot'\n    await context.bot.send_message(chat_id=update.effective_chat.id,text=text)\n```\n\nåœ¨å…¶ä»–ä»»æ„ä½ è§‰å¾—éœ€è¦æ—¥å¿—çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨.\n\n### ä½¿ç”¨ yml æ–‡ä»¶é…ç½®\n\næŠŠé…ç½®ç›´æ¥å†™è¿›ä»£ç é‡Œä¹Ÿå¤ªä¸ä¼˜é›…äº†äº›,è€Œä¸”å¯¹äºå…¶ä»–æ™®é€šç”¨æˆ·æ¥è¯´,è¿˜å¯èƒ½ä¼šå› ä¸ºå†™é”™ç­‰åŸå› ç›´æ¥ç ´åç¨‹åº,æ‰€ä»¥éœ€è¦æŠŠé…ç½®éƒ½æ¬åˆ°æ–‡ä»¶é‡Œ. yml æ˜¯å¸¸è§çš„é…ç½®æ–‡ä»¶æ ¼å¼,ä¹Ÿæ¯”è¾ƒç®€å•.\n\nåé¢æˆ‘ä»¬è¿˜å¯èƒ½ä¼šéœ€è¦å¾ˆå¤šå°å·¥å…·,æ‰€ä»¥æ–°å»ºä¸€ä¸ª `utils.py`,æŠŠå„ç§è¾…åŠ©çš„æ–¹æ³•éƒ½æ”¾é‡Œé¢.\n\nå¯¼å…¥yamlåº“,osåº“å’Œæˆ‘ä»¬çš„æ—¥å¿—ç³»ç»Ÿ\n\n```python\nimport yaml\nimport os\nfrom logger import Logger\n```\n\nç„¶å\n\n```python\nclass Utils:\n    '''è¯¥ç±»ç”¨äºè®¾ç½®ä¸€äº›è¾…åŠ©çš„æ–¹æ³•'''\n\n    def __init__(self) -> None:\n        logger.debug('å®ä¾‹åŒ–Utils')\n        pass\n\n    def read_config(self,config_name: str) -> dict:\n        '''è¯»å–é…ç½®'''\n        config_path = os.path.abspath(os.path.join(os.getcwd(), config_name))\n        with open(config_path, 'r', encoding='utf-8') as f:\n            config = yaml.load(f, Loader=yaml.FullLoader)\n        logger.debug(f'å·²è½½å…¥é…ç½®{config_name}')\n        return config\n```\n\nç„¶åå°±å¯ä»¥åœ¨ymlä¸­å†™é…ç½®,æ¯”å¦‚ `config.yml`:\n\n```yml\n# botçš„token,å¿…å¡«\ntoken: ''\n\n#å…¨å±€ä»£ç†è®¾ç½®ï¼Œå¦‚ä¸éœ€è®¾ç½®è¯·ç•™ç©º\nproxy: ''\n```\n\néœ€è¦è¯»å–è¿™äº›é…ç½®æ—¶,å…ˆå¯¼å…¥ä¸Šé¢å†™çš„ `utils` æ¨¡å—å¹¶å®ä¾‹åŒ– Utils ç±»,ç„¶åè°ƒç”¨ `read_config` æ–¹æ³•å³å¯:\n\n```python\nfrom utils import Utils\nutils = Utils\nconfig = utils.read_config('config.yml')\n```\n\nè¿™é‡Œå¾—åˆ°çš„ config å˜é‡å‚¨å­˜äº†æˆ‘ä»¬çš„é…ç½®,å®ƒæ˜¯ä¸€ä¸ªå­—å…¸.æ¯”å¦‚è¦åœ¨ä»£ç†è®¾ç½®é‡Œä½¿ç”¨å®ƒ,åªéœ€è¦è¿™æ ·:\n\n```python\nif config['proxy']:\n    os.environ['http_proxy'] = config['proxy']\n    os.environ['https_proxy'] = config['proxy']\n```\n\nè¿˜æœ‰æ„å»º bot æ—¶:\n\n```python\nTOKEN=config['token']\napplication = ApplicationBuilder().token(TOKEN).build()\n```\n\n> å…¶å®è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ä¸å¤ªä¼˜é›…çš„,å› ä¸ºå¯èƒ½ä¼šå¤šæ¬¡è¯»å–é…ç½®æ–‡ä»¶,æ›´å¥½çš„æ–¹æ³•æ˜¯æŠŠé…ç½®å†™æˆä¸€ä¸ªæ¨¡å—,ç„¶åå¯¼å…¥å®ƒä»¬(å•ä¾‹æ¨¡å¼).\n\n### ä½¿ç”¨ json å­˜å–è¯åº“\n\nå…³é”®è¯å›å¤æ˜¯ bot å¾ˆå¸¸è§çš„åŠŸèƒ½,è¿™æ—¶å€™å°±ä¼šç”¨åˆ°è¯åº“.\n\næ–°å»º `data/words` æ–‡ä»¶å¤¹,ç”¨æ¥å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®.ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„è¯åº“ `ohayo.json` ç¤ºä¾‹(æ—©ä¸Šé—®å€™åœºæ™¯)\n\n```json\n[\n    \"æˆ‘çš„å°é±¼ä½ é†’äº†ï¼Œè¿˜è®¤è¯†æ—©æ™¨å—\",\n    \"æ˜¨å¤œä½ æ›¾ç»è¯´ï¼Œæ„¿å¤œå¹•æ°¸ä¸å¼€å¯\",\n    \"æˆ‘çš„å°é±¼ä½ ç¡é†’äº†å—ï¼Œè¿˜è®°å¾—å¤œæ™šå—\",\n    \"æ—©æ™¨ä½ æ›¾è¯´è¿‡ï¼Œæ„¿é»æ˜æ›™å…‰æ°¸ä¸è½ä¸‹\",\n    \"æ—©ä¸Šå¥½å“¦~\",\n    \"å“¦å“ˆå“Ÿå–µ~\",\n    \"ä¼—ç”Ÿçš†å°é¥¼å¹²ï¼Œä½ æ˜¯æœ€ç”œçš„é‚£ä¸€å—~\",\n    \"ä»Šå¤©ä¹Ÿæ˜¯æ–°çš„ä¸€å¤©~\",\n    \"ä½ é†’å•¦ï¼Ÿ(æ­ªå¤´)\",\n    \"å•Šå‘œ~ä½ å·²ç»èµ·åºŠäº†å˜›(æ‰“å“ˆæ¬ )\"\n]\n```\n\nå†™ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„æ–¹æ³•,ç”¨æ¥ååºåˆ—åŒ–jsonè¯åº“æ–‡ä»¶.æŠŠè¿™ä¸ªæ–¹æ³•å†™è¿›ä¸Šé¢æˆ‘ä»¬åˆ›å»ºè¿‡çš„ `Utils` ç±»é‡Œå³å¯.\n\n```python\n    def load_words(self, words: str):\n        '''è¯»å–å¹¶åŠ è½½è¯åº“'''\n        words_path = os.path.join(\n            os.getcwd(), 'data', 'words', f'{words}.json')\n        try:\n            with open(words_path, 'r',encoding='utf-8') as f:\n                the_words_json = json.load(f)\n            logger.debug(f'å·²è½½å…¥è¯åº“ï¼š{words_path}')\n            return the_words_json\n        except Exception as e:\n            logger.error(f'è½½å…¥è¯åº“å‡ºé”™ï¼š{words_path}, {e}')\n            return {'Exception': 'except'}\n```\n\nè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªè¯åº“æ–‡ä»¶å(ä¸å¸¦åç¼€),ç„¶åä» `data/words` è¯»å–å¯¹åº”çš„è¯åº“,å¹¶è¿”å›ä¸º python æ•°æ®ç»“æ„\n\nè¿™æ—¶å€™ä»£ç é‡å¯èƒ½å·²ç»æ¯”è¾ƒå¤šäº†,ä¸ºäº†æ–¹ä¾¿ç»„ç»‡å’Œç®¡ç†,æˆ‘æŠŠé™¤äº† `bot.py` çš„å…¶ä»– py æ–‡ä»¶ç»Ÿä¸€æ”¾åˆ°äº† `src` æ–‡ä»¶å¤¹ä¸‹.\n\nç„¶ååˆ›å»ºä¸€ä¸ªç”¨äºä»è¯åº“ä¸­å–å¥å­çš„ç±» `Getwords`(å› ä¸ºè¯åº“ä¹Ÿå¯èƒ½ä¸æ­¢ä¸€ç§,ä¸ºäº†ä¹‹åæ–¹ä¾¿æ‰©å±•æ‰€ä»¥å•ç‹¬å†™ä¸€ä¸ªç±»)\n\nåœ¨ src/words.py ä¸­:\n\n```python\nimport random\nfrom .utils import Utils\nfrom .logger import Logger\n\n# å®ä¾‹åŒ–ç±»\nlogger = Logger(name='words',show=True)\nutils = Utils()\n\n# è¯»å– ohayo.json è¿™ä¸ªè¯åº“\nohayo_words = utils.load_words('ohayo')\n\nclass GetWords():\n    def __init__(self):\n        \"\"\"\n        è¯¥ç±»ç”¨äºæå–æ¶ˆæ¯ç‰¹å®šæ–‡æœ¬ï¼Œæˆ–æ˜¯è¿”å›ç‰¹å®šæ–‡æœ¬\n        \"\"\"\n        logger.debug('å®ä¾‹åŒ–GetWords')\n        self.ohayo = ohayo_words\n\n    def get_ohayo(self) -> str:\n        '''è¿”å›æ—©å®‰é—®å€™å¥å­'''\n        word =  random.choice(self.ohayo)\n        logger.debug(f'è·å–åˆ°æ—©å®‰:{word}')\n        return word\n```\n\nç„¶åä¿®æ”¹ `bot.py` ä¸­çš„æ—©å®‰é—®å€™åŠŸèƒ½:\n\n```python\n# å¯¼å…¥ Getwords ç±»\nfrom src.words import GetWords\n\n# å®ä¾‹åŒ–\ngetWords = GetWords()\n\nasync def ohayo(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    text=getWords.get_ohayo()\n    await context.bot.send_message(chat_id=update.effective_chat.id, text=text)\n```\n\nå†æ¬¡å¼ºè°ƒä¸€ä¸‹,ä½•æ—¶è§¦å‘å“åº”çš„åŠŸèƒ½åº”è¯¥äº¤ç»™è¿‡æ»¤å™¨å»åš,æˆ‘ä»¬è¿™é‡Œçš„ `ohayo()` å‡½æ•°åªéœ€è¦å…³å¿ƒåŠŸèƒ½è§¦å‘ååº”è¯¥åšä»€ä¹ˆå°±å¯ä»¥äº†.\n\n### ä½¿ç”¨ docker éƒ¨ç½² bot\n\npython ç¨‹åºçš„ç¯å¢ƒç®¡ç†å¾ˆçƒ¦äºº,ç”¨dockeræ¥è·‘å†åˆé€‚ä¸è¿‡.\n\n#### æœ¬åœ°æ„å»º\n\nå¦‚æœè¦åœ¨æœ¬åœ°æ„å»º docker é•œåƒ,å‚è€ƒä¸‹é¢çš„ `Dockerfile` æ–‡ä»¶\n\n```Dockerfile\nFROM python:3.9\nCOPY . /app\nWORKDIR /app\nRUN pip install -r requirements.txt\nENTRYPOINT [ \"python\",\"/app/bot.py\" ]\n```\n\nå°† Dockerfile æ–‡ä»¶æ”¾åˆ°åˆé€‚çš„ç›®å½•(é¡¹ç›®æ ¹ç›®å½•å³å¯),ç„¶åæ‰§è¡Œ\n\n`docker build -t bot .`\n\næ³¨æ„åé¢æœ‰ä¸€ä¸ª .\n\n> å…³äº docker æ„å»ºé•œåƒçš„æ›´å¤šå¸®åŠ©,å¯ä»¥å‚é˜… [docker ä»å…¥é—¨åˆ°å®è·µ](https://yeasy.gitbook.io/docker_practice/image/build#gou-jian-jing-xiang)\n\nç„¶åä½¿ç”¨ `docker run -d bot` å¯åŠ¨å®¹å™¨,è¿è¡Œ bot\n\n#### ä½¿ç”¨ GitHub action è‡ªåŠ¨æ„å»º\n\ngithub action å¯ä»¥æ„å»º docker é•œåƒå¹¶å‘å¸ƒåˆ° ghcr,æ–¹ä¾¿åœ¨å…¶ä»–åœ°æ–¹éƒ¨ç½² docker å®¹å™¨.ä½ ä¾ç„¶éœ€è¦åœ¨é¡¹ç›®ä¸­å†™å¥½ `Dockerfile`\n\nåœ¨é¡¹ç›®ä¸­æ–°å»º `.github/workflows/build-docker.yml`,å‚è€ƒä»¥ä¸‹é…ç½®\n\n```yml\nname: Build and publish docker container\n\non:\n  workflow_dispatch:\n    \n\njobs:\n  publish:\n    name: Publish container image\n    runs-on: ubuntu-20.04\n    env:\n      TZ: Asia/Shanghai\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v3\n\n      - name: OCI meta\n        id: meta\n        uses: docker/metadata-action@v4.1.1\n        with:\n          images: ghcr.io/${{ github.repository }}\n          tags: |\n            type=edge,branch=main\n            type=ref,event=branch\n            type=semver,pattern={{version}}\n            type=semver,pattern={{major}}.{{minor}}\n            type=semver,pattern={{major}}\n            type=sha\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v2\n        \n      - name: Set up QEMU\n        uses: docker/setup-qemu-action@v2\n\n      - name: Login to GHCR\n        uses: docker/login-action@v2\n        with:\n          registry: ghcr.io\n          username: ${{ github.repository_owner }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Build and push\n        uses: docker/build-push-action@v3\n        with:\n          context: .\n          push: true\n          tags: ${{ steps.meta.outputs.tags }}\n          labels: ${{ steps.meta.outputs.labels }}\n          platforms: linux/amd64,linux/arm64\n          cache-from: type=gha\n          cache-to: type=gha,mode=max\n```\n\nç„¶åå¯ä»¥ä½¿ç”¨ `docker pull` çš„æ–¹æ³•è¿è¡Œ,æˆ–è€…ä½¿ç”¨ docker compose:\n\næ–°å»º `docker-compose.yml`,å‚è€ƒä»¥ä¸‹å†…å®¹\n\n```yml\nversion: \"3\"\nservices:\n  kmua:\n    image: ghcr.io/krau/kmua-bot:main\n    container_name: kmua-main\n    init: true\n    volumes:\n      - ./data:/kmua/data\n      - ./logs:/kmua/logs\n      - ./config.yml:/kmua/config.yml\n    environment:\n      - TZ=Asia/Shanghai\n```\n\næ³¨æ„æ ¹æ®è‡ªå·±éœ€è¦æ›´æ”¹\n\nç„¶åå°±å¯ä»¥ä½¿ç”¨ `docker compose up -d` å¯åŠ¨å®¹å™¨\n\n---\n\n## é™„åŠ \n\n### ä½¿ç”¨playwrightæŸ¥è¯¢mcæ¨¡ç»„ä¿¡æ¯å¹¶è®°å½•\n\nplaywright æ˜¯ä¸€ä¸ªæµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·åŒ…,å¦‚æœä½ äº†è§£è¿‡ selenium é‚£ä¹ˆä½ ä¸€å®šçŸ¥é“å®ƒæ˜¯ä»€ä¹ˆ.ä½†æ˜¯ playwright æ˜¯å¼‚æ­¥çš„\n\næˆ‘ä»¬æƒ³è¦å®ç°è¿™æ ·çš„åŠŸèƒ½: å½“ bot æ”¶åˆ°åŒ…å« [mcmod](https://www.mcmod.cn) é¡µé¢é“¾æ¥çš„æ¶ˆæ¯æ—¶,å»ä¸»åŠ¨æ‰“å¼€é“¾æ¥,æ”¶é›†æ¨¡ç»„ä¿¡æ¯å¹¶æˆªå›¾,ç„¶åå‘é€æ¨¡ç»„ä¿¡æ¯ç»™ç”¨æˆ·.å¹¶ä¸”æŒä¹…åŒ–ä¿å­˜è¿™äº›ä¿¡æ¯,å½“å†æ¬¡æ”¶åˆ°åŒæ ·çš„é“¾æ¥æ—¶,ç›´æ¥ä»å·²ä¿å­˜çš„æ•°æ®ä¸­è·å–å¹¶è¿”å›ç»™ç”¨æˆ·.\n\næ–°å»º `src/mcmod.py`. ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­,å®ƒè·å–äº†æ¨¡ç»„çš„åç§°å¹¶ä¸”æˆªå›¾ç½‘é¡µ,ä¿å­˜è¿™äº›æ•°æ®\n\n```python\nimport re\nimport os\nimport json\nfrom playwright.async_api import async_playwright\nfrom src.logger import Logger\n\nlogger = Logger(name='McMod', show=True)\n\n\nclass McMod:\n    def __init__(self, width: int = 1280, height: int = 1080) -> None:\n        \"\"\"\n        å‚æ•°è®¾å®š\n\n        :param width: é¡µé¢å®½åº¦, defaults to 1280\n        :param height: é¡µé¢é«˜åº¦, defaults to 1080\n        \"\"\"\n        logger.debug('å®ä¾‹åŒ–McMod')\n        self.args = ['--headless', '--no-sandbox',\n                     '--disable-gpu', '--hide-scrollbars']\n        self.options = {'args': self.args, 'defaultViewport': {\n            'width': width, 'height': height},'dumpio':True}\n\n    async def screenshot(self, mod_url: str, width: int = 1280, height: int = 720, close: bool = True) -> dict:\n        \"\"\"\n        è·å–ç½‘é¡µæˆªå±\n\n        :param url: ç½‘å€\n        :param width: é¡µé¢å®½åº¦, defaults to 1280\n        :param height: é¡µé¢é«˜åº¦, defaults to 720\n        :param close: å®Œæˆåæ˜¯å¦å…³é—­ç½‘é¡µ, defaults to True\n        :return: å­—å…¸{'file_name':æˆªå›¾æ–‡ä»¶å,'cn_name':ä¸­æ–‡å,\n                        'en_name':è‹±æ–‡å,'full_name':æ ¼å¼åŒ–åçš„å…¨å,'mod_url':æ¨¡ç»„é“¾æ¥}\n        \"\"\"\n        try:\n            async with async_playwright() as p:\n                browser = await p.chromium.launch()\n                page = await browser.new_page()\n                await page.set_viewport_size({'width': width, 'height': height})\n                await page.goto(mod_url)\n                await page.wait_for_selector('.class-title')\n                class_title = await page.query_selector('.class-title')\n                try:\n                    h4 = await class_title.query_selector('h4')\n                    en_name = await h4.get_property('innerText')\n                    en_name = await en_name.json_value()\n                    try:\n                        h3 = await class_title.query_selector('h3')\n                        cn_name = await h3.get_property('innerText')\n                        cn_name = await cn_name.json_value()\n                    except:\n                        cn_name = ''\n                except:\n                    en_name = ''\n                    cn_name = ''\n                file_name = re.sub(r'[^a-zA-Z]', '', en_name) + '.png'  # ä»¥è‹±æ–‡æ¨¡ç»„å(å»é™¤éæ³•å­—ç¬¦)ä¿å­˜æˆªå±æ–‡ä»¶\n                full_name = f'{cn_name} {en_name}'  # ä¸ºäº†å°‘å¼€ä¸€æ¬¡æµè§ˆå™¨ï¼Œå¹²è„†æŠŠæ¨¡ç»„åä¹Ÿé¡ºä¾¿è·å–å¹¶è¿”å›\n                if not os.path.exists(f'./data/pics/{file_name}'):\n                    await page.screenshot(path=f'./data/pics/{file_name}')\n                if close:\n                    await page.close()\n                    await browser.close()\n                record_flag = self.mod_data_record(mod_cn_name=cn_name,mod_en_name=en_name,mod_file_name=file_name,mod_full_name=full_name,mod_url=mod_url)\n                if record_flag:\n                    data_dict = self.mod_data_read(mod_url=mod_url)\n                    return data_dict\n                else:\n                    logger.error(f'æœªèƒ½è®°å½•æ¨¡ç»„ {mod_url}')\n                    return {}\n        except Exception as e:\n            logger.error(f'è·å–æˆªå± {mod_url} å¤±è´¥!')\n            logger.error(f'é”™è¯¯:{e}')\n            if close:\n                await page.close()\n                await browser.close()\n            return {}\n\n    async def get_mod_name(self, url: str, lang: str = 'full', close: bool = True) -> str:\n        \"\"\"\n        è·å–æ¨¡ç»„å\n\n        :param url: mcmodçš„æ¨¡ç»„é¡µé¢\n        :param lang: è¦è·å–çš„æ¨¡ç»„åè¯­è¨€, defaults to 'full'\n        :param close: å®Œæˆåæ˜¯å¦å…³é—­ç½‘é¡µ, defaults to True\n        :return:\n        \"\"\"\n        try:\n            async with async_playwright() as p:\n                browser = await p.chromium.launch()\n                page = await browser.new_page()\n                await page.goto(url)\n                await page.wait_for_selector('.class-title')\n                class_title = await page.query_selector('.class-title')\n                try:\n                    h4 = await class_title.query_selector('h4')\n                    en_name = await h4.get_property('innerText')\n                    en_name = await en_name.json_value()\n                    try:\n                        h3 = await class_title.query_selector('h3')\n                        cn_name = await h3.get_property('innerText')\n                        cn_name = await cn_name.json_value()\n                    except:\n                        cn_name = ''\n                except:\n                    en_name = ''\n                    cn_name = ''\n                full_nm = f'{cn_name} {en_name}'\n                if close:\n                    await page.close()\n                    await browser.close()\n                if lang == 'full':\n                    return full_nm\n                elif lang == 'cn':\n                    return cn_name\n                elif lang == 'en':\n                    return en_name\n                elif lang == 'dict':\n                    name_dict = {'cn_name':cn_name,'en_name':en_name,'full_name':full_nm}\n                    return name_dict\n                else:\n                    logger.debug(f'langä¸èƒ½ä¸º{lang}')\n                    return ''\n        except Exception as e:\n            logger.error(f'è·å–æ¨¡ç»„åç§° {url} å¤±è´¥!')\n            logger.error(f'é”™è¯¯:{e}')\n            return ''\n\n    def mod_data_record(self, mod_file_name: str,mod_full_name: str, mod_url: str, mod_cn_name: str='', mod_en_name: str='',  mod_pic_path: str = '') ->bool:\n        \"\"\"\n        ä»¥jsonæ–‡ä»¶å­˜å‚¨æ¨¡ç»„çš„ä¿¡æ¯,å˜é‡åå®šä¹‰ä¸å…¶ä»–å‡½æ•°ä¸­ä¸€è‡´\n\n        :param mod_file_name: æ¨¡ç»„å»é™¤éæ³•å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼)çš„è‹±æ–‡å…¨å+åç¼€å\n        :param mod_full_name: æ ¼å¼åŒ–åçš„å…¨å, ex: æ¤ç‰©é­”æ³•|Botania\n        :param mod_url: æ¨¡ç»„é“¾æ¥\n        :param mod_cn_name: æ¨¡ç»„ä¸­æ–‡å, defaults to ''\n        :param mod_en_name: æ¨¡ç»„è‹±æ–‡å, defaults to ''\n        :param mod_pic_path: æ¨¡ç»„é¡µé¢æˆªå›¾è·¯å¾„, defaults to ''\n        :return: è®°å½•æˆåŠŸè¿”å›True,å¦åˆ™False\n        \"\"\"\n        logger.debug('è°ƒç”¨:McMod.mod_data_record')\n        try:\n            logger.debug(f'è®°å½•æ¨¡ç»„æ•°æ®:{mod_cn_name}')\n            mods_data_path = './data/mods_data.json'\n            if not os.path.exists(mods_data_path):\n                with open(mods_data_path, 'w',encoding='utf-8') as f:\n                    json.dump({}, f,ensure_ascii=False)\n                logger.debug(f'æœªæ‰¾åˆ°æ•°æ®æ–‡ä»¶è·¯å¾„,å·²æ–°å»º')\n            if not mod_pic_path:\n                mod_pic_path = f'./data/pics/{mod_file_name}'\n                logger.debug(f'æœªä¼ å…¥pic_path,ä½¿ç”¨é»˜è®¤:{mod_pic_path}')\n            mod_data = {mod_url: {'file_name': mod_file_name, 'cn_name': mod_cn_name,\n                                        'en_name': mod_en_name, 'full_name': mod_full_name, 'mod_url': mod_url, 'pic_path': mod_pic_path}}\n            logger.debug(f'æ¨¡ç»„æ•°æ®:{mod_data}')\n            with open(mods_data_path,'r',encoding='utf-8') as f:\n                data_content = json.load(f)\n            data_content.update(mod_data)\n            with open(mods_data_path,'w',encoding='utf-8') as f:\n                json.dump(data_content,f,indent=4,ensure_ascii=False)\n            logger.info(f'å·²è®°å½•æ¨¡ç»„æ•°æ®:{mod_data}')\n            return True\n        except Exception as e:\n            logger.error(f'è®°å½•æ¨¡ç»„æ•°æ® {mod_url} é”™è¯¯!')\n            logger.error(f'é”™è¯¯:{e}')\n            return False\n\n    def mod_data_read(self,mod_url:str) -> dict:\n        try:\n            logger.debug(f'è¯»å–æ¨¡ç»„æ•°æ®:{mod_url}')\n            mods_data_path = './data/mods_data.json'\n            with open(mods_data_path,'r',encoding='utf-8') as f:\n                data = json.load(f)\n            if mod_url in data:\n                full_name = data[mod_url].get('full_name')\n                logger.info(f'è¯¥æ¨¡ç»„æ•°æ®å·²è®°å½•:{full_name}')\n                return data[mod_url]\n            else:\n                logger.debug('è¯¥æ¨¡ç»„æ•°æ®æœªè®°å½•')\n                return False\n        except Exception as e:\n            logger.error(f'è¯»å–æ¨¡ç»„æ•°æ® {mod_url} é”™è¯¯!')\n            logger.error(f'é”™è¯¯:{e}')\n            return False\n```\n\nç„¶ååœ¨ `bot.py` ä¸­æ·»åŠ è¿™ä¸€åŠŸèƒ½:\n\n```python\nasync def get_mcmod(update: Update, context: ContextTypes.DEFAULT_TYPE):\n    '''è‡ªåŠ¨è·å–mcmodä¸Šçš„æ¨¡ç»„ä¿¡æ¯'''\n    mod_urls = getWords.get_mcmod_url(text=update.effective_message.text)\n    for mod_url in mod_urls:\n        data_dict = mcmod.mod_data_read(mod_url=mod_url)\n        if data_dict:\n            await send_mod_data(update=update, context=context, data_dict=data_dict)\n            continue\n        try:\n            data_dict = await mcmod.screenshot(mod_url=mod_url)\n        except Exception as e:\n            text = f'æ— æ³•è·å–æ¨¡ç»„ä¿¡æ¯ï¼š{e}'\n            await context.bot.send_message(chat_id=update.effective_chat.id, text=text)\n            continue\n        if not data_dict:\n            text = f'æ— æ³•æ‰¾åˆ°æ¨¡ç»„ä¿¡æ¯ï¼š{mod_url}'\n            await context.bot.send_message(chat_id=update.effective_chat.id, text=text)\n            continue\n        await send_mod_data(update=update, context=context, data_dict=data_dict)\n\n\nasync def send_mod_data(update:Update, context:ContextTypes.DEFAULT_TYPE, data_dict:dict):\n    '''å‘é€æ¨¡ç»„æ•°æ®'''\n    try:\n        file = data_dict['file_name']\n        mod_url = data_dict['mod_url']\n        full_name = data_dict['full_name']\n        async with aiofiles.open(f'./data/pics/{file}', 'rb') as f:\n            photo = await f.read()\n    except FileNotFoundError:\n        text = f'æ— æ³•æ‰¾åˆ°æˆªå›¾æ–‡ä»¶ï¼š{file}'\n        await context.bot.send_message(chat_id=update.effective_chat.id, text=text)\n        return\n\n    text = f'æ‰¾åˆ°äº†è¿™ä¸ªæ¨¡ç»„~\\n<b><a href=\"{mod_url}\">{full_name}</a></b>'\n    await context.bot.send_photo(chat_id=update.effective_chat.id, photo=photo, caption=text, parse_mode='HTML')\n```\n\næˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªä»æ¶ˆæ¯ä¸­æå–é“¾æ¥çš„å‡½æ•°,åœ¨ `words.py` ä¸­:\n\n```python\n    def get_mcmod_url(self, text: str) -> list[str]:\n        '''è¿”å›å¥ä¸­çš„mcmodé¡µé¢é“¾æ¥åˆ—è¡¨'''\n        mod_nums = re.findall(r\"www\\.mcmod\\.cn/class/([0-9]+)\", text)\n        urls = [f\"https://www.mcmod.cn/class/{x}\" for x in mod_nums]\n        if urls:\n            logger.info(f'è·å–åˆ°mcmodé“¾æ¥{urls}')\n            return urls\n        else:\n            logger.info('æ— mcmodé“¾æ¥')\n            return []\n```\n\nè¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªåˆ—è¡¨,åŒ…å«äº†æ¶ˆæ¯ä¸­åŒ…å«çš„æ‰€æœ‰ mcmod æ¨¡ç»„é¡µé¢çš„é“¾æ¥\n\nç„¶å,è¿˜éœ€è¦ä¸€ä¸ªç”¨äºè§¦å‘è¯¥åŠŸèƒ½çš„è¿‡æ»¤å™¨:\n\n```python\nfilter_mcmod = filters.Regex(r\"www.mcmod.cn/class\")\n```\n\næœ€åæ·»åŠ å®ƒçš„ handler å³å¯:\n\n```python\nget_mcmod_handler = MessageHandler(filter_mcmod, get_mcmod)\napplication.add_handler(get_mcmod_handler)\n```\n"},{"title":"ä½¿ç”¨ShareXå’ŒMarkdown Imageè‡ªåŠ¨å‹ç¼©æˆªå›¾ä¸ºWebPæ ¼å¼å¹¶ä¸€é”®æ’å…¥Markdownæ–‡æ¡£","tags":[],"categories":["å°æŠ€æœ¯"],"author":"æŸ¯ç½—krau","excerpt":"\nä¹‹å‰æˆ‘æ›¾å®‰åˆ©è¿‡ [PasteImage](http://localhost:4859/posts/pasteimage-in-vs) è¿™ä¸ªæ’ä»¶ï¼Œç”¨ VSCode å†™åšå®¢/æ–‡æ¡£çš„æ—¶å€™ï¼Œç”¨å®ƒå¯ä»¥å¾ˆå¿«æ·åœ°åœ¨mdæ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡ã€‚\n\nå—æŸä¸ªå‹äººå½±å“ï¼Œæˆ‘ä¹Ÿå¼€å§‹å°è¯• ~~æ‹¥æŠ± webp~~äº†ï¼Œè¿‘æœŸçš„æ–‡ç« å†…çš„å›¾ç‰‡éƒ½å·²ç»å‹ç¼©æˆäº† webp æ ¼å¼ã€‚ä½†æ˜¯ PasteImage å´ä¸æ”¯æŒ webp æ ¼å¼ï¼Œäºæ˜¯æˆ‘åˆæƒ³åŠæ³•æ•´å‡ºäº†ä»Šå¤©è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå®ç°å®Œå…¨è‡ªåŠ¨åŒ–çš„ å‹ç¼©+æ’å…¥å›¾ç‰‡ã€‚\n\n","link":"/posts/use-sharex-and-mdimage-for-efficiency","content":"\nä¹‹å‰æˆ‘æ›¾å®‰åˆ©è¿‡ [PasteImage](http://localhost:4859/posts/pasteimage-in-vs) è¿™ä¸ªæ’ä»¶ï¼Œç”¨ VSCode å†™åšå®¢/æ–‡æ¡£çš„æ—¶å€™ï¼Œç”¨å®ƒå¯ä»¥å¾ˆå¿«æ·åœ°åœ¨mdæ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡ã€‚\n\nå—æŸä¸ªå‹äººå½±å“ï¼Œæˆ‘ä¹Ÿå¼€å§‹å°è¯• ~~æ‹¥æŠ± webp~~äº†ï¼Œè¿‘æœŸçš„æ–‡ç« å†…çš„å›¾ç‰‡éƒ½å·²ç»å‹ç¼©æˆäº† webp æ ¼å¼ã€‚ä½†æ˜¯ PasteImage å´ä¸æ”¯æŒ webp æ ¼å¼ï¼Œäºæ˜¯æˆ‘åˆæƒ³åŠæ³•æ•´å‡ºäº†ä»Šå¤©è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå®ç°å®Œå…¨è‡ªåŠ¨åŒ–çš„ å‹ç¼©+æ’å…¥å›¾ç‰‡ã€‚\n\n<!-- more -->\n\n## é…ç½® ShareX\n\n[sharex](https://getsharex.com/) æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æˆªå±ã€å½•å±ã€åˆ†äº«è½¯ä»¶ï¼Œå¼€æºå…è´¹ï¼Œæ”¯æŒé«˜åº¦è‡ªå®šä¹‰çš„è‡ªåŠ¨åŒ–ï¼Œ\n\nç„¶åè¿˜è¦å®‰è£… [ffmpeg](https://ffmpeg.org/) ï¼Œå®ƒåœ¨æœ¬æ–‡çš„ä½œç”¨æ˜¯é€šè¿‡å‘½ä»¤è°ƒç”¨æ¥å‹ç¼©å›¾ç‰‡ã€‚å¦‚æœä½ æ²¡äº†è§£è¿‡å®ƒçš„è¯ä¸å¦¨å»æœç´¢ä¸€ä¸‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªååˆ†å¼ºå¤§çš„å·¥å…·ã€‚\n\nç„¶ååœ¨ sharex çš„åŠ¨ä½œè®¾ç½®ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªåŠ¨ä½œ\n\n![å›¾ 2](/photo/post-pics/use-sharex-and-mdimage-for-efficiency/use-sharex-and-mdimage-for-efficiency_01-16-19-19-40.webp)\n\n- åç§°: éšæ„\n- æ–‡ä»¶è·¯å¾„: ffmpeg çš„å®‰è£…è·¯å¾„ï¼Œè¦æŒ‡å®šåˆ° ffmpeg å¯æ‰§è¡Œæ–‡ä»¶\n- å‚æ•°: `-i \"$input\" -q 75 \"$output\"`  å…¶ä¸­ -q 75 æ˜¯ä»¥75%è´¨é‡å‹ç¼©\n- è¾“å‡ºæ–‡ä»¶æ‰©å±•å: webp\n- æ‰©å±•åç­›é€‰: png\n\nå‹¾ä¸Šä¸‹é¢çš„ éšè—çª—å£ å’Œ åˆ é™¤è¾“å…¥æ–‡ä»¶\n\n![å›¾ 3](/photo/post-pics/use-sharex-and-mdimage-for-efficiency/use-sharex-and-mdimage-for-efficiency_01-16-19-24-22.webp)\nç„¶ååœ¨æˆªå›¾åçš„ä»»åŠ¡é‡Œé€‰ä¸­è¿™äº›é¡¹(æ·»åŠ å›¾åƒç‰¹æ•ˆå¯è§†æƒ…å†µè‡ªè¡Œæ·»åŠ )\n\n![å›¾ 4](/photo/post-pics/use-sharex-and-mdimage-for-efficiency/use-sharex-and-mdimage-for-efficiency_01-16-19-26-14.webp)\n\n## é…ç½® Markdown Image\n\n[Markdown Image](https://marketplace.visualstudio.com/items?itemName=hancel.markdown-image) æ˜¯ä¸€ä¸ª VSCode æ’ä»¶ï¼Œæ”¯æŒå°†å‰ªè´´æ¿ä¸­çš„å›¾ç‰‡ä¿å­˜åœ¨æŒ‡å®šè·¯å¾„ä¸‹(æˆ–æŒ‡å®šå›¾åºŠä¸­)ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆ markdown æ ¼å¼çš„å¼•ç”¨ã€‚\n\næˆ‘çš„åšå®¢çš„æ–‡ç« å›¾ç‰‡æ˜¯æŒ‰ç…§ `/public/photo/post-pics/æ–‡ç« å/æ–‡ç« å_æ—¶é—´` çš„æ ¼å¼å’Œè·¯å¾„ä¿å­˜åœ¨æœ¬åœ°çš„ï¼Œæ‰€ä»¥æŒ‰ç…§ä¸‹é¢è¿™æ ·é…ç½®\n\n```json\n\"markdown-image.base.fileNameFormat\": \"${mdname}/${mdname}_${MM}-${DD}-${HH}-${mm}-${ss}\",\n\"markdown-image.local.path\": \"../../public/photo/post-pics/\",\n\"markdown-image.local.referencePath\": \"/photo/post-pics/${mdname}/\",\n```\n\næ›´è¯¦ç»†çš„é…ç½®ï¼Œå‚ç…§ [Markdown Image çš„å®˜æ–¹æ–‡æ¡£](https://github.com/imlinhanchao/vsc-markdown-image/blob/HEAD/README.zh-cn.md)\n\nè¿™æ ·å°±å®Œæˆå•¦ã€‚ç°åœ¨ä½¿ç”¨ sharex æˆªå±æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ ffmpeg å°†æ–‡ä»¶å‹ç¼©ä¸º webp æ ¼å¼å¹¶ä¿å­˜åœ¨å‰ªè´´æ¿ä¸­ï¼Œç„¶ååœ¨ VSCode ä¸­ä½¿ç”¨ `Alt + Shift + V` ç²˜è´´å³å¯ã€‚\n"},{"title":"ã€ç™½è¯æ–‡ã€‘å¦‚ä½•åŠ å…¥ä¸€ä¸ªzerotierç½‘ç»œ|å½“è…ç«¹å› ä¸ºç§»åŠ¨ä¸ç»™ipv4å…¬ç½‘è€Œè¦æ±‚ç©å®¶ç”¨zerotierç»„ç½‘æ—¶...","tags":["ç½‘ç»œ","zerotier"],"categories":"å°æŠ€æœ¯","author":"æŸ¯ç½—krau","excerpt":"\næœ€è¿‘æŠŠè‡ªå®¶å®½å¸¦ä»è”é€šè½¬æˆ˜ç§»åŠ¨ï¼Œç„¶è€Œç§»åŠ¨ä¸ç»™å…¬ç½‘ipv4ï¼Œå¯¼è‡´æˆ‘mcæœçš„é“¸å¸ç©å®¶ä»¬æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼Œäºæ˜¯å†³å®šç”¨zerotierç»„å»ºç½‘ç»œï¼Œä¸€ä¸¾å¤šå¾—.\næ­¤æ–‡å†™ç»™å°ç™½ï¼Œåªç”¨ç™½è¯æ–‡ä»‹ç»å¦‚ä½•åŠ å…¥ä¸€ä¸ªzerotierç½‘ç»œã€‚\n\n","link":"/posts/zerotier-client","content":"\næœ€è¿‘æŠŠè‡ªå®¶å®½å¸¦ä»è”é€šè½¬æˆ˜ç§»åŠ¨ï¼Œç„¶è€Œç§»åŠ¨ä¸ç»™å…¬ç½‘ipv4ï¼Œå¯¼è‡´æˆ‘mcæœçš„é“¸å¸ç©å®¶ä»¬æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼Œäºæ˜¯å†³å®šç”¨zerotierç»„å»ºç½‘ç»œï¼Œä¸€ä¸¾å¤šå¾—.\næ­¤æ–‡å†™ç»™å°ç™½ï¼Œåªç”¨ç™½è¯æ–‡ä»‹ç»å¦‚ä½•åŠ å…¥ä¸€ä¸ªzerotierç½‘ç»œã€‚\n\n<!-- more -->\n\n## æ³¨å†Œzerotierè´¦å·\n\nç‚¹å‡»æ‰“å¼€[zerotierå®˜ç½‘](zerotier.com)\n\nç„¶åç‚¹å‡»å³ä¸Šè§’sign up\n![1](/photo/post-pics/zerotier-client/zerotier-client_2022-08-21-09-53-59.webp)\n\næ³¨å†Œä¸€ä¸ªè´¦å·\n![2](/photo/post-pics/zerotier-client/zerotier-client_2022-08-21-09-55-43.webp)\n\nç„¶åzerotierå®˜æ–¹ä¼šç»™ä½ çš„é‚®ç®±å‘é€ä¸€å°éªŒè¯é‚®ä»¶ï¼Œç‚¹å‡»é‚®ä»¶ä¸­é“¾æ¥å³å¯æ³¨å†ŒæˆåŠŸ\n![3](/photo/post-pics/zerotier-client/zerotier-client_2022-08-21-09-57-15.webp)\n\næ¥ä¸‹æ¥ä¸‹è½½zerotierè½¯ä»¶\n\n## ä¸‹è½½å®‰è£…å’Œé…ç½®zerotier\n\næ‰“å¼€[å®˜ç½‘çš„ä¸‹è½½é¡µé¢](https://www.zerotier.com/download/)\n\nç‚¹å‡»windowså³å¯ä¸‹è½½\n![4](/photo/post-pics/zerotier-client/zerotier-client_2022-08-21-09-59-02.webp)\n\nä¸‹è½½å®ŒååŒå‡»è¿è¡Œï¼Œè‡ªåŠ¨å®Œæˆå®‰è£…\n\nå®‰è£…å®Œæˆåï¼Œç‚¹å‡»çŠ¶æ€æ å›¾æ ‡ï¼Œç‚¹å‡»join new network\n![5](/photo/post-pics/zerotier-client/zerotier-client_2022-08-21-10-01-09.webp)\n\nç„¶åå¡«å…¥è¦åŠ å…¥çš„ç½‘ç»œidï¼Œç‚¹å‡»joinå³å¯\n"}]
