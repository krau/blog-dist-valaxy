import{_ as u}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BpGoxE0S.js";import{c as g,w as o,f,e as v,p as i,o as y,g as t,h as n,v as M,r}from"./app-DYwnrrn0.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-BzH1ppc2.js";import"./YunCard.vue_vue_type_script_setup_true_lang-BeOWRhvZ.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-B_Gh7fdw.js";import"./post-DOrnddpB.js";const x={__name:"mmdray-normal-map",setup(b,{expose:d}){const e=JSON.parse('{"title":"ray-mmd制作法线贴图","description":"","frontmatter":{"categories":"小技术","date":"2021-08-13 08:59:08","layout":"post","tags":["MMD","3D"],"title":"ray-mmd制作法线贴图"},"headers":[],"relativePath":"pages/posts/mmdray-normal-map.md","path":"/home/runner/work/blog-source-valaxy/blog-source-valaxy/pages/posts/mmdray-normal-map.md","lastUpdated":1726839524000}'),m=v(),s=e.frontmatter||{};return m.meta.frontmatter=Object.assign(m.meta.frontmatter||{},e.frontmatter||{}),i("pageData",e),i("valaxy:frontmatter",s),globalThis.$frontmatter=s,d({frontmatter:{categories:"小技术",date:"2021-08-13 08:59:08",layout:"post",tags:["MMD","3D"],title:"ray-mmd制作法线贴图"}}),(a,l)=>{const p=u;return y(),g(p,{frontmatter:f(s)},{"main-content-md":o(()=>[l[0]||(l[0]=t("p",null,"如何使材质贴图更有层次感？",-1)),l[1]||(l[1]=t("p",null,[n("这就需要制作相应的"),t("a",{href:"https://zh.wikipedia.org/wiki/%E6%B3%95%E7%BA%BF%E8%B4%B4%E5%9B%BE",target:"_blank",rel:"noreferrer"},"法线贴图")],-1)),l[2]||(l[2]=t("p",null,"本文以YYB式初音未来为例，制作相应的法线贴图，使用ray渲染的版本为1.5.2",-1)),M(" more "),l[3]||(l[3]=t("hr",null,null,-1)),l[4]||(l[4]=t("p",null,"在制作法线贴图之前，首先要在MMD导入相应的模型，并完成ray渲染的基本流程，方便以下的对比操作，以寻找合适的参数。",-1)),l[5]||(l[5]=t("figure",null,[t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813091507.png",alt:"",loading:"lazy",decoding:"async"})],-1)),l[6]||(l[6]=t("p",null,[n("在模型的目录中，找到需要制作的贴图，文件夹名一般为"),t("code",null,"Texture")],-1)),l[7]||(l[7]=t("p",null,[n("然后使用ps导入贴图，选择滤镜>3D>生成法线图 "),t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813093103.png",alt:""})],-1)),l[8]||(l[8]=t("p",null,"导出为png格式，文件名应是英文",-1)),l[9]||(l[9]=t("p",null,[n("在"),t("code",null,"~/ray-mmd-1.5.2/Materials"),n("目录中，找到"),t("code",null,"material_2.0.fx"),n("、"),t("code",null,"material_common_2.0.fxsub"),n("两个文件，复制到模型目录中的材质贴图文件夹")],-1)),l[10]||(l[10]=t("figure",null,[t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813093713.png",alt:"",loading:"lazy",decoding:"async"})],-1)),l[11]||(l[11]=t("p",null,[n("然后重命名"),t("code",null,"material_2.0.fx"),n("文件为"),t("code",null,"{你所导出的法线贴图的文件名}.fx")],-1)),l[12]||(l[12]=t("figure",null,[t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094047.png",alt:"",loading:"lazy",decoding:"async"})],-1)),l[13]||(l[13]=t("p",null,[n("打开重命名后的该fx文件，在第28行左右找到"),t("code",null,"#define NORMAL_MAP_FROM 0"),n("，将0修改为1以启用法线贴图。并更改"),t("code",null,'#define NORMAL_MAP_FILE "normal.png" '),n('中的"normal"为法线贴图文件名')],-1)),l[14]||(l[14]=t("figure",null,[t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094408.png",alt:"",loading:"lazy",decoding:"async"})],-1)),l[15]||(l[15]=t("p",null,[n("然后保存，在mmd中，在"),t("code",null,"MaterialMap"),n("栏中，展开所修改的模型，找到对应的贴图，为其添加法线贴图效果")],-1)),l[16]||(l[16]=t("figure",null,[t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813094739.png",alt:"",loading:"lazy",decoding:"async"})],-1)),l[17]||(l[17]=t("p",null,"此时可以对照mmd中的效果调整fx文件中的参数，修改参数后保存文件，即可在mmd中预览到效果。",-1)),l[18]||(l[18]=t("p",null,"几个参数的作用：",-1)),l[19]||(l[19]=t("ul",null,[t("li",null,[t("p",null,[n("const float normalMapScale = 1.0; 法线效果强度，该参数越大，层次感越明显（下图为将该参数设置为5.0的效果） "),t("img",{src:"https://cdn.jsdelivr.net/gh/voidoath/photo/blog-img/20210813095248.png",alt:""})])]),t("li",null,[t("p",null,"#define SMOOTHNESS_MAP_TYPE 0 法线效果平滑度，该参数越大，发现效果显示越平滑，同时颗粒感与湿润感也会更强（多用于场景）")])],-1)),l[20]||(l[20]=t("hr",null,null,-1)),l[21]||(l[21]=t("p",null,"tips：",-1)),l[22]||(l[22]=t("ol",null,[t("li",null,[n("如果需要为同一模型的多个材质贴图添加法线贴图效果，只需要为每个法线贴图复制一个"),t("code",null,"material_2.0.fx"),n("文件，并重命名为对应的文件名，而"),t("code",null,"material_common_2.0.fxsub"),n("只在材质文件夹中保留一份即可")]),t("li",null,"场景制作法线贴图与人物模型同理，但参数的调整与人物模型区别较大，需根据不同的需求进行尝试")],-1))]),"main-header":o(()=>[r(a.$slots,"main-header")]),"main-header-after":o(()=>[r(a.$slots,"main-header-after")]),"main-nav":o(()=>[r(a.$slots,"main-nav")]),"main-content":o(()=>[r(a.$slots,"main-content")]),"main-content-after":o(()=>[r(a.$slots,"main-content-after")]),"main-nav-before":o(()=>[r(a.$slots,"main-nav-before")]),"main-nav-after":o(()=>[r(a.$slots,"main-nav-after")]),comment:o(()=>[r(a.$slots,"comment")]),footer:o(()=>[r(a.$slots,"footer")]),aside:o(()=>[r(a.$slots,"aside")]),"aside-custom":o(()=>[r(a.$slots,"aside-custom")]),default:o(()=>[r(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{x as default};
