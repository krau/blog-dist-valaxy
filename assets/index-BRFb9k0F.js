import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BpGoxE0S.js";import{c as g,w as t,f as y,e as F,p as r,o as u,g as i,v as D,h as s,r as n}from"./app-DYwnrrn0.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-BzH1ppc2.js";import"./YunCard.vue_vue_type_script_setup_true_lang-BeOWRhvZ.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-B_Gh7fdw.js";import"./post-DOrnddpB.js";const m="/photo/posts/deploy-mongodb-replica-set/mongodbreplicaset.webp",c="/assets/2024-08-19-15-08-49-xqqg267Q.webp",f="/assets/2024-08-19-15-30-23-DAIIQCzd.webp",M={__name:"index",setup(C,{expose:o}){const e=JSON.parse('{"title":"éƒ¨ç½²è·¨å¤šæ•°æ®ä¸­å¿ƒåˆ†å¸ƒçš„ MongoDB å‰¯æœ¬é›†","description":"","frontmatter":{"title":"éƒ¨ç½²è·¨å¤šæ•°æ®ä¸­å¿ƒåˆ†å¸ƒçš„ MongoDB å‰¯æœ¬é›†","date":"2024-08-18 19:05:10","updated":"2024-08-18 19:05:10","tags":["MongoDB","æ•°æ®åº“","Docker"],"categories":"å°æŠ€æœ¯","author":"Krau","copyright":true,"postTitleClass":"text-#00a043","pageTitleClass":"text-#00a043","end":true},"headers":[{"level":2,"title":"ç¯å¢ƒ","slug":"ç¯å¢ƒ","link":"#ç¯å¢ƒ","children":[]},{"level":2,"title":"å®‰è£… MongoDB","slug":"å®‰è£…-mongodb","link":"#å®‰è£…-mongodb","children":[]},{"level":2,"title":"é…ç½®èŠ‚ç‚¹ keyfile","slug":"é…ç½®èŠ‚ç‚¹-keyfile","link":"#é…ç½®èŠ‚ç‚¹-keyfile","children":[{"level":3,"title":"ç”Ÿæˆ keyfile","slug":"ç”Ÿæˆ-keyfile","link":"#ç”Ÿæˆ-keyfile","children":[]},{"level":3,"title":"ä¿®æ”¹ keyfile æƒé™","slug":"ä¿®æ”¹-keyfile-æƒé™","link":"#ä¿®æ”¹-keyfile-æƒé™","children":[]}]},{"level":2,"title":"é…ç½®å‰¯æœ¬é›†è®¤è¯","slug":"é…ç½®å‰¯æœ¬é›†è®¤è¯","link":"#é…ç½®å‰¯æœ¬é›†è®¤è¯","children":[]},{"level":2,"title":"é…ç½® TLS","slug":"é…ç½®-tls","link":"#é…ç½®-tls","children":[{"level":3,"title":"å‡†å¤‡è¯ä¹¦","slug":"å‡†å¤‡è¯ä¹¦","link":"#å‡†å¤‡è¯ä¹¦","children":[]},{"level":3,"title":"é…ç½®è¯ä¹¦","slug":"é…ç½®è¯ä¹¦","link":"#é…ç½®è¯ä¹¦","children":[]}]},{"level":2,"title":"å®Œæ•´ mongod.conf","slug":"å®Œæ•´-mongod-conf","link":"#å®Œæ•´-mongod-conf","children":[]},{"level":2,"title":"å¯åŠ¨å‰¯æœ¬é›†","slug":"å¯åŠ¨å‰¯æœ¬é›†","link":"#å¯åŠ¨å‰¯æœ¬é›†","children":[]},{"level":2,"title":"è¿æ¥å‰¯æœ¬é›†","slug":"è¿æ¥å‰¯æœ¬é›†","link":"#è¿æ¥å‰¯æœ¬é›†","children":[{"level":3,"title":"SRV è®°å½•","slug":"srv-è®°å½•","link":"#srv-è®°å½•","children":[]}]},{"level":2,"title":"FAQ","slug":"faq","link":"#faq","children":[]}],"relativePath":"pages/posts/deploy-mongodb-replica-set/index.md","path":"/home/runner/work/blog-source-valaxy/blog-source-valaxy/pages/posts/deploy-mongodb-replica-set/index.md","lastUpdated":1726839524000}'),h=F(),k=e.frontmatter||{};return h.meta.frontmatter=Object.assign(h.meta.frontmatter||{},e.frontmatter||{}),r("pageData",e),r("valaxy:frontmatter",k),globalThis.$frontmatter=k,o({frontmatter:{title:"éƒ¨ç½²è·¨å¤šæ•°æ®ä¸­å¿ƒåˆ†å¸ƒçš„ MongoDB å‰¯æœ¬é›†",date:"2024-08-18 19:05:10",updated:"2024-08-18 19:05:10",tags:["MongoDB","æ•°æ®åº“","Docker"],categories:"å°æŠ€æœ¯",author:"Krau",copyright:!0,postTitleClass:"text-#00a043",pageTitleClass:"text-#00a043",end:!0}}),(a,l)=>{const p=d;return u(),g(p,{frontmatter:y(k)},{"main-content-md":t(()=>[l[0]||(l[0]=i("figure",null,[i("img",{src:m,alt:"MongoDB",loading:"lazy",decoding:"async"})],-1)),l[1]||(l[1]=i("p",null,"æœ€è¿‘æŠŠè‡ªå·±çš„ä¸€ä¸ªå°é¡¹ç›®è¿ç§»äº†æœåŠ¡å™¨, ç»“æœå‘ç°æ¥å£å“åº”é€Ÿåº¦æ…¢äº†å¾ˆå¤š, æ’æŸ¥äº†ä¸å°‘æ—¶é—´åçªç„¶æƒ³èµ·æ¥æ˜¯å› ä¸ºæ–°æœåŠ¡å™¨å’Œ MongoDB Atlas ä¸åœ¨åŒä¸€ä¸ªåœ°åŒº, å…‰æ˜¯äºŒè€…ä¹‹é—´çš„ç½‘ç»œå»¶è¿Ÿå°±å¾ˆé«˜.",-1)),l[2]||(l[2]=i("p",null,"è€Œ MongoDB Atlas æä¾›çš„å…è´¹å®ä¾‹è¦å¤‡ä»½æ•°æ®å’Œè¿ç§»æ¯”è¾ƒéº»çƒ¦, åˆå› ä¸º MongoDB å•å®ä¾‹ä¸æ”¯æŒäº‹åŠ¡, æ‰€ä»¥å†³å®šå¹²è„†è‡ªå»ºä¸€ä¸ª MongoDB å‰¯æœ¬é›† ğŸ˜.",-1)),D(" more "),l[3]||(l[3]=i("h2",{id:"ç¯å¢ƒ",tabindex:"-1"},[s("ç¯å¢ƒ "),i("a",{class:"header-anchor",href:"#ç¯å¢ƒ","aria-label":'Permalink to "ç¯å¢ƒ"'},"â€‹")],-1)),l[4]||(l[4]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"æœ¬æ–‡ç¯å¢ƒä¸å‰æ"),i("span",{lang:"zh-CN"},"æœ¬æ–‡ç¯å¢ƒä¸å‰æ")]),i("ul",null,[i("li",null,"OS: Debian Bookworm"),i("li",null,"MongoDB: 7.0.0"),i("li",null,"ä½¿ç”¨ Docker å®‰è£… MongoDB")])],-1)),l[5]||(l[5]=i("p",null,[s("æˆ‘æ‰‹ä¸Šæœ‰å‡ å°ä¸åŒæœåŠ¡å•†ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨, ä¸‹æ–‡éƒ½ä»¥ "),i("code",null,"Server A"),s(", "),i("code",null,"Server B"),s(", "),i("code",null,"Server C"),s(" ä»£è¡¨.")],-1)),l[6]||(l[6]=i("p",null,"ä¸ºäº†ç”³è¯·è¯ä¹¦, è¿˜éœ€è¦è‡³å°‘ä¸€ä¸ªåŸŸå.",-1)),l[7]||(l[7]=i("h2",{id:"å®‰è£…-mongodb",tabindex:"-1"},[s("å®‰è£… MongoDB "),i("a",{class:"header-anchor",href:"#å®‰è£…-mongodb","aria-label":'Permalink to "å®‰è£… MongoDB"'},"â€‹")],-1)),l[8]||(l[8]=i("p",null,"é¦–å…ˆè¦åœ¨æ¯å°æœåŠ¡å™¨ä¸Šéƒ½å®‰è£… MongoDB, è¿™é‡Œä½¿ç”¨ Docker Compose.",-1)),l[9]||(l[9]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# docker-compose.yml")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"services"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  mongo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    image"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," mongo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"  #  restart: always")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    environment"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"      MONGO_INITDB_ROOT_USERNAME"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," root")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"      MONGO_INITDB_ROOT_PASSWORD"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," password")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    ports"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," 27017:27017")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    volumes"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," ./data:/data/db")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      -"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," ./config:/etc/mongo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    command"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}}," ["),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"--config"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"/etc/mongo/mongod.conf"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"]")])])]),i("button",{class:"collapse"})],-1)),l[10]||(l[10]=i("p",null,[s("ç„¶å "),i("code",null,"./config"),s(" ç›®å½•ä¸‹æ–°å»ºæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ "),i("code",null,"mongod.conf"),s(":")],-1)),l[11]||(l[11]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# mongod.conf")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# for documentation of all options, see:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   http://docs.mongodb.org/manual/reference/configuration-options/")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# Where and how to store data.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"storage"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  dbPath"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /data/db")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#  engine:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#  wiredTiger:")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# network interfaces")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"net"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  port"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 27017")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  bindIp"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 127.0.0.1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# how the process runs")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"processManagement"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  timeZoneInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /usr/share/zoneinfo")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# where to write logging data.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# systemLog:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   destination: file")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   logAppend: true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   path: /var/log/mongodb/mongod.log")])])]),i("button",{class:"collapse"})],-1)),l[12]||(l[12]=i("p",null,"æš‚æ—¶åªéœ€è¦ä¸Šé¢è¿™ä¸€ç‚¹é…ç½®å°±å¯ä»¥å•¦, æ­¤æ—¶å¯ä»¥å…ˆå¯åŠ¨å®¹å™¨, æ¥ä¸‹æ¥éœ€è¦é…ç½®å‰¯æœ¬é›†ä¹‹é—´è®¤è¯ç”¨çš„ keyfile.",-1)),l[13]||(l[13]=i("h2",{id:"é…ç½®èŠ‚ç‚¹-keyfile",tabindex:"-1"},[s("é…ç½®èŠ‚ç‚¹ keyfile "),i("a",{class:"header-anchor",href:"#é…ç½®èŠ‚ç‚¹-keyfile","aria-label":'Permalink to "é…ç½®èŠ‚ç‚¹ keyfile"'},"â€‹")],-1)),l[14]||(l[14]=i("h3",{id:"ç”Ÿæˆ-keyfile",tabindex:"-1"},[s("ç”Ÿæˆ keyfile "),i("a",{class:"header-anchor",href:"#ç”Ÿæˆ-keyfile","aria-label":'Permalink to "ç”Ÿæˆ keyfile"'},"â€‹")],-1)),l[15]||(l[15]=i("p",null,[i("a",{href:"https://www.mongodb.com/zh-cn/docs/manual/core/security-internal-authentication/#std-label-internal-auth-keyfile",target:"_blank",rel:"noreferrer"},"keyFile"),s(" ç”¨äº MongoDB å‰¯æœ¬é›†èŠ‚ç‚¹ä¹‹é—´çš„è®¤è¯, æ¯ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦æœ‰ç›¸åŒçš„ keyFile æ‰èƒ½åŠ å…¥å‰¯æœ¬é›†.")],-1)),l[16]||(l[16]=i("p",null,[s("keyFile çš„å†…å®¹å°±ç›¸å½“äºå¯†ç å•¦, ç”¨ä»€ä¹ˆè½¯ä»¶ç”Ÿæˆä¸€ä¸ªéƒ½è¡Œ, è¿™é‡Œå°±ä½¿ç”¨ "),i("code",null,"openssl"),s(":")],-1)),l[17]||(l[17]=i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"openssl"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," rand"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#C3E88D"}}," -base64"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 756"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#89DDFF"}}," >"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," keyfile")])])]),i("button",{class:"collapse"})],-1)),l[18]||(l[18]=i("p",null,[s("ç„¶åéœ€è¦æŠŠ "),i("code",null,"keyfile"),s(" åˆ†å‘åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Š, å¹¶ä¸”ä»…ä¸ºæ–‡ä»¶æ‰€æœ‰è€…æä¾›è¯»å–æƒé™.")],-1)),l[19]||(l[19]=i("h3",{id:"ä¿®æ”¹-keyfile-æƒé™",tabindex:"-1"},[s("ä¿®æ”¹ keyfile æƒé™ "),i("a",{class:"header-anchor",href:"#ä¿®æ”¹-keyfile-æƒé™","aria-label":'Permalink to "ä¿®æ”¹ keyfile æƒé™"'},"â€‹")],-1)),l[20]||(l[20]=i("p",null,[s("å¦‚æœä½ æ˜¯åœ¨æœ¬æœºç›´æ¥å®‰è£…çš„ MongoDB, åªéœ€è¦ä½¿ç”¨ "),i("code",null,"chmod"),s(" ä¿®æ”¹æƒé™:")],-1)),l[21]||(l[21]=i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"chmod"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 400"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," keyfile")])])]),i("button",{class:"collapse"})],-1)),l[22]||(l[22]=i("p",null,[s("ä½†æ˜¯å¦‚æœä½¿ç”¨ Docker å®‰è£…, ä¸ä»…è¦æŠŠ "),i("code",null,"keyfile"),s(" æŒ‚è½½åˆ°å®¹å™¨å†…, è¿˜è¦è¿›å…¥å®¹å™¨æ¥ä¿®æ”¹æƒé™, å› ä¸ºå®¹å™¨å†…éƒ¨çš„æ–‡ä»¶æƒé™å’Œå¤–é¢æ˜¯ä¸ä¸€æ ·çš„!")],-1)),l[23]||(l[23]=i("p",null,[s("è¿™é‡Œæˆ‘æŠŠ keyfile æŒ‚è½½åˆ°äº† "),i("code",null,"/etc/mongo/keyfile")],-1)),l[24]||(l[24]=i("p",null,"ç„¶åè¿›å…¥å®¹å™¨ä¿®æ”¹æƒé™:",-1)),l[25]||(l[25]=i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"docker"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," exec"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#C3E88D"}}," -it"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#89DDFF"}}," <"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"container_i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"d"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#89DDFF"}},">"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /bin/bash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"chmod"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 400"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/keyfile")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"chown"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," 999:999"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/keyfile")])])]),i("button",{class:"collapse"})],-1)),l[26]||(l[26]=i("p",null,"ä¿®æ”¹å®Œæƒé™åæŠŠå®¹å™¨åœæ‰, å› ä¸ºæˆ‘ä»¬è¿˜è¦ä¿®æ”¹é…ç½®æ–‡ä»¶.",-1)),l[27]||(l[27]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"TIP"),i("span",{lang:"zh-CN"},"æç¤º")]),i("p",null,"æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦ä½¿ç”¨ç›¸åŒçš„ keyfile è¿›è¡Œä¸Šé¢ç›¸åŒçš„æ“ä½œ.")],-1)),l[28]||(l[28]=i("h2",{id:"é…ç½®å‰¯æœ¬é›†è®¤è¯",tabindex:"-1"},[s("é…ç½®å‰¯æœ¬é›†è®¤è¯ "),i("a",{class:"header-anchor",href:"#é…ç½®å‰¯æœ¬é›†è®¤è¯","aria-label":'Permalink to "é…ç½®å‰¯æœ¬é›†è®¤è¯"'},"â€‹")],-1)),l[29]||(l[29]=i("p",null,"é…ç½®å®Œäº†æ‰€æœ‰èŠ‚ç‚¹çš„ keyfile, ç°åœ¨æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶å¯ç”¨å‰¯æœ¬é›†, ä¾ç„¶æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶éƒ½è¦ä¿®æ”¹.",-1)),l[30]||(l[30]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker has-diff vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# mongod.conf")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# for documentation of all options, see:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   http://docs.mongodb.org/manual/reference/configuration-options/")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# Where and how to store data.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"storage"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  dbPath"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /data/db")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#  engine:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#  wiredTiger:")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# network interfaces")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"net"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  port"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 27017")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  bindIp"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 127.0.0.1")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# how the process runs")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"processManagement"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  timeZoneInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /usr/share/zoneinfo")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# where to write logging data.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# systemLog:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   destination: file")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   logAppend: true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   path: /var/log/mongodb/mongod.log")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"security"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  clusterAuthMode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," keyFile")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  authorization"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," enabled")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  keyFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/keyfile")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"replication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  replSetName"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"rs0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}}," # å‰¯æœ¬é›†åç§°")])])]),i("button",{class:"collapse"})],-1)),l[31]||(l[31]=i("p",null,"å¦‚æœæ˜¯åŒæœºæˆ¿æ‰€æœ‰èŠ‚ç‚¹ä½¿ç”¨å†…éƒ¨ç½‘ç»œçš„è¯, è¿™æ ·å°±å¯ä»¥ç›´æ¥å¯åŠ¨å‰¯æœ¬é›†äº†, ä½†æ˜¯æˆ‘çš„èŠ‚ç‚¹æ˜¯åˆ†å¸ƒåœ¨ä¸åŒåœ°åŒºçš„, æ‰€ä»¥è¿˜éœ€è¦å¼€æ”¾å¤–éƒ¨è¿æ¥.",-1)),l[32]||(l[32]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker has-highlighted vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# mongod.conf")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"net"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  port"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 27017")]),s(`
`),i("span",{class:"line highlighted warning"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  bindIp"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," 0.0.0.0")])])]),i("button",{class:"collapse"})],-1)),l[33]||(l[33]=i("p",null,"æ—¢ç„¶å¼€æ”¾äº†å¤–éƒ¨è¿æ¥, é‚£ä¹ˆå°±éœ€è¦å¯¹ä¼ è¾“ä½¿ç”¨ TLS åŠ å¯†.",-1)),l[34]||(l[34]=i("h2",{id:"é…ç½®-tls",tabindex:"-1"},[s("é…ç½® TLS "),i("a",{class:"header-anchor",href:"#é…ç½®-tls","aria-label":'Permalink to "é…ç½® TLS"'},"â€‹")],-1)),l[35]||(l[35]=i("h3",{id:"å‡†å¤‡è¯ä¹¦",tabindex:"-1"},[s("å‡†å¤‡è¯ä¹¦ "),i("a",{class:"header-anchor",href:"#å‡†å¤‡è¯ä¹¦","aria-label":'Permalink to "å‡†å¤‡è¯ä¹¦"'},"â€‹")],-1)),l[36]||(l[36]=i("p",null,[s("ä½¿ç”¨ TLS å°±éœ€è¦è¯ä¹¦, è¿™é‡Œä½¿ç”¨ "),i("code",null,"Let's Encrypt"),s(" çš„è¯ä¹¦.")],-1)),l[37]||(l[37]=i("p",null,"ç”³è¯·è¯ä¹¦çš„æ–¹å¼å’Œä¸ºç½‘ç«™ç”³è¯·è¯ä¹¦ä¸€æ ·, è¿™é‡Œä¸å†èµ˜è¿°, å¯ä»¥å‚è€ƒ:",-1)),l[38]||(l[38]=i("ul",null,[i("li",null,[i("a",{href:"https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noreferrer"},"Acme.sh Wiki")]),i("li",null,[i("a",{href:"/posts/acmessl/"},"ä½¿ç”¨ACMEç”³è¯·å¹¶é…ç½®SSLè¯ä¹¦")])],-1)),l[39]||(l[39]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"TIP"),i("span",{lang:"zh-CN"},"æç¤º")]),i("p",null,"ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªç­¾åè¯ä¹¦, ä½†å…¶å®è‡ªå·±ç»´æŠ¤ä¸€ä¸ª CA æ¯”ç”³è¯·ç¬¬ä¸‰æ–¹ CA çš„è¯ä¹¦éº»çƒ¦å¤šäº†, å¯ä»¥å‚è€ƒ:"),i("ul",null,[i("li",null,[i("a",{href:"/posts/grpc-and-protobuf-in-go-tls/"},"Go çš„ gRPC å’Œ Protocol Buffersâ€”TLS è®¤è¯")])]),i("p",null,"è€Œä¸”è‡ªç­¾åè¯ä¹¦ä¹Ÿä¸å¤Ÿå®‰å…¨.")],-1)),l[40]||(l[40]=i("p",null,[s("ä¸€èˆ¬æ¥è¯´, ç”³è¯·æˆåŠŸè¯ä¹¦ä¼šå¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶: "),i("code",null,"fullchain.pem"),s(" å’Œ "),i("code",null,"privkey.pem"),s(", åˆ†åˆ«æ˜¯è¯ä¹¦é“¾å’Œç§é’¥.")],-1)),l[41]||(l[41]=i("p",null,[s("ä½†æ˜¯ MongoDB è¿˜éœ€è¦ CA è¯ä¹¦, å¯ä»¥åœ¨ "),i("a",{href:"https://letsencrypt.org/certs/isrgrootx1.pem",target:"_blank",rel:"noreferrer"},"Letâ€™s Encrypt ISRG Root X1"),s(" ä¸‹è½½.")],-1)),l[42]||(l[42]=i("p",null,[s("æ¥ä¸‹æ¥éœ€è¦æŠŠ "),i("code",null,"fullchain.pem"),s(", "),i("code",null,"privkey.pem"),s(" 'åˆå¹¶' ä¸ºä¸€ä¸ªæ–‡ä»¶ (MongoDB è¦æ±‚çš„!)")],-1)),l[43]||(l[43]=i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#FFCB6B"}},"cat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," fullchain.pem"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," privkey.pem"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#89DDFF"}}," >"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," mongod.pem")])])]),i("button",{class:"collapse"})],-1)),l[44]||(l[44]=i("p",null,[s("å…¶å®å°±æ˜¯æŠŠ "),i("code",null,"fullchain.pem"),s(" å’Œ "),i("code",null,"privkey.pem"),s(" çš„å†…å®¹æ‹¼æ¥åˆ°ä¸€èµ·, å¾—åˆ°çš„ "),i("code",null,"mongod.pem"),s(" å°±æ˜¯ MongoDB éœ€è¦çš„è¯ä¹¦æ–‡ä»¶.")],-1)),l[45]||(l[45]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"å¯ä»¥ä½¿ç”¨æ³›åŸŸåè¯ä¹¦"),i("span",{lang:"zh-CN"},"å¯ä»¥ä½¿ç”¨æ³›åŸŸåè¯ä¹¦")]),i("p",null,"å¦‚æœä½ æ‰“ç®—æŠŠæ‰€æœ‰æœåŠ¡å™¨è§£æåˆ°ä¸€ä¸ªåŸŸåä¸Š, é‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ³›åŸŸåè¯ä¹¦, è¿™æ ·å°±ä¸ç”¨ä¸ºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å•ç‹¬ç”³è¯·è¯ä¹¦äº†.")],-1)),l[46]||(l[46]=i("h3",{id:"é…ç½®è¯ä¹¦",tabindex:"-1"},[s("é…ç½®è¯ä¹¦ "),i("a",{class:"header-anchor",href:"#é…ç½®è¯ä¹¦","aria-label":'Permalink to "é…ç½®è¯ä¹¦"'},"â€‹")],-1)),l[47]||(l[47]=i("p",null,[s("å‡†å¤‡å¥½æ¯ä¸ªèŠ‚ç‚¹è‡ªå·±çš„ "),i("code",null,"mongod.pem"),s(", æŠŠ CA æ ¹è¯ä¹¦ "),i("code",null,"isrgrootx1.pem"),s(" æ‹·è´ç»™æ¯ä¸€ä¸ªèŠ‚ç‚¹. æˆ‘è¿™é‡Œä»æ˜¯ç›´æ¥æŒ‚è½½åœ¨äº†å®¹å™¨çš„ "),i("code",null,"/etc/mongo/"),s(" ç›®å½•.")],-1)),l[48]||(l[48]=i("p",null,"ç„¶åä¿®æ”¹å®ƒä»¬çš„é…ç½®æ–‡ä»¶:",-1)),l[49]||(l[49]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker has-diff vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"net"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  port"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 27017")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  bindIp"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 0.0.0.0")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  tls"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    mode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," requireTLS")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    certificateKeyFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/mongod.pem")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    CAFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/isrgrootx1.pem")]),s(`
`),i("span",{class:"line diff add"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    allowConnectionsWithoutCertificates"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," true")])])]),i("button",{class:"collapse"})],-1)),l[50]||(l[50]=i("p",null,[s("å…³äº "),i("code",null,"net.tls"),s(" çš„é…ç½®è¯¦æƒ…å‚è€ƒ:")],-1)),l[51]||(l[51]=i("ul",null,[i("li",null,[i("a",{href:"https://www.mongodb.com/zh-cn/docs/manual/reference/configuration-options/#net.tls-options",target:"_blank",rel:"noreferrer"},"MongoDB TLS/SSL Configuration")])],-1)),l[52]||(l[52]=i("p",null,"é…ç½®å®Œè¯ä¹¦åå¯ä»¥å‡†å¤‡å¯åŠ¨å‰¯æœ¬é›†äº†.",-1)),l[53]||(l[53]=i("h2",{id:"å®Œæ•´-mongod-conf",tabindex:"-1"},[s("å®Œæ•´ mongod.conf "),i("a",{class:"header-anchor",href:"#å®Œæ•´-mongod-conf","aria-label":'Permalink to "å®Œæ•´ mongod.conf"'},"â€‹")],-1)),l[54]||(l[54]=i("div",{class:"language-yaml vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"yaml"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# mongod.conf")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# for documentation of all options, see:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"#   http://docs.mongodb.org/manual/reference/configuration-options/")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# Where and how to store data.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"storage"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  dbPath"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /data/db")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"net"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  port"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 27017")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  bindIp"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 0.0.0.0")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  tls"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    mode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," requireTLS")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    certificateKeyFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/mongodb.pem")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    CAFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/isrgrootx1.pem")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"    allowConnectionsWithoutCertificates"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#FF9CAC"}}," true")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#545454","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"# how the process runs")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"processManagement"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  timeZoneInfo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /usr/share/zoneinfo")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"security"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  clusterAuthMode"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," keyFile")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  authorization"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," enabled")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  keyFile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}}," /etc/mongo/keyfile")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"replication"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#F07178"}},"  replSetName"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"rs0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"')])])]),i("button",{class:"collapse"})],-1)),l[55]||(l[55]=i("h2",{id:"å¯åŠ¨å‰¯æœ¬é›†",tabindex:"-1"},[s("å¯åŠ¨å‰¯æœ¬é›† "),i("a",{class:"header-anchor",href:"#å¯åŠ¨å‰¯æœ¬é›†","aria-label":'Permalink to "å¯åŠ¨å‰¯æœ¬é›†"'},"â€‹")],-1)),l[56]||(l[56]=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"ç¤ºä¾‹èŠ‚ç‚¹å"),i("th",null,"åŸŸå")])]),i("tbody",null,[i("tr",null,[i("td",null,"Server A"),i("td",null,"servera.mongodb.example.com")]),i("tr",null,[i("td",null,"Server B"),i("td",null,"serverb.mongodb.example.com")]),i("tr",null,[i("td",null,"Server C"),i("td",null,"serverc.mongodb.example.com")])])],-1)),l[57]||(l[57]=i("p",null,[s("å¯åŠ¨æ‰€æœ‰èŠ‚ç‚¹, ç„¶åä½¿ç”¨æ”¯æŒçš„å®¢æˆ·ç«¯è¿æ¥ä½ æ‰“ç®—ä½œä¸ºä¸»èŠ‚ç‚¹çš„èŠ‚ç‚¹, ä½¿ç”¨ "),i("code",null,"rs.initiate()"),s(" åˆå§‹åŒ–å‰¯æœ¬é›†, ä»¥ "),i("code",null,"Server A"),s(" ä¸ºä¾‹:")],-1)),l[58]||(l[58]=i("div",{class:"warning custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"WARNING"),i("span",{lang:"zh-CN"},"æ³¨æ„")]),i("p",null,[s("åªåœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œ "),i("code",null,"rs.initiate()"),s("!")])],-1)),l[59]||(l[59]=i("div",{class:"language-js vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"js"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"rs"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#82AAFF"}},"initiate"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"( "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}},"   _id "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"rs0"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}},"   members"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}}," [")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      {"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," _id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},","),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," host"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"servera.mongodb.example.com:27017"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}}," },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      {"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," _id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},","),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," host"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"servera.mongodb.example.com:27017"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}}," },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"      {"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," _id"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#F78C6C"}}," 2"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},","),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#F07178"}}," host"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},":"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},' "'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"servera.mongodb.example.com:27017"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}}," }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"   ]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"}"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},")")])])]),i("button",{class:"collapse"})],-1)),l[60]||(l[60]=i("p",null,[s("æˆ–è€…, ä¹Ÿå¯ä»¥ä¸å‘ "),i("code",null,"rs.initiate()"),s(" ä¼ å…¥é…ç½®, è€Œæ˜¯åˆå§‹åŒ–åå†æ·»åŠ èŠ‚ç‚¹:")],-1)),l[61]||(l[61]=i("div",{class:"language-js vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"js"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"rs"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#82AAFF"}},"initiate"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"rs"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#82AAFF"}},"add"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"serverb.mongodb.example.com:27017"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"rs"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#89DDFF"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#82AAFF"}},"add"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#C3E88D"}},"serverc.mongodb.example.com:27017"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#89DDFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#EEFFFF"}},")")])])]),i("button",{class:"collapse"})],-1)),l[62]||(l[62]=i("p",null,"å‚è€ƒ:",-1)),l[63]||(l[63]=i("ul",null,[i("li",null,[i("a",{href:"https://www.mongodb.com/zh-cn/docs/manual/tutorial/deploy-replica-set/#deploy-a-replica-set-in-the-terminal",target:"_blank",rel:"noreferrer"},"åœ¨ç»ˆç«¯ä¸­éƒ¨ç½²å‰¯æœ¬é›†")]),i("li",null,[i("a",{href:"https://www.mongodb.com/zh-cn/docs/manual/tutorial/expand-replica-set/#procedures",target:"_blank",rel:"noreferrer"},"å°†æˆå‘˜æ·»åŠ åˆ°è‡ªç®¡ç†å‰¯æœ¬é›†")])],-1)),l[64]||(l[64]=i("p",null,[s("å¦‚æœä½ çš„æ“ä½œéƒ½æ­£ç¡®, é‚£è¿™é‡Œåº”è¯¥å·²ç»å¯åŠ¨æˆåŠŸäº† ğŸ˜‡. ä½¿ç”¨ "),i("code",null,"rs.status()"),s(" æŸ¥çœ‹å‰¯æœ¬é›†çŠ¶æ€:")],-1)),l[65]||(l[65]=i("figure",null,[i("img",{src:c,alt:"0",loading:"lazy",decoding:"async"})],-1)),l[66]||(l[66]=i("p",null,[i("code",null,"PRIMARY"),s(" å°±æ˜¯ä¸»èŠ‚ç‚¹, "),i("code",null,"SECONDARY"),s(" æ˜¯ä»èŠ‚ç‚¹.")],-1)),l[67]||(l[67]=i("p",null,[s("å¦‚æœä½ å‘ç°æœ‰å…¶ä»–çŠ¶æ€çš„èŠ‚ç‚¹, å¯ä»¥æŸ¥çœ‹ "),i("a",{href:"https://www.mongodb.com/zh-cn/docs/manual/reference/replica-states/",target:"_blank",rel:"noreferrer"},"å‰¯æœ¬é›†æˆå‘˜çŠ¶æ€"),s(" æ’æŸ¥é—®é¢˜.")],-1)),l[68]||(l[68]=i("h2",{id:"è¿æ¥å‰¯æœ¬é›†",tabindex:"-1"},[s("è¿æ¥å‰¯æœ¬é›† "),i("a",{class:"header-anchor",href:"#è¿æ¥å‰¯æœ¬é›†","aria-label":'Permalink to "è¿æ¥å‰¯æœ¬é›†"'},"â€‹")],-1)),l[69]||(l[69]=i("p",null,"åœ¨ä¸Šæ–‡, æˆ‘ä»¬è¿æ¥åˆ°äº†ä¸»èŠ‚ç‚¹æ¥åˆå§‹åŒ–å‰¯æœ¬é›†, å®ƒçš„è¿æ¥å­—ç¬¦ä¸²é€šå¸¸æ˜¯åƒè¿™æ ·çš„:",-1)),l[70]||(l[70]=i("div",{class:"language-text vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"text"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"mongodb://user:password@servera.mongodb.example.com:27017")])])]),i("button",{class:"collapse"})],-1)),l[71]||(l[71]=i("p",null,'ä½†è¿™æ ·å¹¶ä¸æ˜¯è¿æ¥åˆ°äº† "æ•´ä¸ª" å‰¯æœ¬é›†. æ˜¾ç„¶å¦‚æœä¸»èŠ‚ç‚¹æŒ‚äº†, è¿æ¥å°±ä¼šæ–­å¼€.',-1)),l[72]||(l[72]=i("p",null,"å…¶å® MongoDB å¯ä»¥ä½¿ç”¨å¤šæœåŠ¡å™¨è¿æ¥å­—ç¬¦ä¸², ä¾‹å¦‚:",-1)),l[73]||(l[73]=i("div",{class:"language-text vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"text"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"mongodb://user:pssword@servera.mongodb.example.com:27017,serverb.mongodb.example.com:27017,serverc.mongodb.example.com:27017/?replicaSet=rs0")])])]),i("button",{class:"collapse"})],-1)),l[74]||(l[74]=i("p",null,"æœåŠ¡å™¨ä¹‹é—´ç”¨é€—å·åˆ†éš”, è¿™æ ·å°±å¯ä»¥è¿æ¥åˆ°æ•´ä¸ªå‰¯æœ¬é›†äº†, å¦‚æœä¸»èŠ‚ç‚¹æŒ‚äº†, å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–èŠ‚ç‚¹.",-1)),l[75]||(l[75]=i("p",null,"ä½†æ˜¯è¿™æ ·çš„è¿æ¥å­—ç¬¦ä¸²å¤ªé•¿äº†, ååˆ†ä¸æ–¹ä¾¿, è¿™æ—¶å¯ä»¥ä½¿ç”¨ SRV è®°å½•æ¥è¿æ¥.",-1)),l[76]||(l[76]=i("h3",{id:"srv-è®°å½•",tabindex:"-1"},[s("SRV è®°å½• "),i("a",{class:"header-anchor",href:"#srv-è®°å½•","aria-label":'Permalink to "SRV è®°å½•"'},"â€‹")],-1)),l[77]||(l[77]=i("p",null,"SRV è®°å½•ï¼ˆService Recordï¼‰æ˜¯ä¸€ç§ DNS è®°å½•, ç”¨äºæŒ‡å®šç‰¹å®šæœåŠ¡åœ¨åŸŸä¸­çš„ä¸»æœºåå’Œç«¯å£å·. å¯ä»¥ç”¨äºè´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°, ä½¿å®¢æˆ·ç«¯å¯ä»¥åŠ¨æ€åœ°æŸ¥æ‰¾æä¾›ç‰¹å®šæœåŠ¡çš„æœåŠ¡å™¨.",-1)),l[78]||(l[78]=i("p",null,"SRV è®°å½•çš„è®¾ç½®éœ€è¦åœ¨ DNS æœåŠ¡å•†å¤„è®¾ç½®, ä»¥ Cloudflare ä¸ºä¾‹:",-1)),l[79]||(l[79]=i("figure",null,[i("img",{src:f,alt:"1",loading:"lazy",decoding:"async"})],-1)),l[80]||(l[80]=i("table",null,[i("thead",null,[i("tr",null,[i("th",null,"é€‰é¡¹"),i("th",null,"å€¼"),i("th",null,"è¯´æ˜")])]),i("tbody",null,[i("tr",null,[i("td",null,"Name"),i("td",null,"_mongodb._tcp.mongodbsrv"),i("td",null,[s("SRV è®°å½•çš„ Name ç”±æœåŠ¡åå’ŒåŸŸåç»„æˆ, "),i("code",null,"_mongodb._tcp"),s(" ä¸ºæœåŠ¡å, è¿™é‡Œ "),i("code",null,"mongodbsrv"),s(" æ˜¯äºŒçº§åŸŸå")])]),i("tr",null,[i("td",null,"Priority"),i("td",null,"0"),i("td",null,"ä¼˜å…ˆçº§, å¯¹äº MongoDB å‰¯æœ¬é›†ä¸éœ€è¦ç‰¹åˆ«è®¾ç½®")]),i("tr",null,[i("td",null,"Weight"),i("td",null,"1"),i("td",null,"æƒé‡, å¯¹äº MongoDB å‰¯æœ¬é›†ä¸éœ€è¦ç‰¹åˆ«è®¾ç½®")]),i("tr",null,[i("td",null,"Port"),i("td",null,"27017"),i("td",null,"ç«¯å£å·")]),i("tr",null,[i("td",null,"Target"),i("td",null,"servera.mongodb.example.com"),i("td",null,"ä¸»æœºå, å¡«å†™è§£æåˆ°èŠ‚ç‚¹çš„åŸŸå")])])],-1)),l[81]||(l[81]=i("p",null,"è¦ä¸ºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è®¾ç½® Name ç›¸åŒçš„ SRV è®°å½•å“¦.",-1)),l[82]||(l[82]=i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"TIP"),i("span",{lang:"zh-CN"},"æç¤º")]),i("p",null,"è®¾ç½® SRV è®°å½•çš„åŸŸåå’Œè§£æåˆ°èŠ‚ç‚¹ä½¿ç”¨çš„åŸŸåä¸ä¸€å®šè¦ç›¸åŒ")],-1)),l[83]||(l[83]=i("p",null,[s("å‡è®¾æˆ‘ä»¬è®¾ç½® SRV è®°å½•çš„åŸŸåæ˜¯ "),i("code",null,"example.com"),s(", æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ "),i("code",null,"mongodb+srv"),s(" çš„å­—ç¬¦ä¸²æ ¼å¼æ¥è¿æ¥å‰¯æœ¬é›†äº†:")],-1)),l[84]||(l[84]=i("div",{class:"language-text vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"text"),i("pre",{class:"shiki shiki-themes github-light material-theme-darker vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"mongodb+srv://user:password@mongodbsrv.example.com/?replicaSet=rs0")])])]),i("button",{class:"collapse"})],-1)),l[85]||(l[85]=i("p",null,"ğŸ‰",-1)),l[86]||(l[86]=i("h2",{id:"faq",tabindex:"-1"},[s("FAQ "),i("a",{class:"header-anchor",href:"#faq","aria-label":'Permalink to "FAQ"'},"â€‹")],-1)),l[87]||(l[87]=i("p",null,"ä¸€äº›å…¶ä»–çš„è‡ªé—®è‡ªç­”:",-1)),l[88]||(l[88]=i("ol",null,[i("li",null,[i("p",null,"ä¸ºä»€ä¹ˆé›†ç¾¤å†…è®¤è¯ä¸ä½¿ç”¨ X.509 è¯ä¹¦?"),i("p",null,[s("å¤ªéº»çƒ¦äº†, ä½¿ç”¨ X.509 åœ¨èŠ‚ç‚¹é—´è®¤è¯å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶, è¦åœ¨ "),i("code",null,"$external"),s(" æ•°æ®åº“ä¸­ä¸ºèŠ‚ç‚¹é…ç½®è§’è‰², è¿˜è¦è‡ªå·±ç»´æŠ¤ CA.")])]),i("li",null,[i("p",null,[s("é…ç½®ä¸­çš„ "),i("code",null,"tls.mode"),s(": "),i("code",null,"requireTLS"),s(" å’Œ "),i("code",null,"allowConnectionsWithoutCertificates"),s(": "),i("code",null,"true"),s(" æ˜¯ä¸æ˜¯å†²çªçš„?")]),i("p",null,[s("å¹¶ä¸, "),i("code",null,"requireTLS"),s(" æ˜¯è¦æ±‚å®¢æˆ·ç«¯ä½¿ç”¨ TLS è¿æ¥, "),i("code",null,"allowConnectionsWithoutCertificates"),s(" æ˜¯å…è®¸å®¢æˆ·ç«¯ä¸ä½¿ç”¨è¯ä¹¦è¿›è¡Œèº«ä»½éªŒè¯.")])]),i("li",null,[i("p",null,[s("ä¸ºä»€ä¹ˆä¸é…ç½® "),i("code",null,"net.tls.clusterFile"),s(" ?")]),i("p",null,"å› ä¸ºæˆ‘ä»¬å¯¹é›†ç¾¤å†…ä½¿ç”¨çš„æ˜¯å¯†é’¥æ–‡ä»¶ (keyfile) éªŒè¯."),i("p",null,[i("code",null,"clusterFile"),s(" ç”¨äºé›†ç¾¤å†…ä½¿ç”¨ X.509 è¯ä¹¦è¿›è¡Œèº«ä»½éªŒè¯.")]),i("p",null,[s("å³ä½¿é›†ç¾¤å†…ä½¿ç”¨ X.509 è¯ä¹¦éªŒè¯, ä¸é…ç½® "),i("code",null,"clusterFile"),s(", MongoDB ä¹Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ "),i("code",null,"certificateKeyFile"),s(" çš„è¯ä¹¦è¿›è¡ŒéªŒè¯.")])])],-1))]),"main-header":t(()=>[n(a.$slots,"main-header")]),"main-header-after":t(()=>[n(a.$slots,"main-header-after")]),"main-nav":t(()=>[n(a.$slots,"main-nav")]),"main-content":t(()=>[n(a.$slots,"main-content")]),"main-content-after":t(()=>[n(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[n(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[n(a.$slots,"main-nav-after")]),comment:t(()=>[n(a.$slots,"comment")]),footer:t(()=>[n(a.$slots,"footer")]),aside:t(()=>[n(a.$slots,"aside")]),"aside-custom":t(()=>[n(a.$slots,"aside-custom")]),default:t(()=>[n(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{M as default};
