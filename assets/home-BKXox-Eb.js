import{r as H,_ as M}from"./YunFooter.vue_vue_type_script_setup_true_lang-BzH1ppc2.js";import{d,o as t,b as s,g as u,r as S,E as Y,k as b,O as V,t as g,v as _,_ as D,au as E,q as f,x as w,F as B,j as L,n as C,f as h,c as k,i as $,av as z,e as A,D as F,s as R,af as P}from"./app-DYwnrrn0.js";const j={class:"yun-notice m-auto"},G=["innerHTML"],I=d({__name:"YunNotice",props:{content:{}},setup(m){return(e,o)=>(t(),s("div",j,[u("span",{innerHTML:e.content},null,8,G),S(e.$slots,"default")]))}}),O={class:"say"},q={key:0,class:"say-content animate-fade-in animate-iteration-1"},W={key:1,class:"say-author"},J={key:2,class:"say-from"},K=d({__name:"YunSay",setup(m){const e=Y(),o=b(""),a=b(""),r=b("");function v(){const c=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;c&&fetch(c).then(n=>{if(n.ok)n.json().then(l=>{if(e.value.say.hitokoto.enable)o.value=l.hitokoto,a.value=l.from_who,r.value=l.from;else{const i=l[Math.floor(Math.random()*l.length)];i.content?(o.value=i.content,a.value=i.author,r.value=i.from):o.value=i}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${n.status}`)}).catch(n=>{console.error(n.message)})}return V(()=>{v()}),(c,n)=>(t(),s("div",O,[o.value?(t(),s("span",q,g(o.value),1)):_("v-if",!0),a.value?(t(),s("span",W,g(a.value),1)):_("v-if",!0),r.value?(t(),s("span",J,g(r.value),1)):_("v-if",!0)]))}}),Q=d({__name:"YunGoDown",setup(m){function e(){const o=document.getElementById("yun-banner");o&&window.scrollTo({top:o.clientHeight,behavior:"smooth"})}return(o,a)=>(t(),s("button",{class:"go-down","aria-label":"go-down",onClick:e},a[0]||(a[0]=[u("div",{"i-ri-arrow-down-s-line":"","inline-flex":""},null,-1)])))}}),U={},X={class:"yun-cloud"};function Z(m,e){return t(),s("div",X,e[0]||(e[0]=[E('<svg class="waves" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" fill="var(--yun-c-cloud)"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg>',1)]))}const ee=D(U,[["render",Z]]),ne={class:"banner-line-container"},te={class:"banner-char-container"},oe={class:"char"},se={class:"banner-line-container bottom"},ae=d({__name:"YunBanner",setup(m){const e=Y(),o=f(()=>{const c=[];for(let n=0;n<e.value.banner.title.length;n++){const l=H(1.5,3.5);c.push(l)}return c}),a=f(()=>o.value.reduce((c,n)=>c+n,0)/2),r=f(()=>({"--banner-line-height":`calc(var(--banner-height, 100vh) / 2 - ${a.value}rem)`})),v=b(!0);return(c,n)=>{var y;const l=ee,i=Q;return t(),s("div",{id:"yun-banner",style:C(r.value)},[u("div",ne,[u("div",{class:w(["banner-line vertical-line-top",{active:v.value}])},null,2)]),u("div",te,[(t(!0),s(B,null,L(h(e).banner.title,(x,p)=>(t(),s("div",{key:p,class:"char-box"},[u("span",{class:w([p%2!==0?"char-right":"char-left"]),style:C({"--banner-char-size":`${o.value[p]}rem`})},[u("span",oe,g(x),1)],6)]))),128))]),u("div",se,[u("div",{class:w(["banner-line vertical-line-bottom",{active:v.value}])},null,2)]),(y=h(e).banner.cloud)!=null&&y.enable?(t(),k(l,{key:0})):_("v-if",!0),$(i)],4)}}}),le=d({__name:"home",setup(m){const e=z(),o=A(),a=F("home"),r=Y(),v=f(()=>o.path.startsWith("/page")),c=f(()=>{const n=r.value.notice;return n.enable&&(v.value?!n.hideInPages:!0)});return(n,l)=>{const i=P,y=ae,x=K,p=I,N=R("RouterView"),T=M;return t(),s("main",{class:w(["yun-main flex-center",h(a)&&!h(e).leftSidebar.isOpen?"pl-0":"md:pl-$va-sidebar-width"]),flex:"~ col",w:"full"},[$(i,{"show-hamburger":!0}),v.value?_("v-if",!0):(t(),s(B,{key:0},[h(r).banner.enable?(t(),k(y,{key:0})):_("v-if",!0),h(r).say.enable?(t(),k(x,{key:1,w:"full"})):_("v-if",!0)],64)),c.value?(t(),k(p,{key:1,content:h(r).notice.content,mt:"4"},null,8,["content"])):_("v-if",!0),S(n.$slots,"board"),S(n.$slots,"default",{},()=>[$(N)]),$(T)],2)}}});export{le as default};
